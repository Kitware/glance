!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(self,(function(){return(self.webpackChunkparaview_glance=self.webpackChunkparaview_glance||[]).push([[2],{445:function(e,t,n){"use strict";n.r(t),n.d(t,{createViewer:function(){return sa},getReader:function(){return Xn},importBase64Dataset:function(){return Jn},listReaders:function(){return Qn},listSupportedExtensions:function(){return ea},loadFiles:function(){return ta},openFiles:function(){return na},registerReader:function(){return aa},registerReadersToProxyManager:function(){return ia},setActiveProxyConfiguration:function(){return oa}});var a=n(525),i=n(572),r=n(576),o=n(526),s=n(531),l=n(313);a.Z.use(o.ZP);var c=l.Z.extractURLParameters().girderRoute||"https://data.kitware.com/api/v1",u=new s.ZP({apiRoot:c});u.fetchUser();var d={girderRest:u},p=n(670),v=(n(447),n(348)),f=n(451),g=n(453),m=n(454),y=n(353),h=n(455),b=n(456),x=n(457),w=n(458),P=n(33),_=n.n(P),S=n(8);function k(e,t){t.classHierarchy.push("vtkGlanceStateReader"),t.appState=null,e.parseAsArrayBuffer=function(n){return n&&n!==t.rawDataBuffer?(t.rawDataBuffer=n,(a=n,new Promise((function(e,t){var n=new(_());n.loadAsync(a).then((function(){n.forEach((function(n,a){n.match(/state\.json$/i)&&a.async("string").then((function(t){e(JSON.parse(t))})).catch(t)}))})).catch(t)}))).then((function(n){return t.appState=n,e.modified(),t.appState}))):Promise.resolve(t.appState);var a},e.requestData=function(){e.parseAsArrayBuffer(t.rawDataBuffer)}}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,n),S.ZP.obj(e,t),S.ZP.algo(e,t,0,1),S.ZP.get(e,t,["appState"]),k(e,t)}var C={newInstance:S.ZP.newInstance(O,"vtkGlanceStateReader"),extend:O},V=n(549),I=n(546),D=n(545),T=(n(459),n(17)),Z=n(460),$=n(10),M=n(355),L=n(104);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){return new Promise((function(t){var n=0,a=T.ZP.get("zip",{zipContent:e,callback:function(){var e=Z.ZP.newInstance({dataAccessHelper:a,startLODLoaders:!1});e.setUrl("index.json"),e.onReady((function(){if(++n===e.getScene().length){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.getMetadata());a.scene=e.getScene(),a.animationHandler=e.getAnimationHandler(),t(a)}}))}})}))}function B(e,t){var n=function(t){return function(e,t,n){return e[t]?(e[t][0]=Math.min(e[t][0],n[0]),e[t][1]=Math.max(e[t][1],n[1])):e[t]=n.slice(),e}(e,t.getName(),t.getRange(-1))};t.getPointData().getArrays().forEach(n),t.getCellData().getArrays().forEach(n)}function A(e,t){t.classHierarchy.push("vtkGlanceVtkJsReader"),e.parseAsArrayBuffer=function(n){return n&&n!==t.rawDataBuffer?(t.rawDataBuffer=n,R(n).then((function(n){var a=n.scene,i=n.camera,r=n.background,o=n.lookupTables,s=n.cameraViewPoints,l=n.animationHandler;return t.scene=a,t.camera=i,t.background=r,t.lookupTables=o,t.cameraViewPoints=s,t.animationHandler=l,e.modified(),t.scene}))):Promise.resolve(t.appState)},e.requestData=function(){e.parseAsArrayBuffer(t.rawDataBuffer)},e.setProxyManager=function(e){var n=e.getViews(),a={};t.scene.forEach((function(i){var r=i.source,o=i.mapper,s=i.actor,l=i.volume,c=i.name,u=i.volumeComponents,d=s?s.get("origin","scale","position"):{},p=l?l.get("origin","scale","position"):{},v=s?s.getProperty().get("representation","edgeVisibility","diffuseColor","pointSize","opacity"):{},f=l?l.getProperty().get("interpolationType","independantComponents","shade"):{},g=o.get("colorByArrayName","colorMode","scalarMode"),m=e.createProxy("Sources","TrivialProducer",{name:c});m.setInputAlgorithm(r,r.getOutputData().getClassName()),m.activate(),B(a,r.getOutputData());for(var y=0;y<n.length;y++){var h=n[y],b=e.getRepresentation(m,n[y]);if(b.setRescaleOnColorBy(!1),s&&function(){var e=b.getActors()[0];e&&(e.set(d),e.getProperty().set(v),e.getMapper().set(g),s.getTextures().forEach((function(t){e.addTexture(t)})))}(),l){var x=b.getVolumes()[0];x&&(x.set(p),x.getProperty().set(f))}var w="pointData";if(g.scalarMode===$.ZP.ScalarMode.USE_CELL_FIELD_DATA&&(w="cellData"),b.setColorBy(g.colorByArrayName,w),"default"===h.getName()&&(h.getCamera().set(t.camera),t.animationHandler&&t.animationHandler.addRenderer(h.getRenderer())),u){var P=b.getColorBy(),_=(0,I.Z)(P,1)[0],S=(0,I.Z)(u,1)[0],k=S.rgbTransferFunction,O=S.scalarOpacity,C=b.getLookupTableProxy(_),D=b.getPiecewiseFunctionProxy(_);if(k){C.setPresetName("-");var T=k.getMappingRange(),Z=(0,I.Z)(T,2),j=Z[0],R=Z[1];C.setDataRange(j,R),C.setMode(M.Z.Mode.Nodes),C.getLookupTable().setColorSpace(k.getColorSpace()),C.setNodes(k.get("nodes").nodes)}if(O){D.getPiecewiseFunction().setClamping(O.getClamping());var A=[],F=O.getRange();D.setDataRange.apply(D,(0,V.Z)(F));for(var E=F[1]-F[0],N=0;N<O.getSize();++N){var G=[];O.getNodeValue(N,G);var W=G[0],U=G[1],z=G[2],H=G[3];A.push({x:(W-F[0])/E,y:U,midpoint:z,sharpness:H})}D.setMode(L.Z.Mode.Nodes),D.setNodes(A)}}}var K=i.textureLODsDownloader;if(K){K.setStepFinishedCallback(e.renderAllViews);var Y=e.getReferenceByName("$store").state.views.maxTextureLODSize;K.setMaxTextureLODSize(Y),K.startDownloads()}var q=i.dataSetLODsLoader;if(q){q.setStepFinishedCallback((function(){var e=q.getCurrentSource();m.setInputAlgorithm(e,e.getOutputData().getClassName())})),q.startDownloads()}if(t.animationHandler&&e.getProxyInGroup("AnimationManager").length){var X=e.getProxyInGroup("AnimationManager")[0],J=e.createProxy("Animations","TimeStepAnimation");J.setInputAnimationHandler(t.animationHandler),X.addAnimation(J),X.onCurrentFrameChanged((function(){return e.renderAllViews()}))}})),Object.keys(a).forEach((function(t){var n=e.getLookupTable(t);n.setDataRange.apply(n,(0,V.Z)(a[t]))})),Object.keys(t.lookupTables||{}).forEach((function(n){var a=t.lookupTables[n],i=e.getLookupTable(n),r=i.getLookupTable(),o=a.nodes[0][0],s=a.nodes[a.nodes.length-1][0];i.setPresetName("-"),i.setDataRange(o,s),i.setMode(3),r.setColorSpace(a.colorSpace),i.setNodes(a.nodes.map((function(e){var t=(0,I.Z)(e,6);return{x:t[0],r:t[1],g:t[2],b:t[3],midpoint:t[4],sharpness:t[5]}})))})),e.renderAllViews()}}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,n),S.ZP.obj(e,t),S.ZP.get(e,t,["scene","camera","background","cameraViewPoints"]),A(e,t)}var E={newInstance:S.ZP.newInstance(F,"vtkGlanceVtkJsReader"),extend:F},N=n(461),G=0;function W(e,t){t.classHierarchy.push("vtkGlanceZipObjReader"),e.parseAsArrayBuffer=function(n){return n&&n!==t.rawDataBuffer?(t.rawDataBuffer=n,(a=n,i={obj:{},mtl:{},img:{}},r={},new Promise((function(e,t){var n=new(_());n.loadAsync(a).then((function(){var t=0;function a(){0===t&&(Object.keys(i.mtl).forEach((function(e){var t=i.mtl[e],n=e.split("/").filter((function(e,t,n){return t<n.length-1})).join("/");t.listImages().forEach((function(e){var a="".concat(n,"/").concat(e),r=i.img[a];r&&t.setImageSrc(e,r)}))})),Object.keys(i.obj).forEach((function(e){for(var t=e.replace(/\.obj$/,".mtl"),n=i.obj[e],a=i.mtl[t],o=n.getNumberOfOutputPorts(),s=0;s<o;s++){var l=n.getOutputData(s),c=l.getReferenceByName("name"),u="".concat(c,"__").concat(G++);r[u]={name:c,dataset:l,mtlReader:a}}})),e(r))}n.forEach((function(e,n){e.match(/\.obj$/i)&&(t++,n.async("string").then((function(n){var r=y.ZP.newInstance({splitMode:"usemtl"});r.parseAsText(n),i.obj[e]=r,t--,a()}))),e.match(/\.mtl$/i)&&(t++,n.async("string").then((function(n){var r=N.ZP.newInstance();r.parseAsText(n),i.mtl[e]=r,t--,a()}))),(e.match(/\.jpg$/i)||e.match(/\.png$/i))&&(t++,n.async("base64").then((function(n){var r=e.slice(-3).toLowerCase();i.img[e]="data:image/".concat(r,";base64,").concat(n),t--,a()})))}))})).catch(t)}))).then((function(n){return t.scene=n,e.modified(),t.scene}))):Promise.resolve(t.appState);var a,i,r},e.requestData=function(){e.parseAsArrayBuffer(t.rawDataBuffer)},e.setProxyManager=function(e){var n=e.getViews();Object.keys(t.scene).forEach((function(a){var i=t.scene[a],r=i.dataset,o=i.mtlReader,s=i.name,l=e.createProxy("Sources","TrivialProducer",{name:a});l.setInputData(r),l.activate();for(var c=0;c<n.length;c++){var u=e.getRepresentation(l,n[c]).getActors()[0];o&&s&&o.applyMaterialToActor(s,u)}})),e.renderAllViews()}}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,n),S.ZP.obj(e,t),S.ZP.get(e,t,["scene"]),W(e,t)}var z={newInstance:S.ZP.newInstance(U,"vtkGlanceZipObjReader"),extend:U},H=n(462),K=n(28);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var q={},X={readAsArrayBuffer:function(e,t){return H.Z.fetchBinary(e,t)},readAsText:function(e,t){return H.Z.fetchText({},e,t)}};function J(e){var t=e.name.toLowerCase(),n=Object.keys(q).find((function(e){return t.endsWith(e)}));return q[n]}var Q=null;var ee=document.createElement("input");function te(e){return new Promise((function(t,n){var a=J(e);if(a){var i=a.readMethod,r=new FileReader;r.onload=function(){var a,i,o;(a={fileName:e.name,data:r.result},i=a.fileName,o=a.data,new Promise((function(e,t){var n=J({name:i});if(n){var a=n.vtkReader,r=n.parseMethod,s=n.fileNameMethod,l=n.sourceType,c=a.newInstance();s&&c[s](i);try{var u=c[r](o);Promise.resolve(u).then((function(t){return e({dataset:t,reader:c,sourceType:l,name:i})})).catch(t)}catch(e){t(e)}}else t(new Error("No reader mapping"))}))).then((function(e){return t(e)})).catch((function(e){return n(e)}))},r[i](e)}else n(new Error("No reader mapping"))}))}function ne(e){for(var t=[],n=0;n<e.length;n+=1)t.push(te(e[n]));return Promise.all(t)}function ae(e,t){for(var n=[],a=function(a){var i=e[a],r=i.reader,o=i.sourceType,s=i.name,l=i.dataset,c=i.metadata,u=i.proxyKeys,d=null;if(r||l){var p=r&&r.getOutputData||l&&l.isA&&l.isA("vtkDataSet"),v="TrivialProducer";u&&u.meta&&"vtkLabelMap"===u.meta.glanceDataType&&(v="LabelMap");var f=p?t.createProxy("Sources",v,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:s},c)):null;l&&l.isA&&l.isA("vtkDataSet")?f.setInputData(l,o):r&&r.getOutputData?f.setInputAlgorithm(r,o):r&&r.setProxyManager?r.setProxyManager(t):console.error("No proper reader handler was found for ".concat(s)),f&&((0,K._3)(t,f),u&&Object.keys(u).forEach((function(e){f.setKey(e,u[e]),"onLoad"===e&&u[e](f)}))),r&&r.getCameraViewPoints&&r.getCameraViewPoints()&&t.getReferenceByName("$store").dispatch("setCameraViewPoints",r.getCameraViewPoints()),d=f}n.push(d)},i=0;i<e.length;i+=1)a(i);return t.renderAllViews(),n}ee.setAttribute("type","file"),ee.setAttribute("multiple","multiple"),ee.addEventListener("change",(function(e){Q&&Q(e.target.files),Q=null}));var ie={downloadDataset:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(a,i){var r=J({name:e});if(!r)throw new Error("No reader found for ".concat(e));var o=r.readMethod;X[o](t,n).then((function(t){if(!t)throw new Error("No data for ".concat(e));a(new File([t],e))})).catch(i)}))},listReaders:function(){return Object.keys(q).map((function(e){return{name:q[e].name,ext:e}}))},listSupportedExtensions:function(){return Object.keys(q)},importBase64Dataset:function(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:512,i=[],r=atob(t),o=0;o<r.length;o+=a){for(var s=r.slice(o,o+a),l=new Uint8Array(s.length),c=0;c<s.length;c++)l[c]=s.charCodeAt(c);i.push(l)}var u=new Blob(i,{type:"application/octet-stream"}),d=new File([u],e);return n?(ne([d]).then((function(e){ae(e,n)})),Promise.resolve("loading")):ne([d])},loadFiles:ne,loadFileSeries:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new Promise((function(a,i){if(e.length){var r=q[t];if(r){var o=r.vtkReader,s=r.fileSeriesMethod,l=r.fileNameMethod,c=r.sourceType,u=o.newInstance();if(l&&u[l](n),s){var d=u[s](e);Promise.resolve(d).then((function(e){return a({dataset:e,reader:u,sourceType:c,name:n})}))}else i(new Error("No file series method available"))}else i(new Error("No file series reader mapping for ".concat(t)))}else a()}))},openFiles:function(e,t){Q=t,ee.setAttribute("accept",e.map((function(e){return".".concat(e)})).join(",")),ee.value=null,ee.click()},registerReader:function(e){var t=e.extension,n=e.name,a=e.vtkReader,i=e.readMethod,r=e.parseMethod,o=e.fileNameMethod,s=e.fileSeriesMethod,l=e.sourceType,c=e.binary;q[t]={name:n,vtkReader:a,readMethod:i||c?"readAsArrayBuffer":"readAsText",parseMethod:r||c?"parseAsArrayBuffer":"parseAsText",fileNameMethod:o,fileSeriesMethod:s,sourceType:l}},registerReadersToProxyManager:ae};ie.registerReader({extension:"glance",name:"Glance State Reader",vtkReader:C,binary:!0}),ie.registerReader({extension:"obz",name:"OBJ bundle",vtkReader:z,binary:!0}),ie.registerReader({extension:"vtkjs",name:"vtkjs",vtkReader:E,binary:!0}),ie.registerReader({extension:"vtp",name:"Polydata Reader",vtkReader:f.ZP,binary:!0}),ie.registerReader({extension:"vti",name:"ImageData Reader",vtkReader:g.ZP,binary:!0}),ie.registerReader({extension:"stl",name:"STL Binary Reader",vtkReader:m.ZP,binary:!0}),ie.registerReader({extension:"obj",name:"OBJ Reader",vtkReader:y.ZP,binary:!1}),ie.registerReader({extension:"pdb",name:"PDB Reader",vtkReader:h.ZP,binary:!1,sourceType:"vtkMolecule"}),ie.registerReader({extension:"glyph",name:"Glyph Data Reader",vtkReader:x.ZP,binary:!1,sourceType:"Glyph"}),ie.registerReader({extension:"skybox",name:"Skybox Data Reader",vtkReader:w.ZP,binary:!0,sourceType:"Skybox"}),ie.registerReader({extension:"json",name:"JSON Reader",vtkReader:x.ZP,binary:!1}),ie.registerReader({extension:"ply",name:"PLY Reader",vtkReader:b.ZP,binary:!0});n(356);var re=n(125),oe=n(497),se=n(501),le=n(502),ce=n(503),ue=n(504),de=n(505),pe=n(349),ve=n(506),fe=n(423),ge=n(30),me=n(508),ye=n(509);function he(e,t){t.classHierarchy.push("vtkCropWidgetProp"),t.representations.filter((function(e){return e.isA("vtkOutlineContextRepresentation")})).forEach((function(e){return e.getActor().getProperty().set({ambient:1,diffuse:0})})),t.widgetState.getAllNestedStates().filter((function(e){return!!e.setScale1})).forEach((function(e){return e.setScale1(20)}))}var be=n(13);function xe(e,t){t.classHierarchy.push("vtkCropWidget"),t.behavior=S.ZP.chain(t.behavior,he),t.methodsToLink=t.methodsToLink||[],t.methodsToLink.push("handleScale"),e.getRepresentationsForViewType=function(e){switch(e){case be.cO.DEFAULT:case be.cO.GEOMETRY:case be.cO.SLICE:case be.cO.VOLUME:}return[{builder:ge.ZP,labels:["handles"],initialValues:{scaleInPixels:!0}},{builder:me.ZP,labels:["corners"]}]}}var we={};function Pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,we,n),ye.ZP.extend(e,t,n),xe(e,t)}var _e={newInstance:S.ZP.newInstance(Pe,"vtkCropWidget"),extend:Pe},Se=n(510),ke=n(433);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ce(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),a=[],i=null;e.handleMouseMove=function(e){var t=n.handleMouseMove(e);return i=e,t},e.delete=function(){for(n.delete();a.length;)a.pop().unsubscribe()},a.push(t.manipulator.onModified((function(){i&&n.handleMouseMove(i)})))}function Ve(e,t){(0,ke.Z)(e,t),Ce(e,t)}var Ie=n(37);var De=n(114),Te=De.Z.createSvgElement;function Ze(e,t){t.classHierarchy.push("vtkSVGCircleHandleRepresentation"),e.render=function(){for(var n=e.getRepresentationStates(),a=[],i=0;i<n.length;i++)a.push(n[i].getOrigin());return e.worldPointsToPixelSpace(a).then((function(e){for(var a=e.coords,i=e.windowSize[1],r=Te("g"),o=0;o<a.length;o++){var s=n[o],l=a[o],c=l[0],u=i-l[1];s.isVisible&&!s.isVisible()||function(){var e=Te("circle");Object.keys(t.circleProps||{}).forEach((function(n){return e.setAttribute(n,t.circleProps[n])})),e.setAttribute("cx",c),e.setAttribute("cy",u),r.appendChild(e)}()}return r}))}}var $e={circleProps:{r:8,stroke:"green","stroke-width":3,fill:"transparent"}};function Me(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,$e,n),De.Z.extend(e,t,n),S.ZP.setGet(e,t,["circleProps"]),Ze(e,t)}var Le={extend:Me,newInstance:S.ZP.newInstance(Me,"vtkSVGCircleHandleRepresentation")},je=De.Z.createSvgElement;function Re(e,t){t.classHierarchy.push("vtkSVGLineRepresentation"),e.render=function(n){for(var a=e.getRepresentationStates(n),i=[],r=0;r<a.length;r++){var o=a[r];o.isVisible&&!o.isVisible()||i.push(o.getOrigin())}return e.worldPointsToPixelSpace(i).then((function(e){for(var n=e.coords,a=e.windowSize[1],i=je("g"),r=function(e){var r=n[e],o=n[e+1],s=r[0],l=a-r[1],c=o[0],u=a-o[1],d=je("line");Object.keys(t.lineProps||{}).forEach((function(e){return d.setAttribute(e,t.lineProps[e])})),d.setAttribute("x1",s),d.setAttribute("y1",l),d.setAttribute("x2",c),d.setAttribute("y2",u),i.appendChild(d)},o=0;o<n.length-1;o++)r(o);return i}))}}var Be={lineProps:{stroke:"green","stroke-width":2}};function Ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Be,n),De.Z.extend(e,t,n),S.ZP.setGet(e,t,["lineProps"]),Re(e,t)}var Fe={extend:Ae,newInstance:S.ZP.newInstance(Ae,"vtkSVGLineRepresentation")},Ee=n(357),Ne=De.Z.createSvgElement;function Ge(e){var t=(0,Ee.KO)(e,2);return t>0?[e[0]/t,e[1]/t]:[0,0]}function We(e,t){t.classHierarchy.push("vtkSVGLabelRepresentation"),e.render=function(n){var a=e.getRepresentationStates(n),i=a[t.textStateIndex],r=[];!i||i.isVisible&&!i.isVisible()||r.push(i.getOrigin());var o=a[t.textStateIndex-1];!o||o.isVisible&&!o.isVisible()||r.push(o.getOrigin());var s=a[t.textStateIndex+1];return!s||s.isVisible&&!s.isVisible()||r.push(s.getOrigin()),e.worldPointsToPixelSpace(r).then((function(e){var n=e.coords[0],a=e.windowSize[1],i=Ne("text");if(Object.keys(t.textProps||{}).forEach((function(e){return i.setAttribute(e,t.textProps[e])})),n){var r=0,o=1;if(1===e.coords.length&&(r=1),2===e.coords.length)e.coords[1][1]-n[1]>0&&(o=-1);else if(3===e.coords.length){var s=e.coords[1],l=e.coords[2],c=Ge([s[0]-n[0],s[1]-n[1]]),u=Ge([l[0]-n[0],l[1]-n[1]]);r=Math.sign(-(c[0]+u[0]))||1,o=Math.sign(-(c[1]+u[1]))||1}var d=1===(o*=-1)?"hanging":"baseline",p=1===r?"start":"end";i.setAttribute("x",n[0]),i.setAttribute("y",a-n[1]),i.setAttribute("dx",t.offset*r),i.setAttribute("dy",t.offset*o),i.setAttribute("alignment-baseline",d),i.setAttribute("text-anchor",p),i.textContent=t.text}return i}))}}var Ue={text:"Label",textStateIndex:0,offset:12,textProps:{fill:"#ff0000"}};function ze(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ue,n),De.Z.extend(e,t,n),S.ZP.setGet(e,t,["textStateIndex","textProps","text"]),We(e,t)}var He={extend:ze,newInstance:S.ZP.newInstance(ze,"vtkSVGLabelRepresentation")};function Ke(e,t){var n;t.classHierarchy.push("vtkAngle2DWidget"),t.methodsToLink=[].concat((0,V.Z)(null!==(n=t.methodsToLink)&&void 0!==n?n:[]),["circleProps","lineProps","textProps","text","textStateIndex"]),t.behavior=Ve,t.widgetState=Ie.Z.createBuilder().addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible"],name:"moveHandle",initialValues:{scale1:50,origin:[-1,-1,-1],visible:!1}}).addDynamicMixinState({labels:["handles"],mixins:["origin","color","scale1"],name:"handle",initialValues:{scale1:50,origin:[-1,-1,-1]}}).build(),e.getRepresentationsForViewType=function(e){switch(e){case be.cO.DEFAULT:case be.cO.GEOMETRY:case be.cO.SLICE:case be.cO.VOLUME:}return[{builder:ge.ZP,labels:["handles"],initialValues:{scaleInPixels:!0}},{builder:ge.ZP,labels:["moveHandle"],initialValues:{scaleInPixels:!0}},{builder:Le,labels:["handles","moveHandle"]},{builder:Fe,labels:["handles","moveHandle"]},{builder:He,labels:["handles"]}]}}var Ye={};function qe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ye,n),Se.ZP.extend(e,t,n),S.ZP.setGet(e,t,["manipulator"]),Ke(e,t)}var Xe={newInstance:S.ZP.newInstance(qe,"vtkAngle2DWidget"),extend:qe},Je=n(511),Qe=n(434);function et(e,t){(0,Qe.Z)(e,t),Ce(e,t)}function tt(e,t){var n;t.classHierarchy.push("vtkDistance2DWidget"),t.methodsToLink=[].concat((0,V.Z)(null!==(n=t.methodsToLink)&&void 0!==n?n:[]),["circleProps","lineProps","textProps","text","textStateIndex"]),t.behavior=et,t.widgetState=Ie.Z.createBuilder().addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible"],name:"moveHandle",initialValues:{scale1:50,origin:[0,0,0],visible:!1}}).addDynamicMixinState({labels:["handles"],mixins:["origin","color","scale1"],name:"handle",initialValues:{scale1:50,origin:[0,0,0]}}).build(),e.getRepresentationsForViewType=function(e){switch(e){case be.cO.DEFAULT:case be.cO.GEOMETRY:case be.cO.SLICE:case be.cO.VOLUME:}return[{builder:ge.ZP,labels:["handles"],initialValues:{scaleInPixels:!0}},{builder:ge.ZP,labels:["moveHandle"],initialValues:{scaleInPixels:!0}},{builder:Le,labels:["handles","moveHandle"]},{builder:Fe,labels:["handles","moveHandle"]},{builder:He,labels:["handles"]}]}}var nt={};function at(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,nt,n),Je.ZP.extend(e,t,n),tt(e,t)}var it={newInstance:S.ZP.newInstance(at,"vtkDistance2DWidget"),extend:at},rt=n(58),ot=n(59);function st(e,t){t.classHierarchy.push("vtkDistanceWidgetProp");var n=null;function a(e){return e.altKey||e.controlKey||e.shiftKey}e.setDisplayCallback=function(e){return t.representations[0].setDisplayCallback(e)},e.handleLeftButtonPress=function(i){if(!t.activeState||!t.activeState.getActive()||!t.pickable||a(i))return S.ZP.VOID;if(t.activeState===t.widgetState.getMoveHandle()&&t.widgetState.getHandleList().length<1){var r=t.widgetState.getMoveHandle(),o=t.widgetState.addHandle();o.setOrigin.apply(o,(0,V.Z)(r.getOrigin())),o.setColor(r.getColor()),o.setScale1(r.getScale1())}else n=!0,t.openGLRenderWindow.setCursor("grabbing"),t.interactor.requestAnimation(e);return e.invokeStartInteractionEvent(),S.ZP.EVENT_ABORT},e.handleMouseMove=function(i){if(t.hasFocus&&1===t.widgetState.getHandleList().length)return t.widgetManager.releaseFocus(),S.ZP.VOID;if(t.pickable&&t.manipulator&&t.activeState&&t.activeState.getActive()&&!a(i)){var r=t.manipulator.handleEvent(i,t.openGLRenderWindow);if(r.length&&(t.activeState===t.widgetState.getMoveHandle()||n))return t.activeState.setOrigin(r),e.invokeInteractionEvent(),S.ZP.EVENT_ABORT}return S.ZP.VOID},e.handleLeftButtonRelease=function(){n&&t.pickable?(t.openGLRenderWindow.setCursor("pointer"),t.widgetState.deactivate(),t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent()):t.activeState!==t.widgetState.getMoveHandle()&&t.widgetState.deactivate(),(t.hasFocus&&!t.activeState||t.activeState&&!t.activeState.getActive())&&e.invokeEndInteractionEvent(),n=!1},e.grabFocus=function(){!t.hasFocus&&t.widgetState.getHandleList().length<1&&(t.activeState=t.widgetState.getMoveHandle(),t.activeState.activate(),t.activeState.setVisible(!0),t.interactor.requestAnimation(e),e.invokeStartInteractionEvent()),t.hasFocus=!0},e.loseFocus=function(){t.hasFocus&&(t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent()),t.widgetState.deactivate(),t.widgetState.getMoveHandle().deactivate(),t.widgetState.getMoveHandle().setVisible(!1),t.activeState=null,t.hasFocus=!1,t.widgetManager.enablePicking(),t.interactor.render()}}function lt(e,t){t.classHierarchy.push("vtkDistanceWidget"),t.methodsToLink=["activeScaleFactor","activeColor","useActiveColor","defaultScale","circleProps","textProps","text","textStateIndex","handleScale"],t.behavior=st,t.widgetState=Ie.Z.createBuilder().addStateFromMixin({labels:["moveHandle"],mixins:["origin","color","scale1","visible"],name:"moveHandle",initialValues:{scale1:50,origin:[0,0,0],visible:!1}}).addDynamicMixinState({labels:["handles"],mixins:["origin","color","scale1"],name:"handle",initialValues:{scale1:50,origin:[0,0,0]}}).build(),e.getRepresentationsForViewType=function(e){switch(e){case be.cO.DEFAULT:case be.cO.GEOMETRY:case be.cO.SLICE:case be.cO.VOLUME:}return[{builder:ge.ZP,labels:["handles"],initialValues:{scaleInPixels:!0}},{builder:ge.ZP,labels:["moveHandle"]},{builder:Le,labels:["handles","moveHandle"]},{builder:He,labels:["handles"]}]},t.widgetState.onBoundsChange((function(e){var n=[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])];t.widgetState.getMoveHandle().setOrigin(n)})),t.manipulator=ot.ZP.newInstance()}var ct={};function ut(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ct,n),rt.ZP.extend(e,t,n),S.ZP.setGet(e,t,["manipulator"]),lt(e,t)}var dt={newInstance:S.ZP.newInstance(ut,"vtkTextWidget"),extend:ut},pt=n(512),vt=n(435);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gt(e,t){t.classHierarchy.push("vtkCustomSliceRepresentationProxy");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.setOpacity=function(e){e>=0&&e<=1&&n.setOpacity(e)&&t.property.setOpacity(e)},e.setColorBy=function(a,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(n.setColorBy(a,i,r),null!==a&&t.useColorByForColor||t.property.setRGBTransferFunction(0,null),null!==a&&t.useColorByForOpacity||t.property.setPiecewiseFunction(0,null),a&&i){if(t.useColorByForColor){var o=e.getLookupTableProxy(a);t.property.setRGBTransferFunction(0,o.getLookupTable())}if(t.useColorByForOpacity){var s=e.getPiecewiseFunctionProxy(a);t.property.setPiecewiseFunction(0,s.getPiecewiseFunction())}}},e.setUseColorByForColor=function(t){if(n.setUseColorByForColor(t)){var a=e.getColorBy();e.setColorBy.apply(e,(0,V.Z)(a))}},e.setUseColorByForOpacity=function(t){if(n.setUseColorByForOpacity(t)){var a=e.getColorBy();e.setColorBy.apply(e,(0,V.Z)(a))}}}var mt={opacity:1,useColorByForColor:!1,useColorByForOpacity:!1};function yt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,mt,n),vt.ZP.extend(e,t),S.ZP.setGet(e,t,["opacity","useColorByForColor","useColorByForOpacity"]),gt(e,t)}var ht={newInstance:S.ZP.newInstance(yt,"vtkCustomSliceRepresentationProxy"),extend:yt},bt=n(514);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function wt(e,t){t.classHierarchy.push("vtkCustomVolumeRepresentationProxy");var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);e.setColorBy=function(a,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(n.setColorBy(a,i,r),null!==a&&t.sliceUseColorByForColor||t.propertySlices.setRGBTransferFunction(0,null),null!==a&&t.sliceUseColorByForOpacity||t.propertySlices.setPiecewiseFunction(0,null),a&&i){if(t.sliceUseColorByForColor){var o=e.getLookupTableProxy(a);t.propertySlices.setRGBTransferFunction(0,o.getLookupTable())}if(t.sliceUseColorByForOpacity){var s=e.getPiecewiseFunctionProxy(a);t.propertySlices.setPiecewiseFunction(0,s.getPiecewiseFunction())}}},e.setSliceOpacity=function(e){e>=0&&e<=1&&n.setSliceOpacity(e)&&t.propertySlices.setOpacity(e)},e.setSliceUseColorByForColor=function(t){if(n.setSliceUseColorByForColor(t)){var a=e.getColorBy();e.setColorBy.apply(e,(0,V.Z)(a))}},e.setSliceUseColorByForOpacity=function(t){if(n.setSliceUseColorByForOpacity(t)){var a=e.getColorBy();e.setColorBy.apply(e,(0,V.Z)(a))}},e.setIs2DVolume=function(t){n.setIs2DVolume(t),t&&(e.setSliceUseColorByForColor(!0),e.setSliceUseColorByForOpacity(!0))}}var Pt={sliceOpacity:1,sliceUseColorByForColor:!1,sliceUseColorByForOpacity:!1};function _t(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Pt,n),bt.ZP.extend(e,t),S.ZP.setGet(e,t,["sliceOpacity","sliceUseColorByForColor","sliceUseColorByForOpacity"]),wt(e,t)}var St={newInstance:S.ZP.newInstance(_t,"vtkCustomVolumeRepresentationProxy"),extend:_t},kt=n(108),Ot=n(109),Ct=n(36),Vt=n(44),It=n(54);function Dt(e,t){t.classHierarchy.push("vtkLabelMapVolumeRepProxy");var n=(0,K.y5)();function a(e){var n=e.getColorMap(),a=Vt.ZP.newInstance(),i=It.ZP.newInstance();Object.keys(n).forEach((function(e){var t=Number(e);a.addRGBPoint.apply(a,[t].concat((0,V.Z)(n[e].slice(0,3).map((function(e){return e/255}))))),i.addPoint(t,n[e][3]/255)})),t.property.setRGBTransferFunction(0,a),t.property.setScalarOpacity(0,i);var r=Math.max.apply(Math,(0,V.Z)(e.getDimensions()));t.property.setScalarOpacityUnitDistance(0,Math.sqrt(r));var o=e.getSpacing().map((function(e){return e*e})).reduce((function(e,t){return e+t}),0);t.mapper.setSampleDistance(o*Math.pow(2,-1.5))}t.mapper=Ot.ZP.newInstance(),t.volume=kt.ZP.newInstance(),t.property=t.volume.getProperty(),t.property.setInterpolationTypeToNearest(),t.sourceDependencies.push({setInputData:function(e){e?(n.sub(e.onModified((function(){return a(e)}))),a(e),t.mapper.setInputData(e)):n.unsub()}}),t.volume.setMapper(t.mapper),t.volumes.push(t.volume),e.setVisibility=function(e){t.volume.setVisibility(e)},e.getVisibility=function(){return t.volume.getVisibility()},e.isVisible=e.getVisibility,e.delete=S.ZP.chain(e.delete,(function(){n.unsub()}))}var Tt={};function Zt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Tt,n),Ct.Z.extend(e,t),Dt(e,t),S.ZP.proxyPropertyMapping(e,t,{volumeVisibility:{modelKey:"volume",property:"visibility"}})}var $t={newInstance:S.ZP.newInstance(Zt,"vtkLabelMapVolumeRepProxy"),extend:Zt},Mt=n(69).C.InterpolationType;function Lt(e,t){t.classHierarchy.push("vtkLabelMapSliceRepProxy");var n=(0,K.y5)();function a(e){var n=e.getColorMap(),a=Vt.ZP.newInstance(),i=It.ZP.newInstance();Object.keys(n).forEach((function(e){var t=Number(e);a.addRGBPoint.apply(a,[t].concat((0,V.Z)(n[e].slice(0,3).map((function(e){return e/255}))))),i.addPoint(t,n[e][3]/255)})),t.property.setRGBTransferFunction(a),t.property.setScalarOpacity(i)}t.property.setInterpolationType(Mt.NEAREST),e.setColorBy=function(){},e.delete=S.ZP.chain(e.delete,(function(){return n.unsub()})),t.sourceDependencies.push({setInputData:function(e){n.sub(e.onModified((function(){return a(e)}))),a(e)}})}var jt={};function Rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,jt,n),vt.ZP.extend(e,t),Lt(e,t)}var Bt={newInstance:S.ZP.newInstance(Rt,"vtkLabelMapSliceRepProxy"),extend:Rt};function At(e,t){t.classHierarchy.push("vtkWidgetProxy"),t.widget=t.factory.newInstance();var n=[],a=t.widget.getWidgetState().onModified((function(){return e.modified()})),i=new WeakSet;function r(e){t.proxyManager.getViews().forEach((function(t){var n=t.getReferenceByName("widgetManager");n&&e(t,n)}))}e.addToViews=function(){return r((function(e){var n=be.cO[t.viewTypes[e.getProxyName()]],a=function(e,t,n){var a=t.getReferenceByName("widgetManager");if(a){var i=a.addWidget(e,n);return a.enablePicking(),t.renderLater(),i}return null}(t.widget,e,n);a&&i.add(a)}))},e.removeFromViews=function(){return r((function(e){return function(e,t){var n=t.getReferenceByName("widgetManager");n&&(n.removeWidget(e),n.enablePicking(),t.renderLater())}(t.widget,e)}))},e.grabFocus=function(){return r((function(e,n){return n.grabFocus(t.widget)}))},e.releaseFocus=function(){return r((function(e,n){return n.releaseFocus(t.widget)}))},e.getViewWidget=function(e){var n=e.getReferenceByName("widgetManager");return n?t.widget.getWidgetForView({viewId:n.getViewId()}):null},e.getAllViewWidgets=function(){return t.proxyManager.getViews().map((function(t){return e.getViewWidget(t)})).filter(Boolean)},e.executeViewFuncs=function(t){r((function(a,i){var r=t[a.getProxyName()];if(r){var o=r(a,i,e.getViewWidget(a));if(Array.isArray(o))for(var s=0;s<o.length;s++)o[s]instanceof Function&&n.push(o[s]);else o instanceof Function&&n.push(o)}}))};var o=e.delete;e.delete=function(){a.unsubscribe();for(var e=0;e<n.length;e++)n[e]();t.widget.delete(),t.widget=null,o()}}var Ft={name:"",widget:null,factory:null,viewTypes:{}};function Et(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,Ft,n),S.ZP.obj(e,t),S.ZP.proxy(e,t),S.ZP.setGet(e,t,["name"]),S.ZP.get(e,t,["widget","viewTypes"]),At(e,t),S.ZP.proxyPropertyMapping(e,t,{widgetState:{modelKey:"widget",property:"widgetState"}})}var Nt={newInstance:S.ZP.newInstance(Et,"vtkWidgetProxy"),extend:Et},Gt=n(515),Wt=n(516);function Ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{class:e,options:zt({links:n,ui:t},a),props:i}},Kt=[{name:"colorBy",domain:{}},{name:"xSliceVisibility"},{name:"ySliceVisibility"},{name:"zSliceVisibility"},{name:"volumeVisibility"},{name:"sliceOpacity"},{name:"sliceUseColorByForColor"},{name:"sliceUseColorByForOpacity"},{name:"useShadow"},{name:"sampleDistance",domain:{min:0,max:1,step:.01}},{name:"edgeGradient",domain:{min:0,max:1,step:.01}},{name:"windowWidth",domain:{min:0,max:255,step:.01}},{name:"windowLevel",domain:{min:0,max:255,step:.01}},{name:"xSlice",domain:{min:0,max:255,step:1}},{name:"ySlice",domain:{min:0,max:255,step:1}},{name:"zSlice",domain:{min:0,max:255,step:1}}],Yt=[{name:"colorBy",domain:{}},{name:"color"},{name:"representation",domain:{items:[{text:"Surface",value:"Surface"},{text:"Surface with edges",value:"Surface with edges"},{text:"Wireframe",value:"Wireframe"},{text:"Points",value:"Points"}]}},{name:"opacity",domain:{min:0,max:1,step:.01}},{name:"interpolateScalarsBeforeMapping"},{name:"visibility"},{name:"pointSize",domain:{min:1,max:50}}],qt=[{name:"colorBy",domain:{}},{name:"useColorByForColor"},{name:"useColorByForOpacity"},{name:"visibility"},{name:"windowWidth",domain:{min:0,max:255,step:.01}},{name:"windowLevel",domain:{min:0,max:255,step:.01}},{name:"slice",domain:{min:0,max:255,step:1}},{name:"opacity",domain:{min:0,max:1,step:.01}}],Xt=[{name:"tolerance",domain:{min:0,max:.5,step:.01}},{name:"atomicRadiusScaleFactor",domain:{min:0,max:.5,step:.01}},{name:"bondRadius",domain:{min:0,max:.5,step:.01}},{name:"deltaBondFactor",domain:{min:0,max:.5,step:.01}},{name:"hideElements"}],Jt=[{name:"edgeVisibility"}],Qt=[{name:"name"},{name:"background",domain:{palette:[]}},{name:"orientationAxesVisibility"},{name:"presetToOrientationAxes",domain:{items:[{text:"XYZ",value:"default"},{text:"LPS",value:"lps"}]}}],en=[{name:"name"},{name:"background",domain:{palette:[]}},{name:"orientationAxesVisibility"},{name:"presetToOrientationAxes",domain:{items:[{text:"XYZ",value:"default"},{text:"LPS",value:"lps"}]}},{name:"annotationOpacity",domain:{min:0,max:1,step:.01}}],tn=[{name:"position"}],nn=[{link:"Visibility",property:"visibility",updateOnBind:!0},{link:"WW",property:"windowWidth",updateOnBind:!0},{link:"WL",property:"windowLevel",updateOnBind:!0},{link:"SliceX",property:"xSlice",updateOnBind:!0,type:"application"},{link:"SliceY",property:"ySlice",updateOnBind:!0,type:"application"},{link:"SliceZ",property:"zSlice",updateOnBind:!0,type:"application"},{link:"SliceOpacity",property:"sliceOpacity",updateOnBind:!0},{link:"UseSliceColor",property:"sliceUseColorByForColor",updateOnBind:!0},{link:"UseSliceOpacity",property:"sliceUseColorByForOpacity",updateOnBind:!0}],an=[{link:"GeometryColorBy",property:"colorBy",updateOnBind:!0},{link:"Representation",property:"representation",updateOnBind:!0},{link:"Opacity",property:"opacity",updateOnBind:!0},{link:"InterpolateScalarsBeforeMapping",property:"interpolateScalarsBeforeMapping",updateOnBind:!0},{link:"Visibility",property:"visibility",updateOnBind:!0},{link:"PointSize",property:"pointSize",updateOnBind:!0}],rn=[{link:"Visibility",property:"visibility",updateOnBind:!0},{link:"WW",property:"windowWidth",updateOnBind:!0},{link:"WL",property:"windowLevel",updateOnBind:!0},{link:"SliceOpacity",property:"opacity",updateOnBind:!0},{link:"UseSliceColor",property:"useColorByForColor",updateOnBind:!0},{link:"UseSliceOpacity",property:"useColorByForOpacity",updateOnBind:!0}],on=[{link:"Tolerance",property:"tolerance",updateOnBind:!0},{link:"AtomicRadiusScaleFactor",property:"atomicRadiusScaleFactor",updateOnBind:!0},{link:"BondRadius",property:"bondRadius",updateOnBind:!0},{link:"DeltaBondFactor",property:"deltaBondFactor",updateOnBind:!0},{link:"HideElements",property:"hideElements",updateOnBind:!0}],sn=[{link:"GlyphEdgeVisibility",property:"edgeVisibility",updateOnBind:!0}],ln=[{link:"SkyboxPosition",property:"position",updateOnBind:!0}],cn={View2D:{vtkPolyData:{name:"Geometry"},vtkImageData:{name:"Slice"},vtkLabelMap:{name:"LabelMapSlice"},vtkMolecule:{name:"Molecule"},Glyph:{name:"Glyph"},Skybox:{name:"Skybox"}},View3D:{vtkPolyData:{name:"Geometry"},vtkImageData:{name:"Volume"},vtkLabelMap:{name:"LabelMapVolume"},vtkMolecule:{name:"Molecule"},Glyph:{name:"Glyph"},Skybox:{name:"Skybox"}}};function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pn=Ht,vn=function(e){return e.options.activateOnCreate=!0,e},fn={View3D:"VOLUME",View2D_X:"SLICE",View2D_Y:"SLICE",View2D_Z:"SLICE"};function gn(e,t,n,a){return vn(pn(e,t,[{type:"application",link:"AnnotationOpacity",property:"annotationOpacity",updateOnBind:!0},{type:"application",link:"OrientationAxesVisibility",property:"orientationAxesVisibility",updateOnBind:!0},{type:"application",link:"OrientationAxesPreset",property:"presetToOrientationAxes",updateOnBind:!0},{type:"application",link:"OrientationAxesType",property:"orientationAxesType",updateOnBind:!0}],n,a))}var mn={Proxy:{definitions:{Proxy:{LookupTable:pn(ue.Z,[],[],{presetName:"Default (Cool to Warm)"}),PiecewiseFunction:pn(pe.Z)},Widgets:{Crop:pn(Nt,[],[],{factory:_e,viewTypes:fn}),Paint:pn(Nt,[],[],{factory:pt.ZP,viewTypes:fn}),Angle:pn(Nt,[],[],{factory:Xe,viewTypes:fn}),Ruler:pn(Nt,[],[],{factory:it,viewTypes:fn}),Text:pn(Nt,[],[],{factory:dt,viewTypes:fn})},Sources:{TrivialProducer:vn(pn(ve.ZP)),LabelMap:pn(ve.ZP)},Representations:{Geometry:pn(se.ZP,Yt,an),Skybox:pn(le.ZP,tn,ln),Slice:pn(ht,qt,rn),SliceX:pn(ht,qt,[{link:"SliceX",property:"slice",updateOnBind:!0,type:"application"}].concat(rn)),SliceY:pn(ht,qt,[{link:"SliceY",property:"slice",updateOnBind:!0,type:"application"}].concat(rn)),SliceZ:pn(ht,qt,[{link:"SliceZ",property:"slice",updateOnBind:!0,type:"application"}].concat(rn)),Volume:pn(St,Kt,nn),Molecule:pn(de.ZP,Xt,on),Glyph:pn(ce.ZP,Jt,sn),LabelMapVolume:pn($t,[],[]),LabelMapSlice:pn(Bt),LabelMapSliceX:pn(Bt,[],[{link:"SliceX",property:"slice",updateOnBind:!0,type:"application"}]),LabelMapSliceY:pn(Bt,[],[{link:"SliceY",property:"slice",updateOnBind:!0,type:"application"}]),LabelMapSliceZ:pn(Bt,[],[{link:"SliceZ",property:"slice",updateOnBind:!0,type:"application"}])},Views:{View3D:gn(fe.Z,Qt),View2D:gn(oe.ZP,en),View2D_X:gn(oe.ZP,en,{axis:0}),View2D_Y:gn(oe.ZP,en,{axis:1}),View2D_Z:gn(oe.ZP,en,{axis:2})},AnimationManager:{AnimationProxyManager:{class:Gt.Z}},Animations:{TimeStepAnimation:{class:Wt.Z}}},representations:{View3D:cn.View3D,View2D:cn.View2D,View2D_X:dn(dn({},cn.View2D),{},{vtkImageData:{name:"SliceX"},vtkLabelMap:{name:"LabelMapSliceX"}}),View2D_Y:dn(dn({},cn.View2D),{},{vtkImageData:{name:"SliceY"},vtkLabelMap:{name:"LabelMapSliceY"}}),View2D_Z:dn(dn({},cn.View2D),{},{vtkImageData:{name:"SliceZ"},vtkLabelMap:{name:"LabelMapSliceZ"}})},filters:{vtkPolyData:[],vtkImageData:[],vtkMolecule:[],Glyph:[]}}},yn=n(23);function hn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length>0;)e.pop().unsubscribe()}var bn=Symbol("PXM_SUBS"),xn=Symbol("PROXY_SUBS"),wn={install:function(e){e.mixin({beforeCreate:function(){var e=this.$options;this.$proxyManager=e.proxyManager||e.parent&&e.parent.$proxyManager},mounted:function(){var e=this;this.$options.proxyManagerHooks&&function(){var t=[],n={},a=e.$options.proxyManagerHooks;if(a.onProxyCreated||a.onProxyModified||a.onProxyDeleted||a.onProxyRegistrationChange){if(a.onProxyModified){for(var i=e.$proxyManager.getProxyGroups(),r=[],o=0;o<i.length;o++){var s=i[o];r=r.concat(e.$proxyManager.getProxyInGroup(s))}for(var l=0;l<r.length;l++){var c=r[l];n[c.getProxyId()]=c.onModified((function(t){return a.onProxyModified.call(e,t)}))}}t.push(e.$proxyManager.onProxyRegistrationChange((function(t){var i=t.action,r=t.proxyId,o=t.proxy;"register"===i?(a.onProxyCreated&&a.onProxyCreated.call(e,t),a.onProxyModified&&(n[r]=o.onModified((function(t){return a.onProxyModified.call(e,t)})))):"unregister"===i&&(r in n&&(n[r].unsubscribe(),delete n[r]),a.onProxyDeleted&&a.onProxyDeleted.call(e,t)),a.onProxyRegistrationChange&&a.onProxyRegistrationChange.call(e,t)})))}a.onActiveSourceChange&&t.push(e.$proxyManager.onActiveSourceChange((function(t){return S.ZP.setImmediate((function(){return a.onActiveSourceChange.call(e,t)}))}))),a.onActiveViewChange&&t.push(e.$proxyManager.onActiveViewChange((function(t){return S.ZP.setImmediate((function(){return a.onActiveViewChange.call(e,t)}))}))),e[bn]=t,e[xn]=n}()},beforeDestroy:function(){this[bn]&&hn(this[bn]),this[xn]&&(hn(Object.values(this[xn])),this[xn]={})}})}};var Pn={getViewType:function(e){return"".concat(e.getProxyName(),":").concat(e.getName())}},_n=n(359);function Sn(e){var t=_n.ZP.newInstance(e.get("direction","origin","spacing"));return t.setDimensions(e.getDimensions()),t.computeTransforms(),t.getPointData().setScalars(e.getPointData().getScalars()),t}function kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("vtkLabelMap"===t.glanceDataType){var n=Sn(e);return t.colorMap&&n.setColorMap(t.colorMap),n}return e}var On=n(4),Cn=n(19);function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(){return["zip","raw","glance","gz"].concat(ie.listSupportedExtensions())}function Tn(e){var t=e.lastIndexOf(".");return t>-1?e.substr(t+1).toLowerCase():""}function Zn(e,t){var n=Dn(),a=[];return e.folder(t).forEach((function(t,i){if(i.dir)a.push(Zn(e,t));else if(n.indexOf(Tn(i.name))>-1){var r=i.name.split("/"),o=r[r.length-1];a.push(e.file(i.name).async("blob").then((function(e){return new File([e],o)})))}})),a}var $n=function(e){var t=e.proxyManager,n=e.girder;return{namespaced:!0,state:{remoteFileList:[],fileList:[],loading:!1},getters:{anyErrors:function(e){return e.fileList.reduce((function(e,t){return e||"error"===t.state}),!1)}},mutations:{startLoading:function(e){e.loading=!0},stopLoading:function(e){e.loading=!1},resetQueue:function(e){e.fileList=[]},addToFileList:function(e,t){for(var n=0;n<t.length;n++){var a=t[n],i={state:"loading",name:a.name,ext:Tn(a.name),files:null,reader:null,extraInfo:null,remoteURL:null,withGirderToken:!1,proxyKeys:a.proxyKeys};"dicom"===a.type&&(i.files=a.list),"remote"===a.type&&Object.assign(i,{state:"needsDownload",remoteURL:a.remoteURL,remoteOpts:a.remoteOpts||{},withGirderToken:!!a.withGirderToken}),"regular"===a.type&&(i.files=[a.file]),e.fileList.push(i)}},setFileNeedsInfo:function(e,t){t>=0&&t<e.fileList.length&&(e.fileList[t].state="needsInfo",e.fileList[t].extraInfo=null)},setRemoteFile:function(e,t){var n=t.index,a=t.file;n>=0&&n<e.fileList.length&&(e.fileList[n].state="loading",e.fileList[n].files=[a])},setFileReader:function(e,t){var n=t.index,a=t.reader;a&&n>=0&&n<e.fileList.length&&(e.fileList[n].reader=a,e.fileList[n].state="ready")},setRawFileInfo:function(e,t){var n=t.index,a=t.info;a&&n>=0&&n<e.fileList.length&&(e.fileList[n].extraInfo=a,e.fileList[n].state="loading")},setFileError:function(e,t){var n=t.index,a=t.error;a&&n>=0&&n<e.fileList.length&&(e.fileList[n].error=a,e.fileList[n].state="error")},deleteFile:function(e,t){t>=0&&t<e.fileList.length&&e.fileList.splice(t,1)}},actions:{promptLocal:function(e){var t=e.dispatch,n=Dn();return new Promise((function(e,a){return ie.openFiles(n,(function(n){t("openFiles",Array.from(n)).then(e).catch(a)}))}))},resetQueue:function(e){(0,e.commit)("resetQueue")},deleteFile:function(e,t){(0,e.commit)("deleteFile",t)},openRemoteFiles:function(e,t){var n=e.commit,a=e.dispatch;return n("addToFileList",t.map((function(e){return{type:"remote",name:e.name,remoteURL:e.url,remoteOpts:e.options,withGirderToken:!!e.withGirderToken,proxyKeys:e.proxyKeys}}))),a("readAllFiles")},openFiles:function(e,t){var n=e.commit,a=e.dispatch,i=t.filter((function(e){return"zip"===Tn(e.name)}));if(i.length){var r=t.filter((function(e){return"zip"!==Tn(e.name)})),o=i.map((function(e){return _().loadAsync(e).then((function(e){return Promise.all(Zn(e))}))}));return Promise.all(o).then((function(e){return[].concat.apply(r,e)})).then((function(e){return a("openFiles",e)}))}var s=[],l=[];(t.forEach((function(e){"dcm"===Tn(e.name)?l.push(e):s.push(e)})),l.length)&&n("addToFileList",[{type:"dicom",name:l[0].name,list:l}]);return n("addToFileList",s.map((function(e){return{type:"regular",name:e.name,file:e}}))),a("readAllFiles")},readAllFiles:function(e){for(var t=e.dispatch,n=e.state,a=[],i=0;i<n.fileList.length;i++)a.push(t("readFileIndex",i));return Promise.all(a)},readFileIndex:function(e,t){var a=e.commit,i=e.dispatch,r=e.state,o=r.fileList[t],s=Promise.resolve();if("ready"===o.state||"error"===o.state)return s;if("needsDownload"===o.state&&o.remoteURL)o.withGirderToken&&(o.remoteOpts.headers=In(In({},o.remoteOpts.headers),{},{"Girder-Token":n.girderRest.token})),s=ie.downloadDataset(o.name,o.remoteURL,o.remoteOpts).then((function(e){return a("setRemoteFile",{index:t,file:e}),i("readFileIndex",t)})).catch((function(){throw new Error("Failed to download file")}));else if("raw"===o.ext)o.extraInfo&&(s=function(e,t){var n=t.dimensions,a=t.spacing,i=t.dataType;return new Promise((function(t,r){var o=new FileReader;o.onload=function(){var e=Cn.ZP.newInstance({spacing:a,extent:[0,n[0]-1,0,n[1]-1,0,n[2]-1]}),r=On.ZP.newInstance({name:"Scalars",values:new i.constructor(o.result)});e.getPointData().setScalars(r),t(e)},o.onerror=function(e){return r(e)},o.readAsArrayBuffer(e)}))}(o.files[0],o.extraInfo).then((function(e){a("setFileReader",{index:t,reader:{name:o.name,dataset:e}})}))),a("setFileNeedsInfo",t);else if("dcm"===o.ext)s=ie.loadFileSeries(o.files,"dcm",o.name).then((function(e){e&&a("setFileReader",{index:t,reader:e})}));else{if("glance"===o.ext)for(var l=0;l<t;l++){if("glance"===r.fileList[l].ext){var c=new Error("Cannot load multiple state files");a("setFileError",{index:t,error:c})}return s}s=ie.loadFiles(o.files).then((function(e){e&&1===e.length&&a("setFileReader",{index:t,reader:e[0]})}))}return s.catch((function(e){e&&a("setFileError",{index:t,error:e.message||"File load failure"})}))},setRawFileInfo:function(e,t){var n=e.commit,a=e.dispatch,i=t.index,r=t.info;return r?n("setRawFileInfo",{index:i,info:r}):n("setFileNeedsInfo",i),a("readFileIndex",i)},load:function(e){var n=e.state,a=e.commit,i=e.dispatch;a("startLoading");var r=n.fileList.filter((function(e){return"ready"===e.state})),o=Promise.resolve(),s=r.find((function(e){return"glance"===e.ext}));if(s){var l=s.reader.reader;o=o.then((function(){return l.parseAsArrayBuffer().then((function(){return i("restoreAppState",l.getAppState(),{root:!0})}))}))}return o=o.then((function(){for(var e=r.filter((function(e){return"glance"!==e.ext})),n=[],a=[],o=[],s=0;s<e.length;s++){var l=e[s];"vtkLabelMap"===(l.proxyKeys&&l.proxyKeys.meta||{}).glanceDataType?a.push(l):l.name.endsWith(".measurements.json")?o.push(l):n.push(l)}var c=function(e){for(var n=[],a=0;a<e.length;a++){var i=e[a],r=In(In({},i.reader),{},{metadata:i.reader.metadata||{}});i.remoteURL&&Object.assign(r.metadata,{url:i.remoteURL});var o=i.proxyKeys&&i.proxyKeys.meta;if(o){var s=r.reader,l=r.dataset,c=s&&s.getOutputData?s.getOutputData():l;Object.assign(r,{dataset:kn(c,o),reader:null})}var u=ie.registerReadersToProxyManager([In(In({},r),{},{proxyKeys:i.proxyKeys})],t);n=n.concat(u.filter(Boolean))}return n};c(n);var u=c(a),d=t.getSources().filter((function(e){return"TrivialProducer"===e.getProxyName()}));if(d[d.length-1]){for(var p=d[d.length-1].getProxyId(),v=function(e){var t=u[e];i("widgets/addLabelmapToImage",{imageId:p,labelmapId:t.getProxyId()},{root:!0}).then((function(){return i("widgets/setLabelmapState",{labelmapId:t.getProxyId(),labelmapState:{selectedLabel:1,lastColorIndex:1}},{root:!0})}))},f=0;f<u.length;f++)v(f);for(var g=0;g<o.length;g++)for(var m=o[g].reader.reader.getOutputData(),y=0;y<m.length;y++)i("widgets/addMeasurementTool",{datasetId:p,componentName:m[y].componentName,data:m[y].data},{root:!0})}})),o.finally((function(){return a("stopLoading")}))}}}},Mn=n(431),Ln=n(421),jn=n(155),Rn=be.ZP.CaptureOn,Bn=function(e){var t=e.proxyManager;return{namespaced:!0,state:{viewsInitialized:!1,viewTypeToId:{},backgroundColors:{},globalBackgroundColor:jn.qV,axisType:"arrow",axisPreset:"default",axisVisible:!0,annotationOpacity:1,interactionStyle3D:"3D",firstPersonMovementSpeed:null,maxTextureLODSize:5e4,viewOrder:Ln.sB.map((function(e){return e.value})),visibleCount:1},mutations:{setGlobalBackground:function(e,t){e.globalBackgroundColor=t;for(var n=Object.keys(e.backgroundColors),a=0;a<n.length;a++)e.backgroundColors[n[a]]=t},setAxisType:function(e,t){e.axisType=t},setAxisPreset:function(e,t){e.axisPreset=t},setAxisVisible:function(e,t){e.axisVisible=t},setAnnotationOpacity:function(e,t){e.annotationOpacity=t},setInteractionStyle3D:function(e,t){e.interactionStyle3D=t},setFirstPersonMovementSpeed:function(e,t){e.firstPersonMovementSpeed=t},setMaxTextureLODSize:function(e,t){e.maxTextureLODSize=t},mapViewTypeToId:function(e,t){var n=t.viewType,i=t.viewId;a.Z.set(e.viewTypeToId,n,i)},changeBackground:function(e,t){var n=t.viewType,a=t.color;e.backgroundColors[n]=a},viewsInitialized:function(e){e.viewsInitialized=!0},visibleCount:function(e,t){e.visibleCount=t},swapViews:function(e,t){var n=t.index,i=t.viewType,r=e.viewOrder.indexOf(i),o=e.viewOrder[n];a.Z.set(e.viewOrder,n,i),a.Z.set(e.viewOrder,r,o)},rewriteProxyIds:function(e,t){var n=t.views;e.viewTypeToId=(0,K.JL)(e.viewTypeToId,n)}},actions:{initViews:function(e){var n=e.commit,i=e.state;if(!i.viewsInitialized){n("viewsInitialized");var r=null;i.viewOrder.forEach((function(e){var o=e.split(":"),s=(0,I.Z)(o,2),l=s[0],c=s[1],u=t.createProxy("Views",l,{name:c}),d=Ln.UK[c],p=d.axis,v=d.orientation,f=d.viewUp;if(u.updateOrientation(p,v,f),u.setBackground(0,0,0,0),a.Z.set(i.backgroundColors,e,i.globalBackgroundColor),u.setPresetToOrientationAxes("default"),!u.getReferenceByName("widgetManager")){var g=Mn.ZP.newInstance();g.set({useSvgLayer:!1},!1,!0),g.setRenderer(u.getRenderer()),g.setCaptureOn(Rn.MOUSE_MOVE),u.set({widgetManager:g},!0)}e===Ln.H_&&(r=u),n("mapViewTypeToId",{viewType:e,viewId:u.getProxyId()})})),r&&r.activate()}},swapViews:function(e,t){(0,e.commit)("swapViews",{index:t.index,viewType:t.viewType})},singleView:function(e,t){var n=e.state,a=e.commit;a("swapViews",{index:0,viewType:n.viewOrder[t]}),a("visibleCount",1)},splitView:function(e,t){var n=e.state,a=e.commit;a("swapViews",{index:t,viewType:n.viewOrder[1]}),a("visibleCount",2)},quadView:function(e){(0,e.commit)("visibleCount",4)},setGlobalBackground:function(e,t){(0,e.commit)("setGlobalBackground",t)},changeBackground:function(e,t){(0,e.commit)("changeBackground",{viewType:t.viewType,color:t.color})},setAxisType:function(e,n){var a=e.commit;t.getViews().forEach((function(e){e.setOrientationAxesType(n)})),a("setAxisType",n)},setAxisPreset:function(e,n){var a=e.commit;t.getViews().forEach((function(e){e.setPresetToOrientationAxes(n)})),a("setAxisPreset",n)},setAxisVisible:function(e,n){var a=e.commit;t.getViews().forEach((function(e){e.setOrientationAxesVisibility(n)})),a("setAxisVisible",n)},setAnnotationOpacity:function(e,n){var a=e.commit;t.getViews().forEach((function(e){e.setAnnotationOpacity(n)})),a("setAnnotationOpacity",n)},setInteractionStyle3D:function(e,n){var a=e.commit;t.getViews().filter((function(e){return"default"===e.getName()})).forEach((function(e){e.setPresetToInteractor3D(n)})),a("setInteractionStyle3D",n)},setFirstPersonMovementSpeed:function(e,n){var a=e.commit;t.getViews().filter((function(e){return"default"===e.getName()})).forEach((function(e){e.getInteractorStyle3D().getKeyboardManipulators().forEach((function(e){e.setMovementSpeed&&e.setMovementSpeed(n)}))})),a("setFirstPersonMovementSpeed",n)},resetFirstPersonMovementSpeed:function(e){for(var n=e.dispatch,a=0,i=t.getViews().filter((function(e){return"default"===e.getName()})),r=0;r<i.length;++r)for(var o=i[r],s=o.getInteractorStyle3D().getKeyboardManipulators(),l=0;l<s.length;++l){var c=s[l];if(c.resetMovementSpeed){c.setRenderer(o.getRenderer()),c.resetMovementSpeed(),a=c.getMovementSpeed();break}}a<0&&(a=0),n("setFirstPersonMovementSpeed",a)},setMaxTextureLODSize:function(e,t){(0,e.commit)("setMaxTextureLODSize",t)},rewriteProxyIds:(0,K.Gy)("rewriteProxyIds")}}},An=function(e){var t=e.proxyManager;return{namespaced:!0,state:{measurements:{},distanceUnitSymbol:"mm",distanceUnitFactor:1,imageToLabelmaps:{},labelmapStates:{},croppingStates:{}},mutations:{setDistanceUnitSymbol:function(e,t){e.distanceUnitSymbol=t},setDistanceUnitFactor:function(e,t){e.distanceUnitFactor=t},addLabelmapToImage:function(e,t){var n=t.imageId,i=t.labelmapId;n in e.imageToLabelmaps||a.Z.set(e.imageToLabelmaps,n,[]),e.imageToLabelmaps[n].push(i)},setLabelmapState:function(e,t){var n=t.labelmapId,i=t.labelmapState;a.Z.set(e.labelmapStates,n,i)},addMeasurementTool:function(e,t){var n=t.datasetId,i=t.componentName,r=t.data;n in e.measurements||a.Z.set(e.measurements,n,[]),e.measurements[n].push({componentName:i,data:r})},updateMeasurementTool:function(e,t){var n=t.datasetId,i=t.index,r=t.data;n in e.measurements&&a.Z.set(e.measurements[n][i],"data",r)},removeMeasurementTool:function(e,t){var n=t.datasetId,a=t.index;n in e.measurements&&e.measurements[n].splice(a,1)},setCroppingState:function(e,t){var n=t.datasetId,a=t.planes;e.croppingStates[n]=Array.from(a)},rewriteProxyIds:function(e,t){var n=t.sources;e.measurements=(0,K.cO)(e.measurements,n),e.imageToLabelmaps=(0,K.cO)(e.imageToLabelmaps,n),e.labelmapStates=(0,K.cO)(e.labelmapStates,n),e.croppingStates=(0,K.cO)(e.croppingStates,n),Object.keys(e.imageToLabelmaps).forEach((function(t){e.imageToLabelmaps[t]=(0,K.Lg)(e.imageToLabelmaps[t],n)}))}},actions:{addLabelmapToImage:(0,K.Gy)("addLabelmapToImage"),setLabelmapState:(0,K.Gy)("setLabelmapState"),addMeasurementTool:(0,K.Gy)("addMeasurementTool"),removeMeasurementTool:(0,K.Gy)("removeMeasurementTool"),updateMeasurementTool:(0,K.Gy)("updateMeasurementTool"),setCroppingState:(0,K.Gy)("setCroppingState"),setDistanceUnitSymbol:(0,K.Gy)("setDistanceUnitSymbol"),setDistanceUnitFactor:(0,K.Gy)("setDistanceUnitFactor"),rewriteProxyIds:(0,K.Gy)("rewriteProxyIds"),pxmProxyCreated:{root:!0,handler:function(e,n){var a=e.state,i=n.proxy,r=n.proxyId;if(r in a.croppingStates){var o=a.croppingStates[r],s=(0,K.aX)(t,i);s&&s.setCroppingPlanes(o)}}}}}},Fn=function(e){var t=e.animationManager;return{namespaced:!0,state:{playing:!1,currentFrame:"0.0",frames:[]},mutations:{setCurrentFrame:function(e,t){e.currentFrame=t},setPlaying:function(e,t){e.playing=t},setFrames:function(e,t){e.frames=t}},actions:{initializeAnimations:function(e){var n=e.commit;t.onCurrentFrameChanged((function(){n("setCurrentFrame",t.getCurrentFrame())})),t.onFramesChanged((function(){n("setFrames",t.getFrames())})),n("setCurrentFrame",t.getCurrentFrame()),n("setFrames",t.getFrames())},play:function(e){var n=e.commit;n("setPlaying",!0),t.play(),t.onDonePlaying((function(){n("setPlaying",!1),t.onDonePlaying((function(){}))}))},pause:function(e){(0,e.commit)("setPlaying",!1),t.pause()},nextFrame:function(){t.nextFrame()},previousFrame:function(){t.previousFrame()},firstFrame:function(){t.firstFrame()},lastFrame:function(){t.lastFrame()},setFrameIndex:function(e,n){t.setFrameIndex(n)}}}};function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){(0,D.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}function Wn(e,t){for(var n=Object.keys(t),i=0;i<n.length;++i){var r=n[i];"object"===Gn(e[r])&&"object"===Gn(t[r])?a.Z.set(e,r,Wn(e[r],t[r])):a.Z.set(e,r,t[r])}return e}function Un(e,t){var n=e.getActiveView(),a=e.getActiveSource(),i=e.getRepresentation(a,n),r=i.getPropertyDomainByName("slice");if(i.isA("vtkSliceRepresentationProxy")&&r){var o=t?r.step:-r.step,s=Math.min(r.max,Math.max(r.min,i.getSlice()+o));i.setSlice(s)}}var zn=function(e){var t=e.girder,n=e.proxyManager;n||(n=v.ZP.newInstance({proxyConfiguration:mn.Proxy}));var r,o,s,l=n.createProxy("AnimationManager","AnimationProxyManager"),c=new i.ZP.Store({plugins:[(r=n,o=[],s={},function(e){var t=function(t,n){t in e._actions&&e.dispatch(t,n)};o.push(r.onProxyRegistrationChange((function(e){var n=e.action,a=e.proxyId,i=e.proxy;"register"===n?(t("pxmProxyCreated",e),s[a]=i.onModified((function(e){return t("pxmProxyModified",e)}))):a in s&&(s[a].unsubscribe(),t("pxmProxyDeleted",e)),t("pxmProxyRegistrationChange",e)}))),o.push(r.onActiveSourceChange((function(e){return t("pxmActiveSourceChange",e)}))),o.push(r.onActiveViewChange((function(e){return t("pxmActiveViewChange",e)})))})],state:{proxyManager:n,route:"landing",savingStateName:null,loadingState:!1,screenshotDialog:!1,pendingScreenshot:null,panels:{},cameraViewPoints:{},mostRecentViewPoint:null,collapseDatasetPanels:!1,suppressBrowserWarning:!1},getters:{proxyManager:function(e){return e.proxyManager},cameraViewPoints:function(e){return e.cameraViewPoints},mostRecentViewPoint:function(e){return e.mostRecentViewPoint}},modules:{files:$n({proxyManager:n,girder:t}),views:Bn({proxyManager:n,girder:t}),widgets:An({proxyManager:n,girder:t}),animations:Fn({animationManager:l})},mutations:{showLanding:function(e){e.route="landing"},showApp:function(e){e.route="app"},savingState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.savingStateName=t},loadingState:function(e,t){e.loadingState=t},addPanel:function(e,t){var n=t.component,i=t.priority,r=void 0===i?0:i;r in e.panels||a.Z.set(e.panels,r,[]),e.panels[r].push(n)},openScreenshotDialog:function(e,t){e.pendingScreenshot=t,e.screenshotDialog=!0},closeScreenshotDialog:function(e){e.pendingScreenshot=null,e.screenshotDialog=!1},mostRecentViewPoint:function(e,t){e.mostRecentViewPoint=t},collapseDatasetPanels:function(e,t){e.collapseDatasetPanels=t},suppressBrowserWarning:function(e,t){e.suppressBrowserWarning=t}},actions:{addPanel:(0,K.Gy)("addPanel"),closeScreenshotDialog:(0,K.Gy)("closeScreenshotDialog"),collapseDatasetPanels:(0,K.Gy)("collapseDatasetPanels"),suppressBrowserWarning:(0,K.Gy)("suppressBrowserWarning"),saveState:function(e,t){var a=e.commit,i=e.state,r=new Date,o=t||"".concat(r.getFullYear()).concat(r.getMonth()+1).concat(r.getDate(),"_").concat(r.getHours(),"-").concat(r.getMinutes(),"-").concat(r.getSeconds(),".glance");a("savingState",o);var s={version:2,activeSourceId:n.getActiveSource()?n.getActiveSource().getProxyId():-1,store:{route:i.route,views:i.views,widgets:i.widgets}},l=new(_());n.saveState({recycleViews:!0,datasetHandler:function(e,t){var n=t.get("name","url","remoteMetaData"),a=e.get("name","url","remoteMetaData"),i=n.url?n:a;return t.getKey("girderProvenance")?{serializedType:"girder",provenance:t.getKey("girderProvenance"),item:t.getKey("girderItem"),meta:t.getKey("meta")}:i.name&&i.url?i:e.getState()}},s).then((function(e){l.file("state.json",JSON.stringify(e)),l.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}}).then((function(e){var t=URL.createObjectURL(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",o),document.body.appendChild(n),n.click(),document.body.removeChild(n),setTimeout((function(){return URL.revokeObjectURL(t)}),6e4)})).then((function(){return a("savingState",null)}))}))},restoreAppState:function(e,a){var i=this,r=e.commit,o=e.dispatch,s=e.state;r("loadingState",!0);var l=new WeakMap;return o("resetWorkspace"),n.loadState(a,{datasetHandler:function(e){if(e.vtkClass)return(0,yn.Z)(e);var a=e.name,i=e.url,r={};if("girder"===e.serializedType){var o=e.item,s=o.itemId,c=o.itemName,u=e.provenance.apiRoot;a=c,i="".concat(u,"/item/").concat(s,"/download"),r.headers=Nn(Nn({},r.headers||{}),{},{"Girder-Token":t.girderRest.token})}return ie.downloadDataset(a,i,r).then((function(e){return ie.loadFiles([e])})).then((function(e){return e[0]})).then((function(t){var a=t.dataset,i=t.reader,r=null;if(i&&i.getOutputData)r=i.getOutputData();else if(a&&a.isA)r=a;else if(i&&i.setProxyManager)return i.setProxyManager(n),null;if(r)return"girder"===e.serializedType?(r=kn(r,e.meta),l.set(r,{girderProvenance:e.provenance,girderItem:e.item,meta:e.meta})):r.set(e,!0),r;throw new Error("Invalid dataset")})).catch((function(e){var t="Dataset doesn't exist or adblock/firewall prevents access.";if("xhr"in e){var n=e.xhr;throw new Error("".concat(n.statusText," (").concat(n.status,"): ").concat(t))}throw new Error("".concat(e.message," (").concat(t,")"))}))}}).then((function(e){var t=e.version,r=e.store,c=e.$oldToNewIdMapping;t>=2?i.replaceState(Wn(s,r)):i.replaceState(Wn(s,e)),n.getSources().forEach((function(e){var t=e.getDataset();if(l.has(t)){var n=l.get(t);Object.keys(n).forEach((function(t){return e.setKey(t,n[t])}))}})),o("rewriteProxyIds",{appState:a,mapping:c}).then((function(){n.modified();var a=n.getViews().filter((function(e){return e.getContainer()})),i=a.find((function(e){return"View3D"===e.getProxyName()}))||a[0];if(i&&i.activate(),n.getSources().forEach((function(e){return(0,K._3)(n,e)})),t>=2){var r=e.activeSourceId,o=c[r],s=n.getProxyById(o);s&&s.activate()}else{var l=n.getSources()[0];l&&l.activate()}}))})).then((function(){return r("loadingState",!1)}))},resetWorkspace:function(){n.getSources().forEach((function(e){return setTimeout((function(){return n.deleteProxy(e)}),0)})),setTimeout((function(){n.renderAllViews(),n.resetCameraInAllViews()}),0)},resetActiveCamera:function(){n.resetCamera()},increaseSlice:function(e){"app"===e.state.route&&Un(n,!0)},decreaseSlice:function(e){"app"===e.state.route&&Un(n,!1)},takeScreenshot:function(e){var t=e.commit,a=e.state,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=i||n.getActiveView(),o=Pn.getViewType(r);return r?r.captureImage().then((function(e){t("openScreenshotDialog",{imgSrc:e,viewName:r.getName(),viewData:{background:a.views.backgroundColors[o]}})})):Promise.resolve()},setCameraViewPoints:function(e,t){var n=e.dispatch;e.state.cameraViewPoints=t;var a=Object.keys(t);if(0!==a.length){n("changeCameraViewPoint",a[0]);n("views/setInteractionStyle3D","FirstPerson")}},changeCameraViewPoint:function(e,t){var n=e.commit,a=e.getters,i=e.state.proxyManager.getViews(),r=a.proxyManager,o=a.cameraViewPoints[t]||{},s=o.camera,l=o.show,c=o.hide,u=[];i.filter((function(e){return"default"===e.getName()})).forEach((function(e){var t=e.getCamera().getDistance(),n=[s.focalPoint[0]-s.position[0],s.focalPoint[1]-s.position[1],s.focalPoint[2]-s.position[2]],a=[s.position[0]+n[0]*t,s.position[1]+n[1]*t,s.position[2]+n[2]*t],i=e.moveCamera(a,s.position,s.viewUp,100);u.push(i)})),Promise.all(u).then((function(){r.getSources().forEach((function(e){var t=e.getName();if(l.includes(t)||c.includes(t)){var n=l.includes(t),a=r.getRepresentations().filter((function(t){return t.getInput()===e}))[0];a.getVisibility()!==n&&a.setVisibility(n)}})),r.renderAllViews()})),n("mostRecentViewPoint",t)},previousViewPoint:function(e){var t=e.dispatch,n=e.getters,a=n.mostRecentViewPoint;if(a){var i=Object.keys(n.cameraViewPoints);if(i.includes(a)){var r=i.length,o=(i.indexOf(a)+r-1)%r;t("changeCameraViewPoint",i[o])}}},nextViewPoint:function(e){var t=e.dispatch,n=e.getters,a=n.mostRecentViewPoint;if(a){var i=Object.keys(n.cameraViewPoints);if(i.includes(a)){var r=(i.indexOf(a)+1)%i.length;t("changeCameraViewPoint",i[r])}}},rewriteProxyIds:function(e,t){var n=e.dispatch,a=t.appState,i=t.mapping,r=function(e){return e.reduce((function(e,t){return Nn(Nn({},e),{},(0,D.Z)({},t.id,i[t.id]))}),{})},o={sources:r(a.sources),views:r(a.views),reps:r(a.representations),all:i};n("widgets/rewriteProxyIds",o),n("views/rewriteProxyIds",o)}}});return n.set({$store:c},!0),c},Hn=n(668),Kn=n(669);function Yn(e){for(;e.length;)e.pop()()}var qn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"settings";(0,Hn.Z)(this,e),this.keyPrefix=t,this.storeSettingsMap={},this.store=null,this.storeWatchers=[]}return(0,Kn.Z)(e,[{key:"key",value:function(e){return this.keyPrefix?"".concat(this.keyPrefix,".").concat(e):e}},{key:"get",value:function(e){var t=window.localStorage.getItem(this.key(e));if(null!==t)return JSON.parse(t)}},{key:"set",value:function(e,t){return window.localStorage.setItem(this.key(e),JSON.stringify(t))}},{key:"syncWithStore",value:function(e,t){var n=this;Yn(this.storeWatchers),this.store=e,this.storeSettingsMap=t;var a=Object.keys(t);a.forEach((function(e){var a=n.get(e);void 0!==a&&(0,t[e].set)(a)})),this.storeWatchers=a.map((function(a){var i=t[a].get;return e.watch(i,(function(e){return n.set(a,e)}))}))}},{key:"delete",value:function(){Yn(this.storeWatchers),this.storeSettingsMap={},this.store=null}}]),e}(),Xn=ie.getReader,Jn=ie.importBase64Dataset,Qn=ie.listReaders,ea=ie.listSupportedExtensions,ta=ie.loadFiles,na=ie.openFiles,aa=ie.registerReader,ia=ie.registerReadersToProxyManager;a.Z.use(i.ZP),a.Z.use(r.Z),a.Z.use(wn);var ra=null;function oa(e){ra=e}function sa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t||ra||mn.Proxy,i=v.ZP.newInstance({proxyConfiguration:n}),r=new qn,o=zn({proxyManager:i,girder:d}),s=new a.Z({el:e,components:{App:re.Z},store:o,provide:d,vuetify:p.Hl,proxyManager:i,template:"<App />"});function c(e){(e.state||{}).app?o.commit("showApp"):o.commit("showLanding")}return o.watch((function(e){return e.route}),(function(e){if(!r.get("noHistory")){var t=window.history.state||{};"landing"===e&&t.app&&window.history.back(),"app"!==e||t.app||window.history.pushState({app:!0},"")}})),window.history.replaceState({app:!1},""),window.addEventListener("popstate",c),r.set("noHistory",!1),r.syncWithStore(o,{collapseDatasetPanels:{set:function(e){return o.dispatch("collapseDatasetPanels",e)},get:function(e){return e.collapseDatasetPanels}},suppressBrowserWarning:{set:function(e){return o.dispatch("suppressBrowserWarning",e)},get:function(e){return e.suppressBrowserWarning}}}),{proxyManager:i,store:o,processURLArgs:function(){var e=l.Z.extractURLParameters();Object.keys(e).filter((function(e){return e.startsWith("setting.")})).forEach((function(t){var n=t.substr("setting.".length);r.set(n,e[t])}));var t=e.name,n=e.url;if(t&&n){var a="string"==typeof t?[t]:t,i="string"==typeof n?[n]:n;s.$children[0].autoLoadRemotes("resources from url",i,a)}},addDatasetPanel:function(e){o.commit("addPanel",{component:e})},showApp:function(){o.commit("showApp")},getSetting:function(e){return r.get(e)},setSetting:function(e,t){return r.set(e,t)}}}},141:function(e,t,n){"use strict";var a=n(545),i=n(572),r=n(8);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){for(var n=0;n<t.length;n++)if(t[n].name&&t[n].domain){var a=t[n].domain;e[t[n].name]=s({},a),a.step&&"any"===a.step&&(Number.isInteger(a.min)&&Number.isInteger(a.max)?e[t[n].name].step=.01:e[t[n].name].step=(a.max-a.min)/500)}else t[n].children&&l(e,t[n].children)}function c(e,t){var n=[],a=e.$proxyManager.getProxyById(e.sourceId);a[t]&&n.push(a);for(var i=e.$proxyManager.getRepresentations().filter((function(t){return t.getInput()===e.source})),r=0;r<i.length;r++){var o=i[r];o[t]&&n.push(o)}return n}function u(e){for(var t={fields:e,domains:{}},n=0;n<e.length;n++){var a=e[n],i=a.name,r=a.initialValue;a.computed||(t[i]=r)}return t}function d(e){for(var t={},n=0;n<e.length;n++){var a=e[n],i=a.name,r=a.computed;r&&(t[i]=r)}return t}function p(e,t,n){for(var a=[],i=function(i){var r=t[i].name;a.push(e.$watch(r,(function(t){e.updateProxies(r,t,n&&n[r])})))},r=0;r<t.length;r++)i(r);return a}t.Z={generateComponent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{onChange:{},onUpdate:[]},o=d(t),v={};return Object.keys(o).forEach((function(e){v["get".concat(r.ZP.capitalize(e))]=o[e].get,v["set".concat(r.ZP.capitalize(e))]=o[e].set})),{name:e,props:["sourceId"],data:function(){return u(t)},computed:s(s(s({},o),(0,i.rn)("views",{viewOrder:function(e){return e.viewOrder}})),{},{source:function(){return this.$proxyManager.getProxyById(this.sourceId)}}),watch:{viewOrder:function(){n&&this.$nextTick(this.$forceUpdate)}},proxyManagerHooks:{onProxyModified:function(e){e.isA("vtkAbstractRepresentationProxy")&&e.getInput()&&e.getInput()===this.source&&this.updateData()},onProxyCreated:function(e){var t=e.proxyGroup,n=e.proxy;"Representations"===t&&n.getInput()===this.source&&this.updateAll()}},created:function(){this.subscriptions=p(this,t,a.onChange)},mounted:function(){this.updateAll()},beforeDestroy:function(){for(;this.subscriptions.length;)this.subscriptions.pop()()},methods:s(s({},v),{},{updateAll:function(){if(this.updateDomains(),this.updateData(),a.onUpdate)for(var e=0;e<a.onUpdate.length;e++)this[a.onUpdate[e]]()},updateDomains:function(){var e=this;if(!this.inUpdateDomains){this.inUpdateDomains=!0;for(var t=this.$proxyManager.getRepresentations().filter((function(t){return t.getInput()===e.source})),n=[this.$proxyManager.getProxyById(this.sourceId)].concat(t),a={};n.length;){l(a,n.pop().getReferenceByName("ui"))}this.inUpdateDomains=!1,this.domains=a}},updateData:function(){if(!this.inUpdateData){this.inUpdateData=!0;for(var e=0;e<this.fields.length;e++){var t=this.fields[e].name,n="get".concat(r.ZP.capitalize(t)),a=c(this,n);if(a.length){var i=a[0][n]();this[t]!==i&&(this[t]=i)}}this.inUpdateData=!1}},updateProxies:function(e,t,n){for(var a="set".concat(r.ZP.capitalize(e)),i=c(this,a),o=!i.length;i.length;)o=i.pop()[a](t)||o;o&&n&&this[n]&&this[n](e,t)}})}},findProxiesWithMethod:c}},421:function(e,t,n){"use strict";n.d(t,{H_:function(){return a},sB:function(){return i},qu:function(){return r},jB:function(){return o},UK:function(){return s}});var a="View3D:default",i=[{text:"3D",value:"View3D:default"},{text:"Orientation Y",value:"View2D_Y:y"},{text:"Orientation X",value:"View2D_X:x"},{text:"Orientation Z",value:"View2D_Z:z"}],r=[{text:"3D",value:"View3D:default"},{text:"Sagittal",value:"View2D_Y:y"},{text:"Coronal",value:"View2D_X:x"},{text:"Axial",value:"View2D_Z:z"}],o={s:"Image&nbsp;size:&nbsp;${sliceWidth}&nbsp;x&nbsp;${sliceHeight}",nw:"Origin:&nbsp;${sliceOrigin}<br>Spacing:&nbsp;${sliceSpacing}&nbsp;mm<br>${sliceIndex}&nbsp;of&nbsp;${sliceCount}",se:"WL:&nbsp;${windowLevel}&nbsp;/&nbsp;WW:&nbsp;${windowWidth}"},s={default:{axis:1,orientation:-1,viewUp:[0,0,1]},x:{axis:0,orientation:1,viewUp:[0,0,1]},y:{axis:1,orientation:-1,viewUp:[0,0,1]},z:{axis:2,orientation:-1,viewUp:[0,-1,0]}}},155:function(e,t,n){"use strict";n.d(t,{qV:function(){return r},qg:function(){return o}});var a=n(549),i=n(55),r="linear-gradient(#333, #999)",o=["#000000","#ffffff"].concat((0,a.Z)(i.oe),["linear-gradient(#7478BE, #C1C3CA)","linear-gradient(#00002A, #52576E)",r])},356:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(545),i=n(110),r=JSON.parse('[{"Name":"Medical","Children":[{"Name":"CT","Children":[{"Name":"CT-AAA","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-3024,0,143.556,0,166.222,0.686275,214.389,0.696078,419.736,0.833333,3071,0.803922],"RGBPoints":[-3024,0,0,0,143.556,0.615686,0.356863,0.184314,166.222,0.882353,0.603922,0.290196,214.389,1,1,1,419.736,1,0.937033,0.954531,3071,0.827451,0.658824,1]},{"Name":"CT-AAA2","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-3024,0,129.542,0,145.244,0.166667,157.02,0.5,169.918,0.627451,395.575,0.8125,1578.73,0.8125,3071,0.8125],"RGBPoints":[-3024,0,0,0,129.542,0.54902,0.25098,0.14902,145.244,0.6,0.627451,0.843137,157.02,0.890196,0.47451,0.6,169.918,0.992157,0.870588,0.392157,395.575,1,0.886275,0.658824,1578.73,1,0.829256,0.957922,3071,0.827451,0.658824,1]},{"Name":"CT-Bone","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-3024,0,-16.4458,0,641.385,0.715686,3071,0.705882],"RGBPoints":[-3024,0,0,0,-16.4458,0.729412,0.254902,0.301961,641.385,0.905882,0.815686,0.552941,3071,1,1,1]},{"Name":"CT-Bones","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-1000,0,152.19,0,278.93,0.190476,952,0.2],"RGBPoints":[-1000,0.3,0.3,1,-488,0.3,1,0.3,463.28,1,0,0,659.15,1,0.912535,0.0374849,953,1,0.3,0.3]},{"Name":"CT-Cardiac","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-3024,0,-77.6875,0,94.9518,0.285714,179.052,0.553571,260.439,0.848214,3071,0.875],"RGBPoints":[-3024,0,0,0,-77.6875,0.54902,0.25098,0.14902,94.9518,0.882353,0.603922,0.290196,179.052,1,0.937033,0.954531,260.439,0.615686,0,0,3071,0.827451,0.658824,1]},{"Name":"CT-Cardiac2","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-3024,0,42.8964,0,163.488,0.428571,277.642,0.776786,1587,0.754902,3071,0.754902],"RGBPoints":[-3024,0,0,0,42.8964,0.54902,0.25098,0.14902,163.488,0.917647,0.639216,0.0588235,277.642,1,0.878431,0.623529,1587,1,1,1,3071,0.827451,0.658824,1]},{"Name":"CT-Cardiac3","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-3024,0,-86.9767,0,45.3791,0.169643,139.919,0.589286,347.907,0.607143,1224.16,0.607143,3071,0.616071],"RGBPoints":[-3024,0,0,0,-86.9767,0,0.25098,1,45.3791,1,0,0,139.919,1,0.894893,0.894893,347.907,1,1,0.25098,1224.16,1,1,1,3071,0.827451,0.658824,1]},{"Name":"CT-Chest-Contrast-Enhanced","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-3024,0,67.0106,0,251.105,0.446429,439.291,0.625,3071,0.616071],"RGBPoints":[-3024,0,0,0,67.0106,0.54902,0.25098,0.14902,251.105,0.882353,0.603922,0.290196,439.291,1,0.937033,0.954531,3071,0.827451,0.658824,1]},{"Name":"CT-Chest-Vessels","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-3024,0,-1278.35,0,22.8277,0.428571,439.291,0.625,3071,0.616071],"RGBPoints":[-3024,0,0,0,-1278.35,0.54902,0.25098,0.14902,22.8277,0.882353,0.603922,0.290196,439.291,1,0.937033,0.954531,3071,0.827451,0.658824,1]},{"Name":"CT-Coronary-Arteries","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-2048,0,136.47,0,159.215,0.258929,318.43,0.571429,478.693,0.776786,3661,1],"RGBPoints":[-2048,0,0,0,136.47,0,0,0,159.215,0.159804,0.159804,0.159804,318.43,0.764706,0.764706,0.764706,478.693,1,1,1,3661,1,1,1]},{"Name":"CT-Coronary-Arteries-2","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-2048,0,142.677,0,145.016,0.116071,192.174,0.5625,217.24,0.776786,384.347,0.830357,3661,0.830357],"RGBPoints":[-2048,0,0,0,142.677,0,0,0,145.016,0.615686,0,0.0156863,192.174,0.909804,0.454902,0,217.24,0.972549,0.807843,0.611765,384.347,0.909804,0.909804,1,3661,1,1,1]},{"Name":"CT-Coronary-Arteries-3","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-2048,0,128.643,0,129.982,0.0982143,173.636,0.669643,255.884,0.857143,584.878,0.866071,3661,1],"RGBPoints":[-2048,0,0,0,128.643,0,0,0,129.982,0.615686,0,0.0156863,173.636,0.909804,0.454902,0,255.884,0.886275,0.886275,0.886275,584.878,0.968627,0.968627,0.968627,3661,1,1,1]},{"Name":"CT-Cropped-Volume-Bone","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-2048,0,-451,0,-450,1,1050,1,3661,1],"RGBPoints":[-2048,0,0,0,-451,0,0,0,-450,0.0556356,0.0556356,0.0556356,1050,1,1,1,3661,1,1,1]},{"Name":"CT-Fat","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-1000,0,-100,0,-99,0.15,-60,0.15,-59,0,101.2,0,952,0],"RGBPoints":[-1000,0.3,0.3,1,-497.5,0.3,1,0.3,-99,0,0,1,-76.946,0,1,0,-65.481,0.835431,0.888889,0.0165387,83.89,1,0,0,463.28,1,0,0,659.15,1,0.912535,0.0374849,2952,1,0.300267,0.299886]},{"Name":"CT-Liver-Vasculature","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-2048,0,149.113,0,157.884,0.482143,339.96,0.660714,388.526,0.830357,1197.95,0.839286,3661,0.848214],"RGBPoints":[-2048,0,0,0,149.113,0,0,0,157.884,0.501961,0.25098,0,339.96,0.695386,0.59603,0.36886,388.526,0.854902,0.85098,0.827451,1197.95,1,1,1,3661,1,1,1]},{"Name":"CT-Lung","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-1000,0,-600,0,-599,0.15,-400,0.15,-399,0,2952,0],"RGBPoints":[-1000,0.3,0.3,1,-600,0,0,1,-530,0.134704,0.781726,0.0724558,-460,0.929244,1,0.109473,-400,0.888889,0.254949,0.0240258,2952,1,0.3,0.3]},{"Name":"CT-MIP","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-3024,0,-637.62,0,700,1,3071,1],"RGBPoints":[-3024,0,0,0,-637.62,1,1,1,700,1,1,1,3071,1,1,1]},{"Name":"CT-Muscle","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-3024,0,-155.407,0,217.641,0.676471,419.736,0.833333,3071,0.803922],"RGBPoints":[-3024,0,0,0,-155.407,0.54902,0.25098,0.14902,217.641,0.882353,0.603922,0.290196,419.736,1,0.937033,0.954531,3071,0.827451,0.658824,1]},{"Name":"CT-Pulmonary-Arteries","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-2048,0,-568.625,0,-364.081,0.0714286,-244.813,0.401786,18.2775,0.607143,447.798,0.830357,3592.73,0.839286],"RGBPoints":[-2048,0,0,0,-568.625,0,0,0,-364.081,0.396078,0.301961,0.180392,-244.813,0.611765,0.352941,0.0705882,18.2775,0.843137,0.0156863,0.156863,447.798,0.752941,0.752941,0.752941,3592.73,1,1,1]},{"Name":"CT-Soft-Tissue","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-2048,0,-167.01,0,-160,1,240,1,3661,1],"RGBPoints":[-2048,0,0,0,-167.01,0,0,0,-160,0.0556356,0.0556356,0.0556356,240,1,1,1,3661,1,1,1]}]},{"Name":"MR","Children":[{"Name":"MR-Angio","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[-2048,0,151.354,0,158.279,0.4375,190.112,0.580357,200.873,0.732143,3661,0.741071],"RGBPoints":[-2048,0,0,0,151.354,0,0,0,158.279,0.74902,0.376471,0,190.112,1,0.866667,0.733333,200.873,0.937255,0.937255,0.937255,3661,1,1,1]},{"Name":"MR-Default","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[0,0,20,0,40,0.15,120,0.3,220,0.375,1024,0.5],"RGBPoints":[0,0,0,0,20,0.168627,0,0,40,0.403922,0.145098,0.0784314,120,0.780392,0.607843,0.380392,220,0.847059,0.835294,0.788235,1024,1,1,1]},{"Name":"MR-MIP","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[0,0,98.3725,0,416.637,1,2800,1],"RGBPoints":[0,1,1,1,98.3725,1,1,1,416.637,1,1,1,2800,1,1,1]},{"Name":"MR-T2-Brain","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[0,0,36.05,0,218.302,0.171429,412.406,1,641,1],"RGBPoints":[0,0,0,0,98.7223,0.956863,0.839216,0.192157,412.406,0,0.592157,0.807843,641,1,1,1]}]},{"Name":"DTI-FA-Brain","NanColor":[1,1,0],"ColorSpace":"RGB","OpacityPoints":[0,0,0,0,0.3501,0.0158,0.49379,0.7619,0.6419,1,0.992,1,0.995,0,0.995,0],"RGBPoints":[0,1,0,0,0,1,0,0,0.24974,0.4941,1,0,0.49949,0,0.9882,1,0.7492,0.51764,0,1,0.995,1,0,0,0.995,1,0,0]}]}]');function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=s(s({},i.Z.getPresetByName("Cool to Warm")),{},{Name:"Default (Cool to Warm)"});function c(e,t){var n=e.Name.toLowerCase(),a=t.Name.toLowerCase();return n>a?1:-(n<a)}function u(e,t){var n=t.map((function(e){return i.Z.getPresetByName(e)}));return n.sort(c),{Name:e,Children:n}}!function e(t){t.forEach((function(t){t.Children?e(t.Children):i.Z.addPreset(t)}))}(r.concat(l));var d=[].concat(l,r,u("ParaView",["2hot","Asymmtrical Earth Tones (6_21b)","Cold and Hot","Cool to Warm (Extended)","Cool to Warm","coolwarm","Grayscale","Linear Blue (8_31f)","Linear YGB 1211g","Rainbow Blended Black","Rainbow Blended Grey","Rainbow Blended White","Rainbow Desaturated","rainbow","Warm to Cool (Extended)","Warm to Cool"]),u("ERDC",["erdc_blue2cyan_BW","erdc_blue2gold","erdc_blue2gold_BW","erdc_blue2green_BW","erdc_blue2green_muted","erdc_blue2yellow","erdc_blue_BW","erdc_brown_BW","erdc_cyan2orange","erdc_divHi_purpleGreen","erdc_divHi_purpleGreen_dim","erdc_divLow_icePeach","erdc_divLow_purpleGreen","erdc_gold_BW","erdc_green2yellow_BW","erdc_iceFire_H","erdc_iceFire_L","erdc_magenta_BW","erdc_marine2gold_BW","erdc_orange_BW","erdc_pbj_lin","erdc_purple2green","erdc_purple2green_dark","erdc_purple2pink_BW","erdc_purple_BW","erdc_rainbow_bright","erdc_rainbow_dark","erdc_red2purple_BW","erdc_red2yellow_BW","erdc_red_BW","erdc_sapphire2gold_BW"]),u("Others",["Black, Blue and White","Black, Orange and White","Black-Body Radiation","blot","Blue to Red Rainbow","Blue to Yellow","BLUE-WHITE","blue2cyan","blue2yellow","Blues","bone_Matlab","BrBG","BrOrYl","BuGn","BuGnYl","BuPu","BuRd","CIELab Blue to Red","CIELab_blue2red","copper_Matlab","GBBr","gist_earth","GnBu","GnBuPu","GnRP","GnYlRd","gray_Matlab","Green-Blue Asymmetric Divergent (62Blbc)","GREEN-WHITE_LINEAR","Greens","GYPi","GyRd","Haze","Haze_cyan","Haze_green","Haze_lime","heated_object","hsv","hue_L60","Inferno (matplotlib)","jet","magenta","Magma (matplotlib)","Muted Blue-Green","nic_CubicL","nic_CubicYF","nic_Edge","Oranges","OrPu","pink_Matlab","PiYG","Plasma (matplotlib)","PRGn","PuBu","PuOr","PuRd","Purples","RdOr","RdOrYl","RdPu","Red to Blue Rainbow","Spectral_lowBlue","Viridis (matplotlib)","X Ray","Yellow 15"]))},420:function(e,t,n){"use strict";n.d(t,{u3:function(){return a}});var a={md:768}},55:function(e,t,n){"use strict";n.d(t,{oe:function(){return a},wY:function(){return i}});var a=["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],i=["#ffee00","#bbbe64","#f3b700","#91f5ad","#fdca40","#f79824","#e57c04"]},28:function(e,t,n){"use strict";n.d(t,{y5:function(){return i},Gy:function(){return r},cO:function(){return o},JL:function(){return s},Lg:function(){return l},_3:function(){return c},aX:function(){return u}});var a=n(546);function i(){var e=null,t={sub:function(n){t.unsub(),e=n},unsub:function(){null!==e&&(e.unsubscribe(),e=null)}};return t}function r(e){return function(t,n){return(0,t.commit)(e,n)}}function o(e,t){var n={};return Object.keys(e).forEach((function(a){var i=a;a in t&&(i=t[a]),n[i]=e[a]})),n}function s(e,t){var n={};return Object.entries(e).forEach((function(e){var i=(0,a.Z)(e,2),r=i[0],o=i[1],s=o;o in t&&(s=t[o]),n[r]=s})),n}function l(e,t){return e.map((function(e){return e in t?t[e]:e}))}function c(e,t){var n=e.getViews().filter((function(e){return e.isA("vtkView2DProxy")})),a=n.map((function(e){return e.getReferenceByName("sliceRepresentation")}));e.createRepresentationInAllViews(t),"LabelMap"===t.getProxyName()&&n.forEach((function(e,t){return e.bindRepresentationToManipulator(a[t])}))}function u(e,t){var n=e.getViews().find((function(e){return"View3D"===e.getProxyName()}));if(!n)throw new Error("Cannot find 3D view!");var a=e.getRepresentation(t,n);if(!a||!a.getCropFilter)throw new Error("Cannot find the volume rep with a crop filter!");return a.getCropFilter()}},359:function(e,t,n){"use strict";var a=n(8),i=n(19),r=a.ZP.vtkWarningMacro;function o(e,t){t.classHierarchy.push("vtkLabelMap"),e.setLabelColor=function(n,a){Number.isNaN(Number(n))?r("Provided label is not a number"):(t.colorMap[n]=a.slice(),void 0===t.colorMap[n][3]&&(t.colorMap[n][3]=255),e.modified())},e.removeLabel=function(n){Number.isNaN(Number(n))?r("Provided label is not a number"):(delete t.colorMap[n],e.modified())},null===t.colorMap&&(t.colorMap={0:[0,0,0,0],1:[0,0,0,255]})}var s={colorMap:null};function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),i.ZP.extend(e,t,n),a.ZP.setGet(e,t,["colorMap"]),o(e,t)}var c=a.ZP.newInstance(l,"vtkLabelMap");t.ZP={newInstance:c,extend:l}},312:function(e,t,n){var a=n(445),i=n(437);void 0===i.Glance&&(i.Glance=a),e.exports=a},482:function(e,t,n){var a={"./af":250,"./af.js":250,"./ar":251,"./ar-dz":252,"./ar-dz.js":252,"./ar-kw":253,"./ar-kw.js":253,"./ar-ly":254,"./ar-ly.js":254,"./ar-ma":255,"./ar-ma.js":255,"./ar-sa":256,"./ar-sa.js":256,"./ar-tn":257,"./ar-tn.js":257,"./ar.js":251,"./az":258,"./az.js":258,"./be":259,"./be.js":259,"./bg":260,"./bg.js":260,"./bm":261,"./bm.js":261,"./bn":262,"./bn-bd":263,"./bn-bd.js":263,"./bn.js":262,"./bo":264,"./bo.js":264,"./br":265,"./br.js":265,"./bs":266,"./bs.js":266,"./ca":267,"./ca.js":267,"./cs":268,"./cs.js":268,"./cv":269,"./cv.js":269,"./cy":270,"./cy.js":270,"./da":271,"./da.js":271,"./de":272,"./de-at":273,"./de-at.js":273,"./de-ch":274,"./de-ch.js":274,"./de.js":272,"./dv":275,"./dv.js":275,"./el":276,"./el.js":276,"./en-au":277,"./en-au.js":277,"./en-ca":278,"./en-ca.js":278,"./en-gb":279,"./en-gb.js":279,"./en-ie":280,"./en-ie.js":280,"./en-il":281,"./en-il.js":281,"./en-in":282,"./en-in.js":282,"./en-nz":283,"./en-nz.js":283,"./en-sg":284,"./en-sg.js":284,"./eo":285,"./eo.js":285,"./es":286,"./es-do":287,"./es-do.js":287,"./es-mx":288,"./es-mx.js":288,"./es-us":289,"./es-us.js":289,"./es.js":286,"./et":290,"./et.js":290,"./eu":291,"./eu.js":291,"./fa":292,"./fa.js":292,"./fi":293,"./fi.js":293,"./fil":294,"./fil.js":294,"./fo":295,"./fo.js":295,"./fr":296,"./fr-ca":297,"./fr-ca.js":297,"./fr-ch":298,"./fr-ch.js":298,"./fr.js":296,"./fy":299,"./fy.js":299,"./ga":300,"./ga.js":300,"./gd":301,"./gd.js":301,"./gl":302,"./gl.js":302,"./gom-deva":303,"./gom-deva.js":303,"./gom-latn":304,"./gom-latn.js":304,"./gu":305,"./gu.js":305,"./he":306,"./he.js":306,"./hi":307,"./hi.js":307,"./hr":308,"./hr.js":308,"./hu":164,"./hu.js":164,"./hy-am":165,"./hy-am.js":165,"./id":166,"./id.js":166,"./is":167,"./is.js":167,"./it":168,"./it-ch":169,"./it-ch.js":169,"./it.js":168,"./ja":170,"./ja.js":170,"./jv":171,"./jv.js":171,"./ka":172,"./ka.js":172,"./kk":173,"./kk.js":173,"./km":174,"./km.js":174,"./kn":175,"./kn.js":175,"./ko":176,"./ko.js":176,"./ku":177,"./ku.js":177,"./ky":178,"./ky.js":178,"./lb":179,"./lb.js":179,"./lo":180,"./lo.js":180,"./lt":181,"./lt.js":181,"./lv":182,"./lv.js":182,"./me":183,"./me.js":183,"./mi":184,"./mi.js":184,"./mk":185,"./mk.js":185,"./ml":186,"./ml.js":186,"./mn":187,"./mn.js":187,"./mr":188,"./mr.js":188,"./ms":189,"./ms-my":190,"./ms-my.js":190,"./ms.js":189,"./mt":191,"./mt.js":191,"./my":192,"./my.js":192,"./nb":193,"./nb.js":193,"./ne":194,"./ne.js":194,"./nl":195,"./nl-be":196,"./nl-be.js":196,"./nl.js":195,"./nn":197,"./nn.js":197,"./oc-lnc":198,"./oc-lnc.js":198,"./pa-in":199,"./pa-in.js":199,"./pl":200,"./pl.js":200,"./pt":201,"./pt-br":202,"./pt-br.js":202,"./pt.js":201,"./ro":203,"./ro.js":203,"./ru":204,"./ru.js":204,"./sd":205,"./sd.js":205,"./se":206,"./se.js":206,"./si":207,"./si.js":207,"./sk":208,"./sk.js":208,"./sl":209,"./sl.js":209,"./sq":210,"./sq.js":210,"./sr":211,"./sr-cyrl":212,"./sr-cyrl.js":212,"./sr.js":211,"./ss":213,"./ss.js":213,"./sv":214,"./sv.js":214,"./sw":215,"./sw.js":215,"./ta":216,"./ta.js":216,"./te":217,"./te.js":217,"./tet":218,"./tet.js":218,"./tg":219,"./tg.js":219,"./th":220,"./th.js":220,"./tk":221,"./tk.js":221,"./tl-ph":222,"./tl-ph.js":222,"./tlh":223,"./tlh.js":223,"./tr":224,"./tr.js":224,"./tzl":225,"./tzl.js":225,"./tzm":226,"./tzm-latn":227,"./tzm-latn.js":227,"./tzm.js":226,"./ug-cn":228,"./ug-cn.js":228,"./uk":229,"./uk.js":229,"./ur":230,"./ur.js":230,"./uz":231,"./uz-latn":232,"./uz-latn.js":232,"./uz.js":231,"./vi":233,"./vi.js":233,"./x-pseudo":234,"./x-pseudo.js":234,"./yo":235,"./yo.js":235,"./zh-cn":236,"./zh-cn.js":236,"./zh-hk":237,"./zh-hk.js":237,"./zh-mo":238,"./zh-mo.js":238,"./zh-tw":239,"./zh-tw.js":239};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=r,e.exports=i,i.id=482},35:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var a={block:"Datasets-block-MOv47",blockTitle:"Datasets-blockTitle-hRnLc",blockContent:"Datasets-blockContent-a3h1_",blockRow:"Datasets-blockRow-lFOcN",slimInput:"Datasets-slimInput-Cnehi",canSelect:"Datasets-canSelect-w1m5T",clickable:"Datasets-clickable-JOYIZ",smallLabel:"Datasets-smallLabel-_8o5q",active:"Datasets-active-zv1WS",inactive:"Datasets-inactive-twtbQ",matrix:"Datasets-matrix-_nvw3",disable:"Datasets-disable-wMFzA",lutImage:"Datasets-lutImage-h8bWl",dropdownMenu:"Datasets-dropdownMenu-Z0GS3",button:"Datasets-button-W4Ok7",click:"Datasets-click-URBWc",negativeTopSpacing:"Datasets-negativeTopSpacing-HrNz2"}},75:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var a={datasetPanel:"Datasets-datasetPanel-B9jFW",subpanel:"Datasets-subpanel-RQd0h",panelContent:"Datasets-panelContent-kpRWg",panelHeader:"Datasets-panelHeader-uNZ70",headerMenuButton:"Datasets-headerMenuButton-_t8U7",subpanelHeader:"Datasets-subpanelHeader-_vvrH"}},358:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var a={wrapper:"TreeView-wrapper-Uw6mP",node:"TreeView-node-gbM0d",arrow:"TreeView-arrow-KW7L0",openArrow:"TreeView-openArrow-ezZCc",header:"TreeView-header-KxYvL",expander:"TreeView-expander-SVvAO",name:"TreeView-name-_uKWF"}},130:function(e,t,n){"use strict";n.d(t,{Z:function(){return F}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.available?n("div",[n("v-card",{class:e.$style.block,attrs:{flat:""}},[n("v-container",{staticClass:"pa-0",attrs:{fluid:"","grid-list-xs":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},["geometry"===e.available?[n("v-flex",{attrs:{xs3:""}},[n("span",{staticClass:"body-2"},[e._v("Color By:")])]),e._v(" "),n("v-flex",{attrs:{xs9:""}},[n("v-select",{staticClass:"pv-no-select",class:e.$style.slimInput,attrs:{dense:"",flat:"","hide-details":"",items:e.arrays,value:e.arraySelectValue},on:{change:e.setColorBy}})],1),e._v(" "),"solid"===e.colorBy?n("v-flex",{attrs:{xs12:""}},[n("palette-picker",{staticClass:"pt-1 pb-1",attrs:{palette:e.palette,size:24},model:{value:e.solidColor,callback:function(t){e.solidColor=t},expression:"solidColor"}})],1):e._e()]:e._e(),e._v(" "),"solid"!==e.colorBy?[n("v-flex",{staticClass:"pt-2",attrs:{xs12:""}},[n("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("div",e._g({class:e.$style.clickable},a),[n("span",{staticClass:"body-2"},[e._v(e._s(e.presetName))]),e._v(" "),n("img",{class:e.$style.lutImage,attrs:{src:e.lutImage}})])]}}],null,!1,2069699272),model:{value:e.presetMenu,callback:function(t){e.presetMenu=t},expression:"presetMenu"}},[e._v(" "),e.presetMenu?n("tree-view",{class:e.$style.dropdownMenu,attrs:{tree:e.presets,labelKey:"Name",childrenKey:"Children"},on:{input:e.onChangePreset}}):e._e()],1)],1),e._v(" "),n("v-flex",{staticClass:"pb-4",class:e.$style.negativeTopSpacing,attrs:{xs5:""}},[n("v-text-field",{class:e.$style.negativeTopSpacing,attrs:{label:"Min",step:"any",disabled:"geometry"!==e.available,"hide-details":"",value:e.dataRange[0]},on:{change:function(t){return e.$proxyManager.renderAllViews()},input:function(t){return e.setDataRangeIndex(0,t)}}})],1),e._v(" "),n("v-flex",{staticClass:"text-center pb-4",class:e.$style.negativeTopSpacing,attrs:{xs2:""}},["geometry"===e.available?n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({class:e.$style.negativeTopSpacing,attrs:{icon:"",small:""},on:{click:e.resetDataRange}},a),[n("v-icon",[e._v("mdi-arrow-expand-horizontal")])],1)]}}],null,!1,2807797372)},[e._v("\n              Reset range\n            ")]):n("v-spacer")],1),e._v(" "),n("v-flex",{staticClass:"pb-4",class:e.$style.negativeTopSpacing,attrs:{xs5:""}},[n("v-text-field",{class:e.$style.negativeTopSpacing,attrs:{label:"Max",step:"any",disabled:"geometry"!==e.available,reverse:"","hide-details":"",value:e.dataRange[1]},on:{change:function(t){return e.$proxyManager.renderAllViews()},input:function(t){return e.setDataRangeIndex(1,t)}}})],1)]:e._e(),e._v(" "),"volume"===e.available?[e.piecewiseFunction&&!e.hasPresetOpacity?n("v-flex",{attrs:{xs12:""},on:{touchstart:function(e){e.stopPropagation()}}},[n("piecewise-function-editor",{attrs:{piecewiseFunction:e.piecewiseFunction,source:e.source,proxyManager:e.$proxyManager}})],1):e._e(),e._v(" "),e.hasPresetOpacity?n("v-flex",{attrs:{xs12:""}},[n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs3:""}},[n("span",{class:e.$style.smallLabel},[e._v("Shift")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{min:e.shiftRange[0],max:e.shiftRange[1],step:"0","hide-details":""},model:{value:e.shift,callback:function(t){e.shift=t},expression:"shift"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{type:"number",min:e.shiftRange[0],max:e.shiftRange[1],step:"1","hide-details":""},model:{value:e.shift,callback:function(t){e.shift=t},expression:"shift"}})],1)],1)],1):e._e(),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-checkbox",{class:e.$style.slimInput,attrs:{"hide-details":"",label:"Apply color to slices"},on:{change:e.applyColorToSlices},model:{value:e.colorToSlices,callback:function(t){e.colorToSlices=t},expression:"colorToSlices"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-checkbox",{class:e.$style.slimInput,attrs:{"hide-details":"",label:"Apply opacity to slices"},on:{change:e.applyOpacityToSlices},model:{value:e.opacityToSlices,callback:function(t){e.opacityToSlices=t},expression:"opacityToSlices"}})],1)]:e._e(),e._v(" "),"geometry"===e.available&&e.colorByName?n("v-flex",{attrs:{xs12:""}},[n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs2:""}},[n("v-icon",{class:e.$style.click,on:{click:function(t){t.stopPropagation(),e.interpolateScalarsBeforeMapping=!e.interpolateScalarsBeforeMapping}}},[e._v("\n                "+e._s(e.interpolateScalarsBeforeMapping?"mdi-checkbox-marked":"mdi-checkbox-blank-outline")+"\n              ")])],1),e._v(" "),n("v-flex",{attrs:{xs10:""}},[n("span",{staticClass:"body-2"},[e._v("Interpolate scalar before mapping")])])],1)],1):e._e()],2)],1)],1)],1):e._e()};a._withStripped=!0;var i=n(546),r=n(549),o=n(8),s=n(357),l=n(110),c=n(104),u=n(131),d=n(34),p=n(132),v=n(55),f=n(356),g=c.Z.Mode,m={text:"Solid color",value:"solid"},y=document.createElement("canvas");function h(e,t,n,a){y.setAttribute("width",a);var i=y.getContext("2d"),r=e.getUint8Table(t,n,a,!0),o=i.getImageData(0,0,a,1);return o.data.set(r),i.putImageData(o,0,0),y.toDataURL("image/jpg")}y.setAttribute("width",300),y.setAttribute("height",1);var b={name:"ColorBy",props:["sourceId"],components:{PalettePicker:d.Z,PiecewiseFunctionEditor:u.Z,TreeView:p.Z},data:function(){return{palette:v.oe.concat("#ffffff","#000000"),available:"",colorBy:"solid",arrays:[m],piecewiseFunction:null,solidColor:"#ffffff",lutImage:"",presetName:"",presets:f.Z,presetMenu:!1,shift:0,dataRange:[0,0],interpolateScalarsBeforeMapping:!0,colorToSlices:!1,opacityToSlices:!1,originalLUTRanges:{}}},computed:{source:function(){return this.$proxyManager.getProxyById(this.sourceId)},colorByName:function(){return Array.isArray(this.colorBy)?this.colorBy[0]:null},colorByLocation:function(){return Array.isArray(this.colorBy)?this.colorBy[1]:null},hasPresetOpacity:function(){var e=l.Z.getPresetByName(this.presetName);return Boolean(e&&e.OpacityPoints)},shiftRange:function(){var e=l.Z.getPresetByName(this.presetName);if(e){for(var t=1/0,n=-1/0,a=0;a<e.RGBPoints.length;a+=4)t=Math.min(t,e.RGBPoints[a]),n=Math.max(n,e.RGBPoints[a]);var i=(n-t)/2;return[-i,i]}return[0,0]},origDataRange:function(){var e;return null!==(e=this.originalLUTRanges[this.colorByName])&&void 0!==e?e:[]},arraySelectValue:function(){var e=this;return this.arrays.find((function(t){return Array.isArray(t.value)?t.value[0]===e.colorByName&&t.value[1]===e.colorByLocation:t.value===e.colorBy}))}},watch:{interpolateScalarsBeforeMapping:function(e){this.updateRepProperty("interpolateScalarsBeforeMapping",e)},colorBy:function(){var e=this;if("geometry"===this.available){var t=this.$proxyManager.getRepresentations().filter((function(t){return t.getInput()===e.source}));if(t.forEach((function(t){return t.setColorBy(e.colorByName,e.colorByLocation)})),this.colorByName){var n=this.$proxyManager.getLookupTable(this.colorByName);this.setDataRange(n.getDataRange())}this.interpolateScalarsBeforeMapping=t.reduce((function(e,t){return e||t.getInterpolateScalarsBeforeMapping()}),!1),this.$proxyManager.renderAllViews(),this.setPreset()}this.colorByName&&this.updateLookupTableImage()},solidColor:function(e){var t=s.ZP.hex2float(e);this.updateRepProperty.apply(this,["color"].concat((0,r.Z)(t)))},presetName:function(){this.renderPreset()},shift:function(){this.renderPreset()},hasPresetOpacity:function(e){var t=this.colorByName,n=this.$proxyManager.getPiecewiseFunction(t);e?n.setMode(g.Points):n.setMode(g.Gaussians)},dataRange:function(){this.applyColorMap()}},proxyManagerHooks:{onProxyRegistrationChange:function(e){"Representations"===e.proxyGroup&&this.update()}},mounted:function(){document.addEventListener("keyup",this.onEsc),this.$nextTick(this.update)},beforeDestroy:function(){document.removeEventListener("keyup",this.onEsc)},methods:{updateRepProperty:function(e){for(var t=this,n="set".concat(o.ZP.capitalize(e)),a=this.$proxyManager.getRepresentations().filter((function(e){return e.getInput()===t.source})),i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];for(var l=0;l<a.length;l++){var c;if(a[l][n])(c=a[l])[n].apply(c,r)}this.$proxyManager.renderAllViews()},onChangePreset:function(e){e&&(this.presetName=e.Name,this.hasPresetOpacity&&(this.shift=0)),this.presetMenu=!1},onEsc:function(e){27===e.keyCode&&(this.presetMenu=!1)},renderPreset:function(){this.applyColorMap(),this.applyOpacity(),this.updateLookupTableImage(),this.$proxyManager.renderAllViews()},applyOpacity:function(){var e=this.colorByName,t=this.$proxyManager.getPiecewiseFunction(e),n=l.Z.getPresetByName(this.presetName);if(this.hasPresetOpacity&&n&&n.OpacityPoints){for(var a=[],o=0;o<n.OpacityPoints.length;o+=2)a.push([n.OpacityPoints[o],n.OpacityPoints[o+1]]);var s=(0,i.Z)(this.shiftRange,2),c=s[0],u=s[1],d=u-c,p=a.map((function(e){var t=(0,i.Z)(e,2),n=t[0],a=t[1];return[(n-c)/d,a]}));t.setPoints(p),c+=this.shift,u+=this.shift,t.setDataRange(c,u)}else t.setDataRange.apply(t,(0,r.Z)(this.dataRange))},applyColorMap:function(){var e=this.colorByName,t=this.$proxyManager.getLookupTable(e);if(t.setPresetName(this.presetName),this.hasPresetOpacity){var n=(0,i.Z)(this.shiftRange,2),a=n[0],o=n[1];a+=this.shift,o+=this.shift,t.setDataRange(a,o)}else t.setDataRange.apply(t,(0,r.Z)(this.dataRange))},updateLookupTableImage:function(){var e=this.colorByName,t=this.$proxyManager.getLookupTable(e);this.lutImage=h.apply(void 0,[t.getLookupTable()].concat((0,r.Z)(t.getDataRange()),[256])),this.piecewiseFunction=this.$proxyManager.getPiecewiseFunction(e)},setPreset:function(){if(this.colorByName){var e=this.$proxyManager.getLookupTable(this.colorByName);if(this.presetName=e.getPresetName(),this.hasPresetOpacity){var t=this.$proxyManager.getPiecewiseFunction(this.colorByName).getDataRange();this.shift=t[0]-this.shiftRange[0]}}},update:function(){var e=this,t=this.$proxyManager.getRepresentations().filter((function(t){return t.getInput()===e.source}));if(t.length){var n=t.find((function(e){return"Geometry"===e.getProxyName()})),a=t.find((function(e){return"Volume"===e.getProxyName()})),i=t.find((function(e){return"SliceX"===e.getProxyName()}));if(n)this.available="geometry";else{if(!a)return void(this.available="");this.available="volume"}var r=n||a,o=r.getReferenceByName("ui").find((function(e){return"colorBy"===e.name}));o&&(this.arrays=function(e){var t=[];arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&t.push(m);for(var n=0;n<e.length;n++){var a=e[n];t.push({text:a.name,value:[a.name,a.location]})}return t}(o.domain.arrays,"geometry"===this.available));var l=r.getColorBy(),c=r.getInputDataSet(),u=c.getPointData().getScalars(),d=c.getCellData().getScalars();l.length?this.colorBy=l.slice(0,2):this.colorBy=u?[u.getName(),"pointData"]:d?[d.getName(),"cellData"]:"solid","geometry"===this.available&&(this.solidColor=s.ZP.floatRGB2HexCode(n.getColor())),i&&(this.colorToSlices=i.getUseColorByForColor(),this.opacityToSlices=i.getUseColorByForOpacity(),this.applyFuncsToSlices({color:this.colorToSlices,opacity:this.opacityToSlices}))}if(this.setPreset(),this.colorByName){var p=this.$proxyManager.getLookupTable(this.colorByName);this.saveOriginalRange({arrayName:this.colorByName,dataRange:p.getDataRange()}),this.setDataRange(p.getDataRange())}},setDataRangeIndex:function(e,t){var n=Number.parseFloat(t);if(!Number.isNaN(n)){var a=(0,r.Z)(this.dataRange);a[e]=t,a[0]<a[1]&&this.setDataRange(a)}},resetDataRange:function(){this.setDataRange(this.origDataRange),this.$proxyManager.renderAllViews()},applyColorToSlices:function(e){this.applyFuncsToSlices({color:!!e})},applyOpacityToSlices:function(e){this.applyFuncsToSlices({opacity:!!e})},applyFuncsToSlices:function(e){var t=this,n=e.color,a=e.opacity;this.colorToSlices=null!=n?n:this.colorToSlices,this.opacityToSlices=null!=a?a:this.opacityToSlices;var i=this.$proxyManager.getRepresentations().filter((function(e){return e.getInput()===t.source})).find((function(e){return e.isA("vtkCustomSliceRepresentationProxy")}));i&&(i.setUseColorByForColor(this.colorToSlices),i.setUseColorByForOpacity(this.opacityToSlices)),this.$proxyManager.renderAllViews()},setDataRange:function(e){this.dataRange=[Number(e[0])||0,Number(e[1])||0]},setColorBy:function(e){this.colorBy=e},saveOriginalRange:function(e){var t=e.arrayName,n=e.dataRange;this.$set(this.originalLUTRanges,t,n)}}},x=b,w=n(35),P=n(550),_=n(3),S=n.n(_),k=n(580),O=n(584),C=n(589),V=n(610),I=n(569),D=n(588),T=n(571),Z=n(611),$=n(613),M=n(625),L=n(626),j=n(607),R=n(627);e=n.hmd(e);var B={};e.hot,e.hot;var A=(0,P.Z)(x,a,[],!1,(function(e){B.$style=w.Z.locals||w.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return B.$style}})}),null,null);S()(A,{VBtn:k.Z,VCard:O.Z,VCheckbox:C.Z,VContainer:V.Z,VFlex:I.Z,VIcon:D.Z,VLayout:T.Z,VMenu:Z.Z,VSelect:$.Z,VSlider:M.Z,VSpacer:L.Z,VTextField:j.Z,VTooltip:R.Z}),A.options.__file="src/components/controls/ColorBy/index.vue";var F=A.exports},135:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.hasFieldData()?n("v-card",{class:e.$style.block,attrs:{flat:""}},[n("v-card-text",{class:e.$style.blockContent},[n("v-select",{class:e.$style.noSelect,staticStyle:{"margin-bottom":"10px"},attrs:{label:e.name||e.type,items:this.getFieldData().getArrays().map((function(e){return e.getName()})),dense:"",flat:"","hide-details":""},model:{value:e.activeFieldName,callback:function(t){e.activeFieldName=t},expression:"activeFieldName"}}),e._v(" "),n("v-container",{staticClass:"pa-0",attrs:{fluid:"","grid-list-xs":""}},[e.activeFieldName?n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs6:""}},[e._v("Type:")]),e._v(" "),n("v-flex",{staticClass:"body-2",class:e.$style.canSelect,attrs:{xs6:""}},[e._v("\n          "+e._s(e.getActiveArray().getDataType())+"\n        ")])],1):e._e(),e._v(" "),e.activeFieldName?n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs6:""}},[e._v("Min value:")]),e._v(" "),n("v-flex",{staticClass:"body-2",class:e.$style.canSelect,attrs:{xs6:""}},[e._v("\n            "+e._s(e.getActiveArray().getRange()[0].toFixed(3))+"\n          ")])],1):e._e(),e._v(" "),e.activeFieldName?n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs6:""}},[e._v("Max value:")]),e._v(" "),n("v-flex",{staticClass:"body-2",class:e.$style.canSelect,attrs:{xs6:""}},[e._v("\n            "+e._s(e.getActiveArray().getRange()[1].toFixed(3))+"\n          ")])],1):e._e(),e._v(" "),e.activeFieldName?n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs6:""}},[e._v("# of components:")]),e._v(" "),n("v-flex",{staticClass:"body-2",class:e.$style.canSelect,attrs:{xs6:""}},[e._v("\n            "+e._s(e.getActiveArray().getNumberOfComponents())+"\n          ")])],1):e._e()],1)],1)],1):e._e()};a._withStripped=!0;var i={name:"FieldDataInformation",props:{dataset:{required:!0},name:{type:String},type:{type:String,required:!0}},data:function(){return{activeFieldName:null}},mounted:function(){if(this.hasFieldData()){var e=this.getFieldData().getArrays();this.activeFieldName=e[0].getName()}},methods:{hasFieldData:function(){return this.dataset["get".concat(this.type)]&&this.getFieldData().getArrays().length>0},getFieldData:function(){return this.dataset["get".concat(this.type)]()},getActiveArray:function(){return this.getFieldData().getArray(this.activeFieldName)}}},r=n(35),o=n(550),s=n(3),l=n.n(s),c=n(584),u=n(568),d=n(610),p=n(569),v=n(571),f=n(613);e=n.hmd(e);var g={};e.hot,e.hot;var m=(0,o.Z)(i,a,[],!1,(function(e){g.$style=r.Z.locals||r.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return g.$style}})}),null,null);l()(m,{VCard:c.Z,VCardText:u.ZB,VContainer:d.Z,VFlex:p.Z,VLayout:v.Z,VSelect:f.Z}),m.options.__file="src/components/controls/Information/FieldData/index.vue";var y=m.exports},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dataset.isA("vtkImageData")?n("v-card",{class:e.$style.block,attrs:{flat:""}},[n("v-card-title",{class:e.$style.blockTitle},[n("span",{staticClass:"body-2 font-weight-medium"},[e._v("vtkImageData")])]),e._v(" "),n("v-card-text",{class:e.$style.blockContent},[n("v-container",{staticClass:"pa-0",attrs:{fluid:"","grid-list-xs":""}},[n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs5:""}},[e._v("Dimensions:")]),e._v(" "),n("v-flex",{staticClass:"body-2",class:e.$style.canSelect,attrs:{xs7:""}},[e._v("\n          ("+e._s(e.showVect(e.dataset.getDimensions(),", "))+")\n        ")])],1),e._v(" "),n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs5:""}},[e._v("Origin:")]),e._v(" "),n("v-flex",{staticClass:"body-2",class:e.$style.canSelect,attrs:{xs7:""}},[e._v("\n          ("+e._s(e.showVect(e.dataset.getOrigin()))+")\n        ")])],1),e._v(" "),n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs5:""}},[e._v("Spacing:")]),e._v(" "),n("v-flex",{staticClass:"body-2",class:e.$style.canSelect,attrs:{xs7:""}},[e._v("\n          ("+e._s(e.showVect(e.dataset.getSpacing()))+")\n        ")])],1),e._v(" "),n("v-layout",{attrs:{row:"","align-top":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs5:""}},[e._v("Orientation:")]),e._v(" "),n("v-flex",{staticClass:"body-2",class:e.$style.canSelect,attrs:{xs7:""}},[n("matrix-view",{class:e.$style.matrix,attrs:{matrix:e.dataset.getDirection(),rows:3,columns:3}})],1)],1)],1)],1)],1):e._e()};a._withStripped=!0;var i={name:"ImageDataInformation",props:["dataset"],components:{MatrixView:n(137).Z},methods:{showVect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:", ";return e.map((function(e){return e.toFixed(2)})).join(t)}}},r=i,o=n(35),s=n(550),l=n(3),c=n.n(l),u=n(584),d=n(568),p=n(610),v=n(569),f=n(571);e=n.hmd(e);var g={};e.hot,e.hot;var m=(0,s.Z)(r,a,[],!1,(function(e){g.$style=o.Z.locals||o.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return g.$style}})}),null,null);c()(m,{VCard:u.Z,VCardText:d.ZB,VCardTitle:d.EB,VContainer:p.Z,VFlex:v.Z,VLayout:f.Z}),m.options.__file="src/components/controls/Information/ImageData/index.vue";var y=m.exports},137:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"pa-1"},e._l(e.rows,(function(t){return n("v-layout",{key:t,attrs:{row:"","align-center":""}},e._l(e.columns,(function(a){return n("v-flex",{key:t*e.rows+a},[n("span",{class:e.$style.canSelect},[e._v("\n        "+e._s(e.matrix[(t-1)*e.rows+(a-1)].toFixed(2))+"\n      ")])])})),1)})),1)};a._withStripped=!0;var i={name:"MatrixViewInformation",props:{rows:{type:Number,required:!0},columns:{type:Number,required:!0},matrix:{required:!0}}},r=n(75),o=n(550),s=n(3),l=n.n(s),c=n(610),u=n(569),d=n(571);e=n.hmd(e);var p={};e.hot,e.hot;var v=(0,o.Z)(i,a,[],!1,(function(e){p.$style=r.Z.locals||r.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return p.$style}})}),null,null);l()(v,{VContainer:c.Z,VFlex:u.Z,VLayout:d.Z}),v.options.__file="src/components/controls/Information/MatrixView/index.vue";var f=v.exports},138:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dataset.isA("vtkMolecule")?n("v-card",{class:e.$style.block,attrs:{flat:""}},[n("v-card-title",{class:e.$style.blockTitle},[n("span",{staticClass:"body-2 font-weight-medium"},[e._v("vtkMolecule")])]),e._v(" "),n("v-card-text",{class:e.$style.blockContent})],1):e._e()};a._withStripped=!0;var i={name:"MoleculeInformation",props:["dataset"]},r=n(75),o=n(550),s=n(3),l=n.n(s),c=n(584),u=n(568);e=n.hmd(e);var d={};e.hot,e.hot;var p=(0,o.Z)(i,a,[],!1,(function(e){d.$style=r.Z.locals||r.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return d.$style}})}),null,null);l()(p,{VCard:c.Z,VCardText:u.ZB,VCardTitle:u.EB}),p.options.__file="src/components/controls/Information/Molecule/index.vue";var v=p.exports},139:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dataset.isA("vtkPolyData")?n("v-card",{class:e.$style.block,attrs:{flat:""}},[n("v-card-title",{class:e.$style.blockTitle},[n("span",{staticClass:"body-2 font-weight-medium"},[e._v("vtkPolyData")])]),e._v(" "),n("v-card-text",{class:e.$style.blockContent},[n("v-container",{staticClass:"pa-0",attrs:{fluid:"","grid-list-xs":""}},[n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs6:""}},[e._v("# of points:")]),e._v(" "),n("v-flex",{staticClass:"body-2",class:e.$style.canSelect,attrs:{xs6:""}},[e._v(e._s(e.formatNumbersWithThousandSeparator(e.dataset.getPoints().getNumberOfPoints(),",")))])],1),e._v(" "),n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs6:""}},[e._v("# of cells:")]),e._v(" "),n("v-flex",{staticClass:"body-2",class:e.$style.canSelect,attrs:{xs6:""}},[e._v(e._s(e.formatNumbersWithThousandSeparator(e.dataset.getNumberOfCells(),",")))])],1)],1)],1)],1):e._e()};a._withStripped=!0;var i={name:"PolyDataInformation",props:["dataset"],methods:{formatNumbersWithThousandSeparator:n(8).ZP.formatNumbersWithThousandSeparator}},r=n(35),o=n(550),s=n(3),l=n.n(s),c=n(584),u=n(568),d=n(610),p=n(569),v=n(571);e=n.hmd(e);var f={};e.hot,e.hot;var g=(0,o.Z)(i,a,[],!1,(function(e){f.$style=r.Z.locals||r.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return f.$style}})}),null,null);l()(g,{VCard:c.Z,VCardText:u.ZB,VCardTitle:u.EB,VContainer:d.Z,VFlex:p.Z,VLayout:v.Z}),g.options.__file="src/components/controls/Information/PolyData/index.vue";var m=g.exports},134:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.available?n("div",[n("vtk-image-data",{attrs:{dataset:e.source.getDataset()}}),e._v(" "),n("vtk-molecule",{attrs:{dataset:e.source.getDataset()}}),e._v(" "),n("vtk-poly-data",{attrs:{dataset:e.source.getDataset()}}),e._v(" "),n("vtk-field-data",{attrs:{dataset:e.source.getDataset(),name:"Point Data",type:"PointData"}}),e._v(" "),n("vtk-field-data",{attrs:{dataset:e.source.getDataset(),name:"Cell Data",type:"CellData"}})],1):e._e()};a._withStripped=!0;var i=n(135),r=n(136),o=n(138),s=n(139),l={name:"Information",props:["sourceId"],components:{VtkFieldData:i.Z,VtkImageData:r.Z,VtkMolecule:o.Z,VtkPolyData:s.Z},computed:{source:function(){return this.$proxyManager.getProxyById(this.sourceId)},available:function(){if(this.source){var e=this.source.getDataset();if(e&&e.isA)return e.isA("vtkPolyData")||e.isA("vtkImageData")}return!1}}},c=n(75),u=n(550);e=n.hmd(e);var d={};e.hot,e.hot;var p=(0,u.Z)(l,a,[],!1,(function(e){d.$style=c.Z.locals||c.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return d.$style}})}),null,null);p.options.__file="src/components/controls/Information/index.vue";var v=p.exports},140:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.domains.atomicRadiusScaleFactor?n("div",[n("v-card",{class:e.$style.block,attrs:{light:"",flat:""}},[n("v-card-text",{class:e.$style.blockContent},[n("v-container",{staticClass:"pa-0",attrs:{fluid:"","grid-list-xs":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{xs3:""}},[n("label",{class:e.$style.smallLabel},[e._v("Tolerance")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.tolerance.min,max:e.domains.tolerance.max,step:e.domains.tolerance.step},model:{value:e.tolerance,callback:function(t){e.tolerance=t},expression:"tolerance"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.tolerance.min,max:e.domains.tolerance.max,step:e.domains.tolerance.step},model:{value:e.tolerance,callback:function(t){e.tolerance=t},expression:"tolerance"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("label",{class:e.$style.smallLabel},[e._v("Atomic")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.atomicRadiusScaleFactor.min,max:e.domains.atomicRadiusScaleFactor.max,step:e.domains.atomicRadiusScaleFactor.step},model:{value:e.atomicRadiusScaleFactor,callback:function(t){e.atomicRadiusScaleFactor=t},expression:"atomicRadiusScaleFactor"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.atomicRadiusScaleFactor.min,max:e.domains.atomicRadiusScaleFactor.max,step:e.domains.atomicRadiusScaleFactor.step},model:{value:e.atomicRadiusScaleFactor,callback:function(t){e.atomicRadiusScaleFactor=t},expression:"atomicRadiusScaleFactor"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("label",{class:e.$style.smallLabel},[e._v("Bond")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.bondRadius.min,max:e.atomicRadiusScaleFactor,step:e.domains.bondRadius.step},model:{value:e.bondRadius,callback:function(t){e.bondRadius=t},expression:"bondRadius"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.bondRadius.min,max:e.atomicRadiusScaleFactor,step:e.domains.bondRadius.step},model:{value:e.bondRadius,callback:function(t){e.bondRadius=t},expression:"bondRadius"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("label",{class:e.$style.smallLabel},[e._v("Hide Elements")])]),e._v(" "),n("v-flex",{attrs:{xs9:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":""},model:{value:e.hideElements,callback:function(t){e.hideElements=t},expression:"hideElements"}})],1)],1)],1)],1)],1)],1):e._e()};a._withStripped=!0;var i=n(141).Z.generateComponent("Molecule",[{name:"tolerance",initialValue:1},{name:"atomicRadiusScaleFactor",initialValue:1},{name:"bondRadius",initialValue:1},{name:"hideElements",initialValue:""}],!1,{onChange:{bondRadius:"updateData",atomicRadiusScaleFactor:"updateData"}}),r=n(35),o=n(550),s=n(3),l=n.n(s),c=n(584),u=n(568),d=n(610),p=n(569),v=n(571),f=n(625),g=n(607);e=n.hmd(e);var m={};e.hot,e.hot;var y=(0,o.Z)(i,a,[],!1,(function(e){m.$style=r.Z.locals||r.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return m.$style}})}),null,null);l()(y,{VCard:c.Z,VCardText:u.ZB,VContainer:d.Z,VFlex:p.Z,VLayout:v.Z,VSlider:f.Z,VTextField:g.Z}),y.options.__file="src/components/controls/Molecule/index.vue";var h=y.exports},142:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.domains.representation||e.domains.opacity||e.domains.sampleDistance?n("div",[e.domains.representation?n("v-card",{class:e.$style.block,attrs:{flat:""}},[n("v-container",{staticClass:"pa-0",attrs:{fluid:"","grid-list-xs":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{xs12:""}},[n("v-select",{attrs:{dense:"",flat:"",label:"Type",items:e.domains.representation.items},model:{value:e.representation,callback:function(t){e.representation=t},expression:"representation"}})],1)],1)],1)],1):e._e(),e._v(" "),e.domains.opacity&&e.domains.pointSize?n("v-card",{class:e.$style.block,attrs:{flat:""}},[n("v-card-title",{class:e.$style.blockTitle,attrs:{flat:""}},[n("span",{staticClass:"body-2"},[e._v("Mesh")])]),e._v(" "),n("v-card-text",{class:e.$style.blockContent},[n("v-container",{staticClass:"pa-0",attrs:{fluid:"","grid-list-xs":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{xs3:""}},[n("label",{class:e.$style.smallLabel},[e._v("Point Size")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.pointSize.min,max:e.domains.pointSize.max,step:e.domains.pointSize.step},model:{value:e.pointSize,callback:function(t){e.pointSize=t},expression:"pointSize"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.pointSize.min,max:e.domains.pointSize.max,step:e.domains.pointSize.step},model:{value:e.pointSize,callback:function(t){e.pointSize=t},expression:"pointSize"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("label",{class:e.$style.smallLabel},[e._v("Opacity")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.opacity.min,max:e.domains.opacity.max,step:e.domains.opacity.step},model:{value:e.opacity,callback:function(t){e.opacity=t},expression:"opacity"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.opacity.min,max:e.domains.opacity.max,step:e.domains.opacity.step,value:e.opacity},on:{input:function(t){e.opacity=Number(t)}}})],1)],1)],1)],1)],1):e._e(),e._v(" "),e.domains.sampleDistance&&e.domains.edgeGradient?n("v-card",{class:e.$style.block,attrs:{flat:""}},[n("v-card-title",{class:e.$style.blockTitle,attrs:{flat:""}},[n("span",{staticClass:"body-2"},[e._v("Shadow & Edge")])]),e._v(" "),n("v-card-text",{class:e.$style.blockContent},[n("v-container",{staticClass:"pa-0",attrs:{fluid:"","grid-list-xs":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{xs3:""}},[n("label",{class:e.$style.smallLabel},[e._v("Sample Distance")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.sampleDistance.min,max:e.domains.sampleDistance.max,step:e.domains.sampleDistance.step},model:{value:e.sampleDistance,callback:function(t){e.sampleDistance=t},expression:"sampleDistance"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.sampleDistance.min,max:e.domains.sampleDistance.max,step:e.domains.sampleDistance.step},model:{value:e.sampleDistance,callback:function(t){e.sampleDistance=t},expression:"sampleDistance"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("label",{class:e.$style.smallLabel},[e._v("Edge Gradient")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.edgeGradient.min,max:e.domains.edgeGradient.max,step:e.domains.edgeGradient.step},model:{value:e.edgeGradient,callback:function(t){e.edgeGradient=t},expression:"edgeGradient"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.edgeGradient.min,max:e.domains.edgeGradient.max,step:e.domains.edgeGradient.step},model:{value:e.edgeGradient,callback:function(t){e.edgeGradient=t},expression:"edgeGradient"}})],1)],1)],1)],1)],1):e._e()],1):e._e()};a._withStripped=!0;var i=n(141).Z.generateComponent("Representation",[{name:"pointSize",initialValue:1},{name:"opacity",initialValue:1},{name:"sampleDistance",initialValue:1},{name:"edgeGradient",initialValue:1},{name:"representation",initialValue:"Surface"}]),r=n(35),o=n(550),s=n(3),l=n.n(s),c=n(584),u=n(568),d=n(610),p=n(569),v=n(571),f=n(613),g=n(625),m=n(607);e=n.hmd(e);var y={};e.hot,e.hot;var h=(0,o.Z)(i,a,[],!1,(function(e){y.$style=r.Z.locals||r.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return y.$style}})}),null,null);l()(h,{VCard:c.Z,VCardText:u.ZB,VCardTitle:u.EB,VContainer:d.Z,VFlex:p.Z,VLayout:v.Z,VSelect:f.Z,VSlider:g.Z,VTextField:m.Z}),h.options.__file="src/components/controls/Representation/index.vue";var b=h.exports},143:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.domains.windowWidth&&e.domains.windowLevel?n("div",[n("v-card",{class:e.$style.block,attrs:{flat:""}},[n("v-card-title",{class:e.$style.blockTitle},[n("span",{staticClass:"body-2"},[e._v("Window/Level")])]),e._v(" "),n("v-card-text",{class:e.$style.blockContent},[n("v-container",{staticClass:"pa-0",attrs:{fluid:"","grid-list-sm":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{xs3:""}},[n("label",{class:e.$style.smallLabel},[e._v("Window")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.windowWidth.min,max:e.domains.windowWidth.max,step:e.domains.windowWidth.step},model:{value:e.windowWidth,callback:function(t){e.windowWidth=t},expression:"windowWidth"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.windowWidth.min,max:e.domains.windowWidth.max,step:e.domains.windowWidth.step},model:{value:e.windowWidth,callback:function(t){e.windowWidth=t},expression:"windowWidth"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("label",{class:e.$style.smallLabel},[e._v("Level")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.windowLevel.min,max:e.domains.windowLevel.max,step:e.domains.windowLevel.step},model:{value:e.windowLevel,callback:function(t){e.windowLevel=t},expression:"windowLevel"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.windowLevel.min,max:e.domains.windowLevel.max,step:e.domains.windowLevel.step},model:{value:e.windowLevel,callback:function(t){e.windowLevel=t},expression:"windowLevel"}})],1)],1)],1)],1)],1),e._v(" "),n("v-card",{class:e.$style.block,attrs:{flat:""}},[n("v-card-title",{class:e.$style.blockTitle,attrs:{flat:""}},[n("span",{staticClass:"body-2"},[e._v("Slices")])]),e._v(" "),n("v-card-text",{class:e.$style.blockContent},[n("v-container",{staticClass:"pa-0",attrs:{fluid:"","grid-list-sm":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{class:e.isSliceAvailable("x")||e.isSliceAvailable("default")&&e.xSliceVisibility?"":e.$style.disable,attrs:{xs2:""}},[n("v-btn",{staticClass:"flex-shrink-0",class:e.$style.button,attrs:{fab:"",small:"",outlined:!e.getToggleSliceX(),dark:e.getToggleSliceX(),color:"blue-grey"},on:{click:function(t){return t.stopPropagation(),e.setToggleSliceX()}}},[n("label",{class:e.$style.smallLabel},[e._v("X")])])],1),e._v(" "),n("v-flex",{class:e.isSliceAvailable("x")||e.isSliceAvailable("default")&&e.xSliceVisibility?"":e.$style.disable,attrs:{xs7:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.xSlice.min,max:e.domains.xSlice.max,step:e.domains.xSlice.step},model:{value:e.xSlice,callback:function(t){e.xSlice=t},expression:"xSlice"}})],1),e._v(" "),n("v-flex",{class:e.isSliceAvailable("x")||e.isSliceAvailable("default")&&e.xSliceVisibility?"":e.$style.disable,attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.xSlice.min,max:e.domains.xSlice.max,step:e.domains.xSlice.step},model:{value:e.xSlice,callback:function(t){e.xSlice=t},expression:"xSlice"}})],1),e._v(" "),n("v-flex",{class:e.isSliceAvailable("y")||e.isSliceAvailable("default")&&e.ySliceVisibility?"":e.$style.disable,attrs:{xs2:""}},[n("div",{staticStyle:{position:"relative"}},[n("v-btn",{class:e.$style.button,attrs:{fab:"",small:"",outlined:!e.getToggleSliceY(),dark:e.getToggleSliceY(),color:"blue-grey"},on:{click:function(t){return t.stopPropagation(),e.setToggleSliceY()}}},[n("label",{class:e.$style.smallLabel},[e._v("Y")])])],1)]),e._v(" "),n("v-flex",{class:e.isSliceAvailable("y")||e.isSliceAvailable("default")&&e.ySliceVisibility?"":e.$style.disable,attrs:{xs7:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.ySlice.min,max:e.domains.ySlice.max,step:e.domains.ySlice.step},model:{value:e.ySlice,callback:function(t){e.ySlice=t},expression:"ySlice"}})],1),e._v(" "),n("v-flex",{class:e.isSliceAvailable("y")||e.isSliceAvailable("default")&&e.ySliceVisibility?"":e.$style.disable,attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.ySlice.min,max:e.domains.ySlice.max,step:e.domains.ySlice.step},model:{value:e.ySlice,callback:function(t){e.ySlice=t},expression:"ySlice"}})],1),e._v(" "),n("v-flex",{class:e.isSliceAvailable("z")||e.isSliceAvailable("default")&&e.zSliceVisibility?"":e.$style.disable,attrs:{xs2:""}},[n("div",{staticStyle:{position:"relative"}},[n("v-btn",{class:e.$style.button,attrs:{fab:"",small:"",outlined:!e.getToggleSliceZ(),dark:e.getToggleSliceZ(),color:"blue-grey"},on:{click:function(t){return t.stopPropagation(),e.setToggleSliceZ()}}},[n("label",{class:e.$style.smallLabel},[e._v("Z")])])],1)]),e._v(" "),n("v-flex",{class:e.isSliceAvailable("z")||e.isSliceAvailable("default")&&e.zSliceVisibility?"":e.$style.disable,attrs:{xs7:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:e.domains.zSlice.min,max:e.domains.zSlice.max,step:e.domains.zSlice.step},model:{value:e.zSlice,callback:function(t){e.zSlice=t},expression:"zSlice"}})],1),e._v(" "),n("v-flex",{class:e.isSliceAvailable("z")||e.isSliceAvailable("default")&&e.zSliceVisibility?"":e.$style.disable,attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:e.domains.zSlice.min,max:e.domains.zSlice.max,step:e.domains.zSlice.step},model:{value:e.zSlice,callback:function(t){e.zSlice=t},expression:"zSlice"}})],1)],1)],1)],1)],1),e._v(" "),n("v-card",{class:e.$style.block,attrs:{flat:""}},[n("v-card-title",{class:e.$style.blockTitle},[n("span",{staticClass:"body-2"},[e._v("Opacity")])]),e._v(" "),n("v-card-text",{class:e.$style.blockContent},[n("v-container",{staticClass:"pa-0",attrs:{fluid:"","grid-list-sm":""}},[n("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[n("v-flex",{attrs:{xs9:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"","always-dirty":"",min:"0",max:"1",step:"0.01"},model:{value:e.opacity,callback:function(t){e.opacity=t},expression:"opacity"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:"0",max:"1",step:"0.01"},model:{value:e.opacity,callback:function(t){e.opacity=t},expression:"opacity"}})],1)],1)],1)],1)],1)],1):e._e()};a._withStripped=!0;var i=n(141);function r(e){var t="set".concat(e),n="get".concat(e);function a(){var e=null;return i.Z.findProxiesWithMethod(this,n).forEach((function(t){e=t[n]()})),e}return{get:a,set:function(){var e=!a.apply(this);i.Z.findProxiesWithMethod(this,t).forEach((function(n){n[t](e)})),this.$forceUpdate()}}}var o=[{name:"visibility",initialValue:!1},{name:"windowLevel",initialValue:1024},{name:"windowWidth",initialValue:2048},{name:"xSlice",initialValue:-1},{name:"ySlice",initialValue:-1},{name:"zSlice",initialValue:-1},{name:"xSliceVisibility",initialValue:!1},{name:"ySliceVisibility",initialValue:!1},{name:"zSliceVisibility",initialValue:!1},{name:"opacity",initialValue:1},{name:"toggleSliceX",computed:r("XSliceVisibility")},{name:"toggleSliceY",computed:r("YSliceVisibility")},{name:"toggleSliceZ",computed:r("ZSliceVisibility")}];var s=i.Z.generateComponent("SliceControl",o,!0,{});Object.assign(s.methods,{isSliceAvailable:function(e){return!!this.$proxyManager.getViews().filter((function(e){return e.getContainer()})).filter((function(t){return t.getName()===e})).length}});var l=s,c=n(35),u=n(550),d=n(3),p=n.n(d),v=n(580),f=n(584),g=n(568),m=n(610),y=n(569),h=n(571),b=n(625),x=n(607);e=n.hmd(e);var w={};e.hot,e.hot;var P=(0,u.Z)(l,a,[],!1,(function(e){w.$style=c.Z.locals||c.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return w.$style}})}),null,null);p()(P,{VBtn:v.Z,VCard:f.Z,VCardText:g.ZB,VCardTitle:g.EB,VContainer:m.Z,VFlex:y.Z,VLayout:h.Z,VSlider:b.Z,VTextField:x.Z}),P.options.__file="src/components/controls/SliceControl/index.vue";var _=P.exports},127:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("div",{class:e.$style.close},[n("v-btn",{attrs:{text:"",icon:""},on:{click:function(t){return e.$emit("close")}}},[n("v-icon",[e._v("mdi-close")])],1)],1),e._v(" "),n("v-card-title",{staticClass:"text-center"},[n("svg-icon",{class:e.$style.glanceIcon,attrs:{icon:"paraview-glance"}})],1),e._v(" "),n("v-card-text",[n("p",{staticClass:"body-1"},[n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://kitware.github.io/Glance/"}},[e._v("Glance")]),e._v("\n      is an open-source web application developed at\n      "),n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://www.kitware.com/"}},[e._v("Kitware")]),e._v("\n      for visualizing volumetric images, molecular structures, geometric\n      objects, and point clouds. It is part of the\n      "),n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://www.paraview.org"}},[e._v("ParaView")]),e._v("\n      platform and can serve as a foundation for building custom web-based\n      visualization applications involving\n      "),n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"http://insightsoftwareconsortium.github.io/itk-js/"}},[e._v("ITK.js")]),e._v("\n      and\n      "),n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://kitware.github.io/vtk-js/"}},[e._v("VTK.js")]),e._v(".\n    ")]),e._v(" "),n("ul",{staticClass:"ml-5"},[n("li",{staticClass:"body-1"},[n("span",[e._v("Here is our")]),e._v(" "),n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://kitware.github.io/Glance/doc/"}},[e._v("documentation")]),e._v(".\n      ")]),e._v(" "),n("li",{staticClass:"body-1"},[n("span",[e._v("We are open source!")]),e._v(" "),n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/Kitware/Glance"}},[e._v("Code is on Github")]),e._v(".\n      ")]),e._v(" "),n("li",{staticClass:"body-1"},[n("span",[e._v("Current version: "+e._s(e.version))])])]),e._v(" "),n("v-layout",{staticClass:"text-center",attrs:{row:"",wrap:"","align-end":""}},[n("v-flex",{attrs:{xs4:""}},[n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://www.kitware.com"}},[n("svg-icon",{class:e.$style.aboutIcon,attrs:{icon:"kitware"}})],1)]),e._v(" "),n("v-flex",{attrs:{xs4:""}},[n("div",[e._v("")]),e._v(" "),n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://kitware.github.io/vtk-js/"}},[n("svg-icon",{class:e.$style.aboutIcon,attrs:{icon:"vtkjs"}})],1)]),e._v(" "),n("v-flex",{attrs:{xs4:""}},[n("div",[e._v("")]),e._v(" "),n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"http://insightsoftwareconsortium.github.io/itk-js/"}},[n("svg-icon",{class:e.$style.aboutIcon,attrs:{icon:"itkjs"}})],1)])],1),e._v(" "),n("div",{staticClass:"pt-4 d-block text-center grey--text text--darken-2"},[e._v("\n       "+e._s((new Date).getFullYear())+"  Kitware, Inc.\n    ")])],1)],1)};a._withStripped=!0;var i={name:"AboutBox",components:{SvgIcon:n(71).Z},data:function(){return{version:"not available"}},created:function(){window.GLANCE_VERSION&&("master"===window.GLANCE_VERSION?this.version="nightly (master)":this.version=window.GLANCE_VERSION)}},r={close:"AboutBox-close-_khm3",aboutIcon:"AboutBox-aboutIcon-npj_s",glanceIcon:"AboutBox-glanceIcon-x8OkE"},o=n(550),s=n(3),l=n.n(s),c=n(580),u=n(584),d=n(568),p=n(569),v=n(588),f=n(571);e=n.hmd(e);var g={};e.hot,e.hot;var m=(0,o.Z)(i,a,[],!1,(function(e){g.$style=r.locals||r,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return g.$style}})}),null,null);l()(m,{VBtn:c.Z,VCard:u.Z,VCardText:d.ZB,VCardTitle:d.EB,VFlex:p.Z,VIcon:v.Z,VLayout:f.Z}),m.options.__file="src/components/core/AboutBox/index.vue";var y=m.exports},125:function(e,t,n){"use strict";n.d(t,{Z:function(){return ae}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("drag-and-drop",{attrs:{enabled:!e.landingVisible&&!e.fileUploadDialog},on:{drop:e.openFileList},scopedSlots:e._u([{key:"default",fn:function(t){var a,i=t.dragHover;return[n("v-app",[n("v-navigation-drawer",{attrs:{clipped:e.$vuetify.breakpoint.mdAndUp,"mobile-breakpoint":e.$vuetify.breakpoint.thresholds.sm,app:"",fixed:"","disable-resize-watcher":"",touchless:"",width:"300"},model:{value:e.controlsDrawer,callback:function(t){e.controlsDrawer=t},expression:"controlsDrawer"}},[n("controls-drawer")],1),e._v(" "),n("v-app-bar",{attrs:{app:"","clipped-left":""}},[n("v-app-bar-nav-icon",{attrs:{disabled:e.landingVisible},nativeOn:{click:function(t){t.stopPropagation(),e.controlsDrawer=!e.controlsDrawer}}}),e._v(" "),n("v-tooltip",{attrs:{bottom:"",disabled:e.smallScreen},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("a",e._g({attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.toggleLanding.apply(null,arguments)}}},a),[n("svg-icon",{staticStyle:{"margin-top":"6px"},attrs:{icon:"paraview-glance"+(e.smallScreen?"-small":""),height:"52px"}})],1)]}}],null,!0)},[e._v(" "),e.landingVisible?n("span",{key:"if-landingVisible"},[e._v("Go to app")]):n("span",{key:"if-landingVisible"},[e._v("Back to landing page")])]),e._v(" "),n("v-spacer"),e._v(" "),n("v-toolbar-items",[e.errors.length?n("v-btn",{key:"if-has-errors",attrs:{text:"",color:"error"},on:{click:function(t){e.errorDialog=!0}}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-alert-circle")]),e._v(" "),n("span",[e._v(e._s(e.errors.length))]),e._v("\n            \n            "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.smallScreen,expression:"!smallScreen"}]},[e._v("error(s)")])],1):e._e()],1),e._v(" "),n("collapsible-toolbar",{attrs:{collapse:e.$vuetify.breakpoint.xsOnly,dense:e.smallScreen},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.state;return[n("collapsible-toolbar-item",{attrs:{state:a},on:{click:e.showFileUpload}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-folder")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:"dense"!==a,expression:"state !== 'dense'"}]},[e._v("Open")])],1),e._v(" "),n("collapsible-toolbar-item",{directives:[{name:"show",rawName:"v-show",value:!e.landingVisible,expression:"!landingVisible"}],attrs:{state:a},on:{click:function(t){return e.saveState()}}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-cloud-download")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:"dense"!==a,expression:"state !== 'dense'"}]},[e._v("Save state")])],1),e._v(" "),n("collapsible-toolbar-item",{directives:[{name:"show",rawName:"v-show",value:!e.landingVisible,expression:"!landingVisible"}],attrs:{state:a},on:{click:function(t){e.screenshotsDrawer=!0}}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-image-multiple")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:"dense"!==a,expression:"state !== 'dense'"}]},[e._v("\n                Screenshots ("+e._s(e.screenshotCount)+")\n              ")])],1),e._v(" "),n("collapsible-toolbar-item",{attrs:{state:a},on:{click:function(t){e.aboutDialog=!0}}},[n("svg-icon",{staticClass:"mr-2",attrs:{icon:"kitware-logo",width:"24px"}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:"dense"!==a,expression:"state !== 'dense'"}]},[e._v("About")])],1)]}}],null,!0)})],1),e._v(" "),n("v-content",{style:{position:e.landingVisible?"initial":"fixed"},attrs:{id:e.$style.appContent}},[e.landingVisible?n("landing",{key:"if-landing",on:{open:e.showFileUpload,"open-urls":e.autoLoadRemotes,"open-files":e.openFileList}}):n("layout-view",{key:"if-landing"})],1),e._v(" "),n("v-navigation-drawer",{attrs:{stateless:e.screenshotsDrawerStateless,app:"",right:"",temporary:"",touchless:"",width:"300"},model:{value:e.screenshotsDrawer,callback:function(t){e.screenshotsDrawer=t},expression:"screenshotsDrawer"}},[n("screenshots",{on:{"screenshot-count":function(t){e.screenshotCount=t},close:function(t){e.screenshotsDrawer=!1}}})],1),e._v(" "),n("file-loader",{on:{load:e.doneLoadingFiles},model:{value:e.fileUploadDialog,callback:function(t){e.fileUploadDialog=t},expression:"fileUploadDialog"}}),e._v(" "),n("v-dialog",{attrs:{persistent:"",width:"60%"},model:{value:e.autoloadDialog,callback:function(t){e.autoloadDialog=t},expression:"autoloadDialog"}},[n("v-card",{staticClass:"pa-4"},[n("v-card-title",{staticClass:"justify-center text-center title black--text pv-break-word"},[e._v("\n            Loading "+e._s(e.autoloadLabel)+"...\n          ")])],1)],1),e._v(" "),n("state-file-generator"),e._v(" "),n("div",{class:(a={},a[e.$style.overlay]=!0,a[e.$style.overlayVisible]=i,a)},[n("div",{class:e.$style.overlayText},[n("div",{staticClass:"display-3"},[e._v("Drop files here")]),e._v(" "),n("v-icon",{attrs:{size:"4.75rem"}},[e._v("mdi-publish")])],1)]),e._v(" "),n("browser-issues"),e._v(" "),n(e.dialogType,{tag:"component",attrs:{"max-width":"50%"},model:{value:e.aboutDialog,callback:function(t){e.aboutDialog=t},expression:"aboutDialog"}},[n("about-box",{on:{close:function(t){e.aboutDialog=!1}}})],1),e._v(" "),n(e.dialogType,{tag:"component",attrs:{"max-width":"50%"},model:{value:e.errorDialog,callback:function(t){e.errorDialog=t},expression:"errorDialog"}},[n("error-box",{attrs:{errors:e.errors},on:{close:function(t){e.errorDialog=!1},clear:function(t){e.errors=[]}}})],1),e._v(" "),n("v-snackbar",{attrs:{value:!!e.globalSingleNotification,bottom:"",left:"",timeout:e.notifyPermanent?0:6e3},on:{input:function(t){e.globalSingleNotification=""},click:function(t){e.globalSingleNotification=""}}},[e._v("\n        "+e._s(e.globalSingleNotification)+"\n        "),n("v-btn",{attrs:{text:""}},[e._v("close")])],1),e._v(" "),n("div",{attrs:{id:"app-portal-mount"}})],1)]}}])})};a._withStripped=!0;var i=n(545),r=n(572),o=n(126),s=n.n(o),l=n(662),c=n(595),u=n(8),d=n(127),p=n(128),v=n(129),f=n(156),g=n(157),m=n(158),y=n(240),h=n(241),b=n(244),x=n(246),w=n(71),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.collapse?n("v-menu",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!1,2097855828)},[e._v(" "),n("v-list",[e._t("default",null,{state:e.state})],2)],1):n("v-toolbar-items",[e._t("default",null,{state:e.state})],2)};P._withStripped=!0;var _={name:"CollapsibleToolbar",props:{collapse:{type:Boolean,default:!1},dense:{type:Boolean,default:function(){return this.$vuetify.breakpoint.smAndDown}}},computed:{state:function(){return this.collapse?"collapse":this.dense?"dense":"expand"}}},S=n(550),k=n(3),O=n.n(k),C=n(580),V=n(588),I=n(620),D=n(611),T=n(659),Z=(0,S.Z)(_,P,[],!1,null,null,null);O()(Z,{VBtn:C.Z,VIcon:V.Z,VList:I.Z,VMenu:D.Z,VToolbarItems:T.lj}),Z.options.__file="src/components/widgets/CollapsibleToolbar/index.vue";var $=Z.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"collapse"===e.state?n("v-list-item",e._g({attrs:{link:""}},e.$listeners),[e._t("default")],2):n("v-btn",e._g({attrs:{text:""}},e.$listeners),[e._t("default")],2)};M._withStripped=!0;var L={name:"CollapsibleToolbarItem",props:{state:{type:String,default:"expand"}}},j=n(614),R=(0,S.Z)(L,M,[],!1,null,null,null);O()(R,{VBtn:C.Z,VListItem:j.Z}),R.options.__file="src/components/widgets/CollapsibleToolbar/Item/index.vue";var B=R.exports,A=[{key:"ctrl+o",action:"files/promptForFiles"},{key:"ctrl+g",action:"takeScreenshot"},{key:"r",action:"resetActiveCamera"},{key:".",action:"increaseSlice"},{key:",",action:"decreaseSlice"},{key:"b",action:"previousViewPoint"},{key:"n",action:"nextViewPoint"}];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={name:"App",components:{AboutBox:d.Z,BrowserIssues:p.Z,CollapsibleToolbar:$,CollapsibleToolbarItem:B,ControlsDrawer:v.Z,DragAndDrop:f.Z,ErrorBox:g.Z,FileLoader:m.Z,Landing:y.Z,LayoutView:h.Z,Screenshots:b.Z,StateFileGenerator:x.Z,SvgIcon:w.Z,VBottomSheet:l.Z,VDialog:c.Z},provide:function(){return{$notify:this.notify}},data:function(){return{aboutDialog:!1,errorDialog:!1,fileUploadDialog:!1,autoloadDialog:!1,autoloadLabel:"",internalControlsDrawer:!0,screenshotsDrawer:!1,screenshotCount:0,errors:[],globalSingleNotification:"",notifyPermanent:!1}},computed:E(E({controlsDrawer:{get:function(){return!this.landingVisible&&this.internalControlsDrawer},set:function(e){this.landingVisible||(this.internalControlsDrawer=e)}}},(0,r.rn)({loadingState:"loadingState",landingVisible:function(e){return"landing"===e.route},screenshotsDrawerStateless:function(e){return this.screenshotsDrawer&&!!e.screenshotDialog},smallScreen:function(){return this.$vuetify.breakpoint.smAndDown},dialogType:function(){return this.smallScreen?"v-bottom-sheet":"v-dialog"}})),(0,r.Se)("files",{anyFileLoadingErrors:"anyErrors"})),proxyManagerHooks:{onProxyModified:function(){this.loadingState||this.$proxyManager.autoAnimateViews()}},created:function(){this.internalControlsDrawer=!this.smallScreen},mounted:function(){var e=this;this.$root.$on("open_girder_panel",(function(){e.fileUploadDialog=!0})),this.initViews(),this.initializeAnimations(),A.forEach((function(t){var n=t.key,a=t.action;return s().bind(n,(function(t){t.preventDefault(),e.$store.dispatch(a)}))})),window.addEventListener("error",this.recordError),u.ZP.setLoggerFunction("error",(function(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];e.recordError(a.join(" ")),(t=window.console).error.apply(t,a)}))},beforeDestroy:function(){window.removeEventListener("error",this.recordError),A.forEach((function(e){var t=e.key;return s().unbind(t)}))},methods:E(E(E(E(E({},(0,r.OI)({showApp:"showApp",showLanding:"showLanding",toggleLanding:function(){this.landingVisible?this.showApp():this.showLanding()}})),(0,r.nv)({saveState:"saveState",initViews:"views/initViews"})),(0,r.nv)("files",["openFiles","openRemoteFiles","load","resetQueue"])),(0,r.nv)("animations",["initializeAnimations"])),{},{showFileUpload:function(){this.fileUploadDialog=!0},openFileList:function(e){var t=this;this.fileUploadDialog=!0,this.$nextTick((function(){return t.openFiles(Array.from(e))}))},autoLoadRemotes:function(e,t,n){var a=this,i=t.map((function(e,t){return{name:n[t],url:e}}));this.autoloadDialog=!0,this.autoloadLabel=e,setTimeout((function(){return a.openRemoteFiles(i).then((function(){return a.load()})).then((function(){a.anyFileLoadingErrors?a.$nextTick((function(){a.fileUploadDialog=!0})):a.doneLoadingFiles()})).finally((function(){a.resetQueue(),a.autoloadDialog=!1}))}),10)},doneLoadingFiles:function(){this.showApp()},recordError:function(e){this.errors.push(e)},notify:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.globalSingleNotification&&(this.globalSingleNotification="",this.permanent=!1),this.$nextTick((function(){t.globalSingleNotification=e,t.notifyPermanent=n}))}})},G=N,W={appContent:"App-appContent-GhXJH",overlay:"App-overlay-B_drw",overlayVisible:"App-overlayVisible-XKImt",overlayText:"App-overlayText-WTZRN",noTransition:"App-noTransition-IOu4K"},U=n(663),z=n(664),H=n(665),K=n(584),Y=n(568),q=n(666),X=n(667),J=n(640),Q=n(626),ee=n(627);e=n.hmd(e);var te={};e.hot,e.hot;var ne=(0,S.Z)(G,a,[],!1,(function(e){te.$style=W.locals||W,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return te.$style}})}),null,null);O()(ne,{VApp:U.Z,VAppBar:z.Z,VAppBarNavIcon:H.Z,VBtn:C.Z,VCard:K.Z,VCardTitle:Y.EB,VContent:q.Z,VDialog:c.Z,VIcon:V.Z,VNavigationDrawer:X.Z,VSnackbar:J.Z,VSpacer:Q.Z,VToolbarItems:T.lj,VTooltip:ee.Z}),ne.options.__file="src/components/core/App/index.vue";var ae=ne.exports},128:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"90%","max-width":"900px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"title"},[e._v("Welcome to ParaView Glance!")]),e._v(" "),n("v-card-text",{staticClass:"body-2"},[n("p",[e._v("\n        You may experience slower rendering speeds because of the following\n        reason(s):\n      ")]),e._v(" "),n("ul",{staticClass:"pl-10"},[e.issues.webglVersion?n("li",[e._v("\n          Detected WebGL version "+e._s(e.issues.webglVersion)+". For best performance,\n          please use a computer and/or browser with at least WebGL 2.\n        ")]):e._e(),e._v(" "),e.issues.integratedGPU?n("li",[e._v('\n          Using GPU "'+e._s(e.issues.integratedGPU)+'". A dedicated GPU would\n          offer better performance.\n          '),n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://wevideo.zendesk.com/hc/en-us/articles/225259448-How-to-enable-WebGL"}},[e._v("\n            More info on enabling dedicated GPUs in browsers.\n          ")])]):e._e()])]),e._v(" "),n("v-card-actions",{staticClass:"d-flex justify-space-between align-center pa-5"},[n("v-checkbox",{staticClass:"mt-0 pt-0",attrs:{label:"Don't show again","hide-details":"",value:e.suppressBrowserWarning},on:{input:e.setSuppressBrowserWarning}}),e._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.dialog=!1}}},[e._v("\n        Okay\n      ")])],1)],1)],1)};a._withStripped=!0;var i=n(545),r=n(572);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var s={name:"BrowserIssues",data:function(){return{issues:{},dialog:!1}},computed:(0,r.rn)(["suppressBrowserWarning"]),mounted:function(){this.getBrowserIssues()},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({getBrowserIssues:function(){var e=this.$proxyManager.getViews()[0];if(e){var t=e.getOpenglRenderWindow().getGLInformations(),n=t.UNMASKED_RENDERER,a=t.UNMASKED_VENDOR,i=t.WEBGL_VERSION;i.value<2&&this.$set(this.issues,"webglVersion",i.value),-1!=="".concat(a.value," / ").concat(n.value).toLowerCase().indexOf("intel")&&this.$set(this.issues,"integratedGPU",n.value)}Object.keys(this.issues).length&&!this.suppressBrowserWarning&&(this.dialog=!0)}},(0,r.nv)({setSuppressBrowserWarning:"suppressBrowserWarning"}))},l=s,c={},u=n(550),d=n(3),p=n.n(d),v=n(580),f=n(584),g=n(568),m=n(589),y=n(595);e=n.hmd(e);var h={};e.hot,e.hot;var b=(0,u.Z)(l,a,[],!1,(function(e){h.$style=c.locals||c,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return h.$style}})}),null,null);p()(b,{VBtn:v.Z,VCard:f.Z,VCardActions:g.h7,VCardText:g.ZB,VCardTitle:g.EB,VCheckbox:m.Z,VDialog:y.Z}),b.options.__file="src/components/core/BrowserIssues/index.vue";var x=b.exports},129:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-tabs",{class:e.$style.tabsContainer,attrs:{centered:"",grow:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tab",[e._v("Datasets")]),e._v(" "),n("v-tab",[e._v("Tools")]),e._v(" "),n("v-tab",[e._v("Global")]),e._v(" "),n("v-tabs-items",{class:e.$style.tabItems,attrs:{touchless:""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tab-item",{class:e.$style.tabItem},[n("datasets")],1),e._v(" "),n("v-tab-item",{class:e.$style.tabItem,attrs:{eager:""}},[n("edit-tools")],1),e._v(" "),n("v-tab-item",{class:e.$style.tabItem},[n("global-settings")],1)],1)],1)};a._withStripped=!0;var i=n(74),r=n(145),o=n(152),s={name:"ControlsDrawer",components:{Datasets:i.Z,EditTools:r.Z,GlobalSettings:o.Z},data:function(){return{activeTab:0}}},l={tabsContainer:"ControlsDrawer-tabsContainer-D9UMb",tabItems:"ControlsDrawer-tabItems-O9Lf9",tabItem:"ControlsDrawer-tabItem-voKeM",tabComponent:"ControlsDrawer-tabComponent-K9eUY"},c=n(550),u=n(3),d=n.n(u),p=n(642),v=n(643),f=n(644),g=n(647);e=n.hmd(e);var m={};e.hot,e.hot;var y=(0,c.Z)(s,a,[],!1,(function(e){m.$style=l.locals||l,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return m.$style}})}),null,null);d()(y,{VTab:p.Z,VTabItem:v.Z,VTabs:f.Z,VTabsItems:g.Z}),y.options.__file="src/components/core/ControlsDrawer/index.vue";var h=y.exports},74:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-expansion-panels",{attrs:{multiple:"",accordion:""},model:{value:e.panelState,callback:function(t){e.panelState=t},expression:"panelState"}},e._l(e.datasets,(function(t,a){return n("v-expansion-panel",{key:t,class:e.$style.datasetPanel},[n("v-expansion-panel-header",{staticClass:"pv-no-select pl-3 pr-3 pt-1 pb-1",class:e.$style.panelHeader},[n("v-btn",{staticClass:"flex-shrink-0",attrs:{icon:"",small:""},on:{click:function(n){return n.stopPropagation(),e.toggleDatasetVisibility(t)}}},[n("v-icon",[e._v("\n          "+e._s(e.getDatasetVisibility(t)?"mdi-eye":"mdi-eye-off")+"\n        ")])],1),e._v(" "),n("div",{staticClass:"subtitle-2 text-truncate pl-2 pr-2",attrs:{title:e.getSourceName(t)}},[e._v("\n        "+e._s(e.getSourceName(t))+"\n      ")]),e._v(" "),n("v-spacer"),e._v(" "),e.datasets.length>1?n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-btn",e._g({class:e.$style.headerMenuButton,attrs:{icon:"",small:""},on:{click:function(n){return n.stopPropagation(),e.activateSource(t)}}},i),[n("v-icon",[e._v("\n              "+e._s(e.activeSourceId===t?"mdi-bookmark-check":"mdi-bookmark-outline")+"\n            ")])],1)]}}],null,!0)},[n("span",{staticClass:"pv-no-select"},[e._v("Activate source")])]):e._e(),e._v(" "),n("div",{on:{click:function(e){e.stopPropagation()}}},[n("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({class:e.$style.headerMenuButton,attrs:{icon:"",small:""}},a),[n("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[e._v(" "),n("v-list",{attrs:{dense:""}},[n("v-list-item",{on:{click:function(n){return e.deleteDataset(t)}}},[n("v-list-item-title",[e._v("Delete")])],1),e._v(" "),n("v-list-item",{on:{click:function(n){return e.uploadDataset(t)}}},[n("v-list-item-title",[e._v("Upload To Girder")])],1)],1)],1)],1)],1),e._v(" "),n("v-expansion-panel-content",{class:e.$style.panelContent,attrs:{eager:""}},[n("color-group",{attrs:{index:a,visible:e.datasets.length>1}}),e._v(" "),n("v-expansion-panels",{attrs:{multiple:"",accordion:""},model:{value:e.subpanels[t],callback:function(n){e.$set(e.subpanels,t,n)},expression:"subpanels[sourceId]"}},e._l(e.panels,(function(a,i){return a.visible(e.$proxyManager.getProxyById(t))?n("v-expansion-panel",{key:i,class:e.$style.subpanel},[n("v-expansion-panel-header",{staticClass:"pv-no-select",class:e.$style.subpanelHeader},[n("v-icon",{staticClass:"flex-grow-0",attrs:{left:""}},[e._v(e._s(a.icon))]),e._v(" "),n("span",{staticClass:"body-2 font-weight-medium flex-grow-0"},[e._v("\n              "+e._s(a.name)+"\n            ")])],1),e._v(" "),n("v-expansion-panel-content",{class:e.$style.panelContent,attrs:{eager:""}},[n(a.component,{tag:"component",attrs:{sourceId:t}})],1)],1):e._e()})),1)],1)],1)})),1)};a._withStripped=!0;var i=n(549),r=n(545),o=n(572),s=n(130),l=n(134),c=n(140),u=n(142),d=n(143),p=[{component:u.Z,defaultExpand:!0,icon:"mdi-brightness-6",name:"Representation",visible:function(e){return e.getDataset().isA("vtkPolyData")||e.getDataset().isA("vtkImageData")}},{component:s.Z,defaultExpand:!0,icon:"mdi-invert-colors",name:"Colors",visible:function(e){return e.getDataset().isA("vtkPolyData")||e.getDataset().isA("vtkImageData")}},{component:d.Z,defaultExpand:!0,icon:"mdi-tune",name:"Slice",visible:function(e){return e.getDataset().isA("vtkImageData")}},{component:c.Z,defaultExpand:!0,icon:"mdi-molecule",name:"Molecule",visible:function(e){return e.getDataset().isA("vtkMolecule")}},{component:l.Z,defaultExpand:!1,icon:"mdi-help-circle-outline",name:"Information",visible:function(e){return e.getDataset().isA("vtkPolyData")||e.getDataset().isA("vtkImageData")}}];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={name:"Datasets",components:{ColorGroup:n(144).Z},data:function(){return{datasets:[],internalPanelState:{},subpanels:{},activeSourceId:-1}},computed:f(f(f({},(0,o.rn)({collapseDatasetPanels:"collapseDatasetPanels",panels:function(e){var t,n=Object.keys(e.panels).map((function(e){return Number(e)}));return n.sort((function(e,t){return e-t})),(t=[]).concat.apply(t,(0,i.Z)(n.map((function(t){return e.panels[t]}))))}})),(0,o.rn)("widgets",["imageToLabelmaps"])),{},{panelState:{get:function(){for(var e=[],t=0;t<this.datasets.length;t++){var n=this.datasets[t];this.internalPanelState[n]&&e.push(t)}return e},set:function(e){for(var t=0;t<this.datasets.length;t++){var n=this.datasets[t];this.internalPanelState[n]=e.indexOf(t)>-1}}},smallScreen:function(){return this.$vuetify.breakpoint.smAndDown}}),created:function(){var e=this;p.forEach((function(t,n){return e.addPanel(t,n+10)}))},mounted:function(){this.updateDatasetList()},proxyManagerHooks:{onProxyModified:function(){this.updateDatasetList()},onProxyCreated:function(e){var t=e.proxyGroup,n=e.proxyName;"Sources"===t&&"TrivialProducer"===n&&this.updateDatasetList()},onProxyDeleted:function(e){var t=e.proxyId,n=e.proxyGroup,a=e.proxyName;"Sources"===n&&"TrivialProducer"===a&&(this.datasets.indexOf(t)>-1&&(this.$delete(this.internalPanelState,t),this.$delete(this.subpanels,t),this.updateDatasetList()))},onActiveSourceChange:function(e){this.activeSourceId=e?e.getProxyId():-1}},methods:{updateDatasetList:function(){for(var e=this,t=this.$proxyManager.getSources().filter((function(e){return"Sources"===e.getProxyGroup()&&"TrivialProducer"===e.getProxyName()})).filter((function(e){return Boolean(e.getDataset())})),n=function(n){var a=t[n],i=a.getProxyId();i in e.internalPanelState||(e.internalPanelState[i]=!e.collapseDatasetPanels),i in e.subpanels||(e.collapseDatasetPanels?e.subpanels[i]=[]:e.subpanels[i]=p.filter((function(e){return e.visible(a)})).map((function(e,t){return e.defaultExpand?t:-1})).filter((function(e){return e>-1})))},a=0;a<t.length;a++)n(a);this.datasets=t.map((function(e){return e.getProxyId()}))},getSourceName:function(e){var t=this.$proxyManager.getProxyById(e);return t?t.getName():null},activateSource:function(e){var t=this.$proxyManager.getProxyById(e);return t&&t.activate(),null},deleteDataset:function(e){var t=this.$proxyManager.getProxyById(e);t&&this.$proxyManager.deleteProxy(t)},uploadDataset:function(e){var t=this;this.$proxyManager.getProxyById(e)&&(this.$root.$emit("open_girder_panel"),setTimeout((function(){t.$root.$emit("girder_upload_proxy",e)}),10))},getDatasetVisibility:function(e){var t=this.$proxyManager.getRepresentations().find((function(t){return t.getInput().getProxyId()===e}));return!!t&&t.isVisible()},toggleDatasetVisibility:function(e){var t=!this.getDatasetVisibility(e),n=this.imageToLabelmaps[e]||[];this.$proxyManager.getRepresentations().filter((function(t){var a=t.getInput().getProxyId();return a===e||n.indexOf(a)>-1})).forEach((function(e){return e.setVisibility(t)})),this.$forceUpdate()},addPanel:function(e,t){this.$store.commit("addPanel",{component:e,priority:t})}}},m=g,y=n(75),h=n(550),b=n(3),x=n.n(b),w=n(580),P=n(628),_=n(629),S=n(630),k=n(631),O=n(588),C=n(620),V=n(614),I=n(619),D=n(611),T=n(626),Z=n(627);e=n.hmd(e);var $={};e.hot,e.hot;var M=(0,h.Z)(m,a,[],!1,(function(e){$.$style=y.Z.locals||y.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return $.$style}})}),null,null);x()(M,{VBtn:w.Z,VExpansionPanel:P.Z,VExpansionPanelContent:_.Z,VExpansionPanelHeader:S.Z,VExpansionPanels:k.Z,VIcon:O.Z,VList:C.Z,VListItem:V.Z,VListItemTitle:I.V9,VMenu:D.Z,VSpacer:T.Z,VTooltip:Z.Z}),M.options.__file="src/components/core/Datasets/index.vue";var L=M.exports},145:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-expansion-panels",{attrs:{accordion:""}},[n("v-expansion-panel",[n("v-expansion-panel-header",{staticClass:"subtitle-2"},[e._v("\n      Measurements\n    ")]),e._v(" "),n("v-expansion-panel-content",{class:e.$style.panelContent,attrs:{eager:""}},[n("measurement-tools",{attrs:{enabled:"measurement"===e.enabledTool},on:{enable:function(t){return e.setEnabledTool("measurement",t)}}})],1)],1),e._v(" "),n("v-expansion-panel",[n("v-expansion-panel-header",{staticClass:"subtitle-2"},[e._v("\n      Painting\n    ")]),e._v(" "),n("v-expansion-panel-content",{class:e.$style.panelContent},[n("paint-tool",{attrs:{enabled:"paint"===e.enabledTool},on:{enable:function(t){return e.setEnabledTool("paint",t)}}})],1)],1),e._v(" "),n("v-expansion-panel",[n("v-expansion-panel-header",{staticClass:"subtitle-2"},[e._v("\n      Cropping\n    ")]),e._v(" "),n("v-expansion-panel-content",{class:e.$style.panelContent},[n("crop-tool",{attrs:{enabled:"crop"===e.enabledTool},on:{enable:function(t){return e.setEnabledTool("crop",t)}}})],1)],1),e._v(" "),n("v-expansion-panel",[n("v-expansion-panel-header",{staticClass:"subtitle-2"},[e._v("\n      Median Filter\n    ")]),e._v(" "),n("v-expansion-panel-content",{class:e.$style.panelContent},[n("median-filter")],1)],1)],1)};a._withStripped=!0;var i=n(146),r=n(147),o=n(148),s=n(149),l={name:"EditTools",components:{PaintTool:i.Z,MeasurementTools:r.Z,CropTool:o.Z,MedianFilter:s.Z},data:function(){return{enabledTool:""}},methods:{setEnabledTool:function(e,t){this.enabledTool=t?e:""}}},c={panelContent:"EditTools-panelContent-wgcJ9"},u=n(550),d=n(3),p=n.n(d),v=n(628),f=n(629),g=n(630),m=n(631);e=n.hmd(e);var y={};e.hot,e.hot;var h=(0,u.Z)(l,a,[],!1,(function(e){y.$style=c.locals||c,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return y.$style}})}),null,null);p()(h,{VExpansionPanel:v.Z,VExpansionPanelContent:f.Z,VExpansionPanelHeader:g.Z,VExpansionPanels:m.Z}),h.options.__file="src/components/core/EditTools/index.vue";var b=h.exports},157:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",{staticClass:"title"},[e._v("Application errors")]),e._v(" "),n("v-card-text",[n("p",[e._v("\n      The following is debug output for errors that have occurred. Please\n      copy and paste the below text and post it to our\n      "),n("a",{attrs:{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/Kitware/Glance/issues"}},[e._v("issue tracker")]),e._v(".\n    ")]),e._v(" "),n("textarea",{ref:"errorTextarea",class:e.$style.errorTextarea,attrs:{readonly:""}},[e._v(e._s(e.readableErrors))])]),e._v(" "),n("v-card-actions",[n("v-btn",{attrs:{color:"secondary"},on:{click:function(t){return e.$emit("clear")}}},[e._v("\n      Clear Errors\n    ")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{on:{click:function(t){return e.$emit("close")}}},[e._v("Cancel")]),e._v(" "),e.isClipboardEnabled()?n("v-btn",{key:"if-clipboard-enabled",attrs:{color:"info",loading:e.copiedToClipboard},on:{click:e.copyErrorToClipboard}},[n("span",[e._v("Copy to clipboard")]),e._v(" "),n("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Copied!")])]):e._e()],1)],1)};a._withStripped=!0;var i={name:"ErrorBox",props:{errors:{type:Array,default:[]}},data:function(){return{copiedToClipboard:!1}},computed:{readableErrors:function(){var e=window.GLANCE_VERSION||"not available",t=this.errors.map((function(e){return e instanceof ErrorEvent?e.message:e})).join("\n");return"ParaViewGlance: ".concat(e,"\n").concat(navigator.userAgent,"\n\n```\n").concat(t,"\n```")}},methods:{isClipboardEnabled:function(){try{return document.queryCommandSupported("copy")}catch(e){return!1}},copyErrorToClipboard:function(){var e=this;this.$refs.errorTextarea.select(),document.execCommand("copy")&&(this.copiedToClipboard=!0,window.setTimeout((function(){e.copiedToClipboard=!1}),2e3))}}},r={errorTextarea:"ErrorBox-errorTextarea-_ViHl"},o=n(550),s=n(3),l=n.n(s),c=n(580),u=n(584),d=n(568),p=n(626);e=n.hmd(e);var v={};e.hot,e.hot;var f=(0,o.Z)(i,a,[],!1,(function(e){v.$style=r.locals||r,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return v.$style}})}),null,null);l()(f,{VBtn:c.Z,VCard:u.Z,VCardActions:d.h7,VCardText:d.ZB,VCardTitle:d.EB,VSpacer:p.Z}),f.options.__file="src/components/core/ErrorBox/index.vue";var g=f.exports},158:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"70%",value:e.value,persistent:e.loading,fullscreen:e.$vuetify.breakpoint.smAndDown},on:{input:e.onDialogChange,"click:outside":function(t){!e.loading&&e.close()}}},[n("v-card",[n("v-card-text",{staticClass:"pa-0"},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-container",[n("v-tabs",{model:{value:e.active_tab,callback:function(t){e.active_tab=t},expression:"active_tab"}},[n("v-tab",[e._v("Local")]),e._v(" "),n("v-tab",[e._v("Girder")]),e._v(" "),n("v-tab-item",{attrs:{transition:"fade-transition"}},[n("drag-and-drop",{attrs:{enabled:""},on:{drop:function(t){return e.openFiles(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a,i=t.dragHover;return[n("v-row",{staticClass:"pa-3",class:(a={},a[e.$style.dragBox]=!0,a[e.$style.dropTarget]=i,a),attrs:{align:"center"},on:{click:e.promptLocal}},[n("v-btn",[e._v("browse")]),e._v(" "),n("span",{staticClass:"ml-2"},[e._v("\n                        or drop your files here\n                      ")])],1)]}}])})],1),e._v(" "),n("v-tab-item",{attrs:{transition:"fade-transition"}},[n("girder-box")],1)],1),e._v(" "),n("v-row",{staticClass:"mt-2"},[n("v-expansion-panels",{attrs:{accordion:""}},e._l(e.fileList,(function(t,a){return n("v-expansion-panel",{key:a},[n("v-expansion-panel-header",{attrs:{"disable-icon-rotate":""},scopedSlots:e._u([{key:"actions",fn:function(){return[n("div",{staticClass:"d-flex flex-row align-center"},["ready"===t.state?[n("v-icon",{attrs:{color:"teal"}},[e._v("mdi-check")])]:"error"===t.state?[n("v-icon",{attrs:{color:"error"}},[e._v("mdi-alert")])]:"needsInfo"===t.state?[n("v-icon",{attrs:{color:"blue"}},[e._v("mdi-information")])]:"loading"===t.state||"needsDownload"===t.state?[n("v-progress-circular",{attrs:{indeterminate:"",color:"secondary",size:"16",width:"2"}})]:e._e(),e._v(" "),n("v-btn",{staticClass:"ml-3",attrs:{icon:""}},[n("v-icon",{on:{click:function(t){return t.stopPropagation(),e.deleteFileAtRevIndex(a)}}},[e._v("mdi-delete")])],1)],2)]},proxy:!0},{key:"default",fn:function(a){a.open;return[n("v-row",{staticStyle:{width:"80%"},attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"8"}},[e._v(e._s(t.name))]),e._v(" "),n("v-col",{staticClass:"text--secondary pr-3 text-right",attrs:{cols:"4"}},["error"===t.state?n("span",[e._v("\n                            Click to see error\n                          ")]):"raw"===t.ext?n("span",[e._v("\n                            Click to edit raw file info\n                          ")]):"glance"===t.ext?n("span",[e._v("\n                            State file will be loaded first\n                          ")]):e._e()])],1)]}}],null,!0)}),e._v(" "),n("v-expansion-panel-content",["error"===t.state?[e._v("\n                      "+e._s(t.error)+"\n                    ")]:"raw"===t.ext?[n("raw-file-reader",{attrs:{file:t.files[0]},on:{change:function(t){return e.setRawFileInfoAtRevIndex(a,t)}}})]:e._e()],2)],1)})),1)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),e.anyErrors?n("span",{staticClass:"red--text mr-3"},[e._v("Only checked files will be loaded.")]):e._e(),e._v(" "),n("v-btn",{attrs:{text:"",disabled:e.loading},on:{click:e.close}},[e._v("\n            Cancel\n          ")]),e._v(" "),n("v-btn",{attrs:{color:"primary",disabled:e.loading||e.pendingFiles||!e.hasReadyFiles},on:{click:e.loadFiles}},[e._v("\n            "+e._s(e.loading?"Loading...":"Load")+"\n          ")])],1)],1)],1)],1)],1)};a._withStripped=!0;var i=n(545),r=n(572),o=n(159),s=n(156),l=n(160);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"FileLoader",components:{RawFileReader:o.Z,DragAndDrop:s.Z,GirderBox:l.Z},props:{value:{type:Boolean,default:!1}},data:function(){return{loading:!1,active_tab:0}},mounted:function(){var e=this;this.$root.$on("open_girder_panel",(function(){e.active_tab=1}))},computed:u(u({},(0,r.rn)("files",{fileList:function(e){return Array.from(e.fileList).reverse()},pendingFiles:function(e){return e.fileList.reduce((function(e,t){return e||"ready"!==t.state&&"error"!==t.state}),!1)},hasReadyFiles:function(e){return e.fileList.reduce((function(e,t){return e||"ready"===t.state}),!1)}})),(0,r.Se)("files",["anyErrors"])),methods:u(u({},(0,r.nv)("files",["openFiles","promptLocal","deleteFile","setRawFileInfo","load","resetQueue"])),{},{loadFiles:function(){var e=this;this.loading=!0,this.load().finally((function(){e.close(),e.$emit("load"),setTimeout((function(){e.loading=!1}),10)}))},deleteFileAtRevIndex:function(e){return this.deleteFile(this.fileList.length-1-e)},setRawFileInfoAtRevIndex:function(e,t){return this.setRawFileInfo({index:this.fileList.length-1-e,info:t})},onDialogChange:function(e){e?this.$emit("input",!0):this.close()},close:function(){var e=this;this.$emit("input",!1),setTimeout((function(){return e.resetQueue()}),10)}})},p={dragBox:"FileLoader-dragBox-wtic9",dropTarget:"FileLoader-dropTarget-KZYE7"},v=n(550),f=n(3),g=n.n(f),m=n(580),y=n(584),h=n(568),b=n(655),x=n(610),w=n(595),P=n(628),_=n(629),S=n(630),k=n(631),O=n(588),C=n(583),V=n(652),I=n(626),D=n(642),T=n(643),Z=n(644);e=n.hmd(e);var $={};e.hot,e.hot;var M=(0,v.Z)(d,a,[],!1,(function(e){$.$style=p.locals||p,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return $.$style}})}),null,null);g()(M,{VBtn:m.Z,VCard:y.Z,VCardActions:h.h7,VCardText:h.ZB,VCol:b.Z,VContainer:x.Z,VDialog:w.Z,VExpansionPanel:P.Z,VExpansionPanelContent:_.Z,VExpansionPanelHeader:S.Z,VExpansionPanels:k.Z,VIcon:O.Z,VProgressCircular:C.Z,VRow:V.Z,VSpacer:I.Z,VTab:D.Z,VTabItem:T.Z,VTabs:Z.Z}),M.options.__file="src/components/core/FileLoader/index.vue";var L=M.exports},160:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{attrs:{"no-gutters":"",align:"center"}},[n("v-col",[n("v-text-field",{attrs:{label:"Girder URL","single-line":"",outlined:"","hide-details":""},model:{value:e.newGirderURL,callback:function(t){e.newGirderURL=t},expression:"newGirderURL"}})],1),e._v(" "),n("v-btn",{staticClass:"ml-2",attrs:{disabled:e.noURLChange,text:""},on:{click:function(t){e.changeURLPrompt=!0}}},[e._v("\n        Update\n      ")]),e._v(" "),e.loggedOut?e._e():n("v-btn",{staticClass:"ml-2",attrs:{tile:"",color:"secondary"},on:{click:e.logout}},[e._v("\n        Log out\n      ")])],1),e._v(" "),n("v-row",[e.loggedOut?n("v-col",[n("GirderAuthentication",{key:e.girderRest.token,attrs:{register:"",oauth:!0}}),e._v(" "),n("div",{staticClass:"mt-2"},[n("v-icon",[e._v("mdi-information")]),e._v(" "),n("span",[e._v("Logging in will refresh and lose any unsaved data.")])],1)],1):e._e(),e._v(" "),n("v-col",[n("GirderFileManager",{ref:"girderFileManager",attrs:{"root-location-disabled":!1,selectable:!0,location:e.location},on:{"update:location":function(t){e.location=t}},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),e._v(" "),n("v-toolbar",[n("v-spacer"),e._v(" "),n("v-btn",{staticClass:"mt-4",attrs:{disabled:!e.selected.length},on:{click:function(t){return e.load()}}},[e._v("\n             Select\n          ")])],1)],1)],1),e._v(" "),n("v-dialog",{attrs:{width:"30%"},model:{value:e.changeURLPrompt,callback:function(t){e.changeURLPrompt=t},expression:"changeURLPrompt"}},[n("v-card",[n("v-card-title",[e._v("Change Girder URL")]),e._v(" "),n("v-card-text",[e._v("\n          Changing the girder URL to "),n("pre",[e._v(e._s(e.newGirderURL))]),e._v(" will require a refresh.\n          Do you want to continue?\n        ")]),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:""},on:{click:function(t){e.changeURLPrompt=!1}}},[e._v("Cancel")]),e._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:e.refreshPage}},[e._v("Refresh")])],1)],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[n("girder-upload",{ref:"girderUploader",attrs:{dest:e.location}})],1)],1)};a._withStripped=!0;var i=n(545),r=n(71),o=n(572),s=n(74),l=n(649),c=n(651),u=n(481),d=n(478),p=n(79),v=n(479),f=n(364),g=n(480);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){var n=new Blob([e]);return new File([n],t)}var b={name:"GirderBox",components:{SvgIcon:r.Z,GirderAuthentication:l.Z,GirderFileManager:c.Z,Datasets:s.Z,GirderUpload:u.Z},inject:["girderRest","$notify"],data:function(){return{selected:[],internalLocation:null,changeServer:!1,newGirderURL:this.girderRest.apiRoot,changeURLPrompt:!1}},computed:y({currentUserLogin:function(){return this.girderRest.user?this.girderRest.user.login:"anonymous"},loggedOut:function(){return null===this.girderRest.user},location:{get:function(){return this.internalLocation||(this.loggedOut?{_id:"5e84eb3e2660cbefba7d71d9",_modelType:"folder"}:this.girderRest.user)},set:function(e){this.internalLocation=e}},noURLChange:function(){return this.newGirderURL===this.girderRest.apiRoot}},(0,o.rn)("widgets",{dataMeasurements:"measurements"})),mounted:function(){var e=this;this.$root.$on("girder_upload_proxy",(function(t){e.upload(t)})),this.$root.$on("girder_upload_measurements",(function(t){e.uploadMeasurements(t)}))},methods:{load:function(){var e=this,t=this.selected.map((function(t){return{url:"".concat(e.girderRest.apiRoot,"/item/").concat(t._id,"/download"),name:t.name,withGirderToken:!0,proxyKeys:{girderProvenance:y(y({},e.location),{},{apiRoot:e.girderRest.apiRoot}),girderItem:{itemId:t._id,itemName:t.name},meta:t.meta}}}));this.$store.dispatch("files/openRemoteFiles",t)},export2pc:function(e){var t=this.$proxyManager.getProxyById(e).get().dataset,n=p.Z.convertVtkToItkImage(t);n.data=n.data.slice(0),(0,d.Z)(null,!1,n,"out.mha").then((function(e){var t=e.arrayBuffer,n=new Blob([t]),a=URL.createObjectURL(n),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download","out.mha"),document.body.appendChild(i),i.click(),document.body.removeChild(i)}))},checkUploadPossible:function(){return this.loggedOut?(this.$notify("Cannot upload to Girder unless logged in. Please log in then try again"),!1):this.location?"user"!==this.location._modelType||(this.$notify("Cannot upload here. Please select public or private and then try again"),!1):(this.$notify("Cannot upload to Girder root location. Please navigate to a folder you own then try again"),!1)},upload:function(e){var t=this;if(this.checkUploadPossible()){var n=this.$proxyManager.getProxyById(e),a=n.getDataset(),i=n.getName(),r={glanceDataType:a.getClassName()};"vtkLabelMap"===a.getClassName()&&Object.assign(r,{colorMap:a.getColorMap()}),this.$notify("Uploading...",!0),function(e,t){return new Promise((function(n,a){if(e.isA("vtkImageData")){var i=p.Z.convertVtkToItkImage(e);i.data=i.data.slice(0),(0,d.Z)(null,!1,i,t).then((function(e){return n(h(e,t))}))}else if(e.isA("vtkPolyData")){var r=null;t.endsWith(".vtp")?(r=v.ZP.newInstance()).setFormat(f.Z.FormatTypes.BINARY):t.endsWith(".stl")&&(r=g.ZP.newInstance()),r?n(h(r.write(e),t)):a(new Error("Cannot save polydata dataset ".concat(t)))}else a(new Error("Cannot save dataset ".concat(t)))}))}(a,i).then((function(n){var a=t.$proxyManager.getProxyById(e).getKey("girderProvenance")||t.location;t.$refs.girderUploader.setFiles([n]),t.$refs.girderUploader.inputFilesChanged([n]),t.$refs.girderUploader.start({dest:a,postUpload:function(e){var n=e.results[0].itemId;t.girderRest.put("".concat(t.girderRest.apiRoot,"/item/").concat(n),"metadata=".concat(JSON.stringify(r))),t.$notify("Dataset uploaded"),t.$refs.girderFileManager.refresh()}}).catch((function(e){t.$notify("Upload error: ".concat(e)),console.error("Upload error",e)}))}))}},uploadMeasurements:function(e){var t=this;if(this.checkUploadPossible()){var n=this.dataMeasurements[e];if(n){var a=this.$proxyManager.getProxyById(e).getName(),i="".concat(a,".measurements.json"),r=new File([JSON.stringify(n)],i),o=this.$proxyManager.getProxyById(e).getKey("girderProvenance")||this.location;this.$notify("Uploading...",!0),this.$refs.girderUploader.setFiles([r]),this.$refs.girderUploader.inputFilesChanged([r]),this.$refs.girderUploader.start({dest:o,postUpload:function(){t.$notify("Measurements uploaded"),t.$refs.girderFileManager.refresh()}}).catch((function(e){t.$notify("Upload error: ".concat(e)),console.error("Upload error",e)}))}}},refreshPage:function(){var e=new URL(window.location.href),t=new URLSearchParams(e.search);t.set("girderRoute",this.newGirderURL),e.search=t.toString(),window.location.href=e.toString()},logout:function(){this.girderRest.logout()}}},x={close:"GirderBox-close-eeT8j"},w=n(550),P=n(3),_=n.n(P),S=n(580),k=n(584),O=n(568),C=n(655),V=n(610),I=n(595),D=n(588),T=n(652),Z=n(626),$=n(607),M=n(656);e=n.hmd(e);var L={};e.hot,e.hot;var j=(0,w.Z)(b,a,[],!1,(function(e){L.$style=x.locals||x,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return L.$style}})}),null,null);_()(j,{VBtn:S.Z,VCard:k.Z,VCardActions:O.h7,VCardText:O.ZB,VCardTitle:O.EB,VCol:C.Z,VContainer:V.Z,VDialog:I.Z,VIcon:D.Z,VRow:T.Z,VSpacer:Z.Z,VTextField:$.Z,VToolbar:M.Z}),j.options.__file="src/components/core/GirderBox/index.vue";var R=j.exports},152:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{class:e.$style.container},[e.isAnimated?n("v-card",{class:e.$style.card,attrs:{flat:""}},[n("div",{class:e.$style.heading},[n("span",{staticClass:"subtitle-2"},[e._v("Animation controls")])]),e._v(" "),n("v-divider",{staticClass:"mb-4"}),e._v(" "),n("animationControls")],1):e._e(),e._v(" "),n("v-card",{class:e.$style.card,attrs:{flat:""}},[n("div",{class:e.$style.heading},[n("span",{staticClass:"subtitle-2"},[e._v("General Settings")])]),e._v(" "),n("v-divider",{staticClass:"mb-4"}),e._v(" "),n("v-container",{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[n("v-layout",{staticClass:"pt-1",attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs10:""}},[n("span",{staticClass:"body-2"},[e._v("Default collapse datasets")])]),e._v(" "),n("v-flex",{attrs:{xs2:""}},[n("v-switch",{class:e.$style.slimInput,attrs:{"hide-details":""},model:{value:e.collapseDatasetPanelsModel,callback:function(t){e.collapseDatasetPanelsModel=t},expression:"collapseDatasetPanelsModel"}})],1)],1)],1)],1),e._v(" "),n("v-card",{class:e.$style.card,attrs:{flat:""}},[n("div",{class:e.$style.heading},[n("span",{staticClass:"subtitle-2"},[e._v("Measurements")])]),e._v(" "),n("v-divider",{staticClass:"mb-4"}),e._v(" "),n("v-container",{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[n("v-layout",{staticClass:"pt-1",attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs9:""}},[n("span",{staticClass:"body-2"},[e._v("Distance unit symbol")])]),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{hint:"Symbol","hide-details":"",required:""},model:{value:e.distanceUnitSymbolModel,callback:function(t){e.distanceUnitSymbolModel=t},expression:"distanceUnitSymbolModel"}})],1),e._v(" "),n("v-flex",{attrs:{xs9:""}},[n("span",{staticClass:"body-2"},[e._v("Distance unit factor")])]),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{type:"number",hint:"Factor","hide-details":"",min:0,step:.1,required:""},model:{value:e.distanceUnitFactorModel,callback:function(t){e.distanceUnitFactorModel=t},expression:"distanceUnitFactorModel"}})],1)],1)],1)],1),e._v(" "),n("v-card",{class:e.$style.card,attrs:{flat:""}},[n("div",{class:e.$style.heading},[n("span",{staticClass:"subtitle-2"},[e._v("Background")])]),e._v(" "),n("v-divider",{staticClass:"mb-4"}),e._v(" "),n("palette-picker",{attrs:{palette:e.palette,size:24},model:{value:e.backgroundColorModel,callback:function(t){e.backgroundColorModel=t},expression:"backgroundColorModel"}})],1),e._v(" "),n("v-card",{class:e.$style.card,attrs:{flat:""}},[n("div",{class:e.$style.heading},[n("span",{staticClass:"subtitle-2"},[e._v("Interaction Style")])]),e._v(" "),n("v-divider",{class:e.$style.divider}),e._v(" "),n("v-container",{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[n("v-layout",{staticClass:"pt-1",attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs6:""}},[n("span",{staticClass:"body-2"},[e._v("3D")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-select",{staticClass:"pv-no-select",class:e.$style.slimInput,attrs:{dense:"",flat:"","hide-details":"",items:e.interactionStyles3D},model:{value:e.interactionStyle3DModel,callback:function(t){e.interactionStyle3DModel=t},expression:"interactionStyle3DModel"}})],1),e._v(" "),n("v-flex",{attrs:{xs6:""}},[e.firstPersonInteraction?n("span",{staticClass:"body-2"},[e._v("\n            Movement Speed\n          ")]):e._e()]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[e.firstPersonInteraction?n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:0,step:.1},model:{value:e.firstPersonMovementSpeedModel,callback:function(t){e.firstPersonMovementSpeedModel=t},expression:"firstPersonMovementSpeedModel"}}):e._e()],1)],1)],1)],1),e._v(" "),n("v-card",{class:e.$style.card,attrs:{flat:""}},[n("div",{class:e.$style.heading},[n("span",{staticClass:"subtitle-2"},[e._v("Overlay")])]),e._v(" "),n("v-divider",{class:e.$style.divider}),e._v(" "),n("v-container",{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[n("v-layout",{staticClass:"pt-1",attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs6:""}},[n("span",{staticClass:"body-2"},[e._v("Text opacity")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"",min:0,max:1,step:.01},model:{value:e.annotationOpacityModel,callback:function(t){e.annotationOpacityModel=t},expression:"annotationOpacityModel"}})],1)],1)],1)],1),e._v(" "),n("v-card",{class:e.$style.card,attrs:{flat:""}},[n("div",{class:e.$style.heading},[n("v-container",{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs10:""}},[n("span",{staticClass:"subtitle-2"},[e._v("Orientation Axis")])]),e._v(" "),n("v-flex",{attrs:{xs2:""}},[n("v-switch",{class:e.$style.slimInput,attrs:{"hide-details":""},model:{value:e.orientationAxisModel,callback:function(t){e.orientationAxisModel=t},expression:"orientationAxisModel"}})],1)],1)],1)],1),e._v(" "),n("v-divider",{class:e.$style.divider}),e._v(" "),n("v-container",{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[n("v-layout",{staticClass:"pt-1",attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs3:""}},[n("span",{staticClass:"body-2"},[e._v("Type")])]),e._v(" "),n("v-flex",{attrs:{xs9:""}},[n("v-select",{staticClass:"pv-no-select",class:e.$style.slimInput,attrs:{dense:"",flat:"","hide-details":"",disabled:!e.orientationAxis,items:e.axisTypes},model:{value:e.axisTypeModel,callback:function(t){e.axisTypeModel=t},expression:"axisTypeModel"}})],1)],1),e._v(" "),n("v-layout",{staticClass:"pt-1",attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs3:""}},[n("span",{staticClass:"body-2"},[e._v("Preset")])]),e._v(" "),n("v-flex",{attrs:{xs9:""}},[n("v-select",{staticClass:"pv-no-select",class:e.$style.slimInput,attrs:{dense:"",flat:"","hide-details":"",items:e.orientationPresets},model:{value:e.orientationPresetModel,callback:function(t){e.orientationPresetModel=t},expression:"orientationPresetModel"}})],1)],1)],1)],1),e._v(" "),n("gpu-information",{attrs:{width:250,proxyManager:e.$proxyManager}}),e._v(" "),e.hasVR()?n("v-card",{class:e.$style.card,attrs:{flat:""}},[n("div",{class:e.$style.heading},[n("v-container",{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs10:""}},[n("span",{staticClass:"subtitle-2"},[e._v("Virtual Reality")])]),e._v(" "),n("v-flex",{attrs:{xs2:""}},[n("v-switch",{class:e.$style.slimInput,attrs:{"hide-details":""},on:{change:e.toggleVR},model:{value:e.vrEnabled,callback:function(t){e.vrEnabled=t},expression:"vrEnabled"}})],1)],1)],1)],1),e._v(" "),n("v-divider",{class:e.$style.divider}),e._v(" "),n("v-container",{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[n("v-layout",{staticClass:"pt-1",attrs:{row:"","align-center":"",wrap:""}},[n("v-flex",{attrs:{xs5:""}},[n("span",{staticClass:"body-2"},[e._v("Physical scale")])]),e._v(" "),n("v-flex",{attrs:{xs7:""}},[n("v-slider",{class:e.$style.slimInput,attrs:{"hide-details":"",min:"0.1",max:"10",step:"any"},model:{value:e.physicalScale,callback:function(t){e.physicalScale=t},expression:"physicalScale"}})],1)],1)],1)],1):e._e(),e._v(" "),n("v-card",{class:e.$style.card,attrs:{flat:""}},[n("div",{class:e.$style.heading},[n("span",{staticClass:"subtitle-2"},[e._v("LOD Settings")])]),e._v(" "),n("v-divider",{class:e.$style.divider}),e._v(" "),n("v-container",{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[n("v-layout",{staticClass:"pt-1",attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs7:""}},[n("span",{staticClass:"body-2"},[e._v("Max Texture LOD Size")])]),e._v(" "),n("v-flex",{attrs:{xs5:""}},[n("v-text-field",{class:e.$style.slimInput,attrs:{"hide-details":"",type:"number",min:100,suffix:"KiB"},model:{value:e.maxTextureLODSizeModel,callback:function(t){e.maxTextureLODSizeModel=t},expression:"maxTextureLODSizeModel"}})],1)],1)],1)],1)],1)};a._withStripped=!0;var i=n(549),r=n(545),o=n(572),s=n(153),l=n(154),c=n(34),u=n(155);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=[{text:"Default",value:"3D"},{text:"First Person",value:"FirstPerson"}],f=[{text:"XYZ",value:"default"},{text:"LPS",value:"lps"}],g=[{text:"Arrows",value:"arrow"},{text:"Cube",value:"cube"}];var m={name:"GlobalSettings",components:{AnimationControls:s.Z,PalettePicker:c.Z,GpuInformation:l.Z},data:function(){return{palette:u.qg,orientationPresets:f,interactionStyles3D:v,axisTypes:g,vrEnabled:!1,physicalScale:1,basePhysicalScale:1}},computed:p(p(p(p({distanceUnitSymbolModel:{get:function(){return this.distanceUnitSymbol},set:function(e){this.setDistanceUnitSymbol(e)}},distanceUnitFactorModel:{get:function(){return this.distanceUnitFactor},set:function(e){this.setDistanceUnitFactor(e)}},collapseDatasetPanelsModel:{get:function(){return this.collapseDatasetPanels},set:function(e){this.setCollapseDatasetPanels(e)}},backgroundColorModel:{get:function(){return this.backgroundColor},set:function(e){this.setBackgroundColor(e)}},orientationAxisModel:{get:function(){return this.orientationAxis},set:function(e){this.setOrientationAxis(e)}},orientationPresetModel:{get:function(){return this.orientationPreset},set:function(e){this.setOrientationPreset(e)}},axisTypeModel:{get:function(){return this.axisType},set:function(e){this.setAxisType(e)}},annotationOpacityModel:{get:function(){return this.annotationOpacity},set:function(e){this.setAnnotationOpacity(e)}},firstPersonMovementSpeedModel:{get:function(){var e=this.firstPersonMovementSpeed;return null===e&&(this.resetFirstPersonMovementSpeed(),e=this.firstPersonMovementSpeed),e},set:function(e){this.setFirstPersonMovementSpeed(e)}},interactionStyle3DModel:{get:function(){return this.interactionStyle3D},set:function(e){this.setInteractionStyle3D(e)}},firstPersonInteraction:function(){return"FirstPerson"===this.interactionStyle3D},maxTextureLODSizeModel:{get:function(){return this.maxTextureLODSize},set:function(e){this.setMaxTextureLODSize(e)}}},(0,o.rn)(["collapseDatasetPanels"])),(0,o.rn)("animations",{isAnimated:function(e){return e.frames.length>0}})),(0,o.rn)("views",{backgroundColor:function(e){return e.globalBackgroundColor},orientationAxis:function(e){return e.axisVisible},orientationPreset:function(e){return e.axisPreset},axisType:function(e){return e.axisType},annotationOpacity:function(e){return e.annotationOpacity},interactionStyle3D:function(e){return e.interactionStyle3D},firstPersonMovementSpeed:function(e){return e.firstPersonMovementSpeed},maxTextureLODSize:function(e){return e.maxTextureLODSize}})),(0,o.rn)("widgets",{distanceUnitSymbol:function(e){return e.distanceUnitSymbol},distanceUnitFactor:function(e){return e.distanceUnitFactor}})),watch:{physicalScale:function(){var e=this.getViewForVR();e&&e.getCamera().setPhysicalScale(this.basePhysicalScale/Number(this.physicalScale))}},methods:p(p(p({hasVR:function(){var e=this.getViewForVR();return e&&!!e.getOpenglRenderWindow().getVrDisplay()},getViewForVR:function(){for(var e=this.$proxyManager.getViews(),t=0;t<e.length;t++)if("View3D"===e[t].getProxyName())return e[t];return null},toggleVR:function(e){var t=this.getViewForVR();if(t){var n=t.getCamera(),a=t.getRenderer(),r=t.getOpenglRenderWindow();if(e){t.setOrientationAxesVisibility(!1),a.resetCamera(),this.basePhysicalScale=n.getPhysicalScale(),this.physicalScale=1;var o=function(e){return e>0?1:-1},s=n.getDirectionOfProjection(),l=Math.max.apply(Math,(0,i.Z)(s.map(Math.abs)));n.setPhysicalViewNorth(s.map((function(e){return Math.abs(e)===l?o(e):0})));var c=n.getViewUp(),u=Math.max.apply(Math,(0,i.Z)(c.map(Math.abs)));n.setPhysicalViewUp(c.map((function(e){return Math.abs(e)===u?o(e):0}))),r.startVR()}else r.stopVR(),t.setOrientationAxesVisibility(this.orientationAxis)}}},(0,o.nv)({setCollapseDatasetPanels:"collapseDatasetPanels"})),(0,o.nv)("views",{setBackgroundColor:function(e,t){return e("setGlobalBackground",t)},setOrientationAxis:function(e,t){return e("setAxisVisible",t)},setOrientationPreset:function(e,t){return e("setAxisPreset",t)},setAxisType:function(e,t){return e("setAxisType",t)},setAnnotationOpacity:function(e,t){return e("setAnnotationOpacity",t)},setInteractionStyle3D:function(e,t){return e("setInteractionStyle3D",t)},setFirstPersonMovementSpeed:function(e,t){return e("setFirstPersonMovementSpeed",t)},resetFirstPersonMovementSpeed:function(e){return e("resetFirstPersonMovementSpeed")},setMaxTextureLODSize:function(e,t){return e("setMaxTextureLODSize",t)}})),(0,o.nv)("widgets",{setDistanceUnitSymbol:function(e,t){return e("setDistanceUnitSymbol",t)},setDistanceUnitFactor:function(e,t){return e("setDistanceUnitFactor",t)}}))},y={container:"GlobalSettings-container-_zf5o",card:"GlobalSettings-card-zqI_u",heading:"GlobalSettings-heading-ftN6X",divider:"GlobalSettings-divider-_12Zl",slimInput:"GlobalSettings-slimInput-tiNot"},h=n(550),b=n(3),x=n.n(b),w=n(584),P=n(610),_=n(617),S=n(569),k=n(571),O=n(613),C=n(625),V=n(634),I=n(607);e=n.hmd(e);var D={};e.hot,e.hot;var T=(0,h.Z)(m,a,[],!1,(function(e){D.$style=y.locals||y,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return D.$style}})}),null,null);x()(T,{VCard:w.Z,VContainer:P.Z,VDivider:_.Z,VFlex:S.Z,VLayout:k.Z,VSelect:O.Z,VSlider:C.Z,VSwitch:V.Z,VTextField:I.Z}),T.options.__file="src/components/core/GlobalSettings/index.vue";var Z=T.exports},240:function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"grey lighten-3",attrs:{id:e.$style.root}},[n("v-responsive",{staticClass:"grey darken-3"},[n("v-container",{attrs:{"grid-list-lg":"","fill-height":"",id:e.$style.banner}},[n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs6:!e.$vuetify.breakpoint.smAndDown,xs12:e.$vuetify.breakpoint.smAndDown}},[n("v-card",{attrs:{flat:"",dark:"",color:"transparent"}},[n("v-card-title",{staticClass:"display-1 text-center pv-break-word"},[e._v("\n              Visualize your data with ParaView Glance\n            ")]),e._v(" "),n("v-card-text",[e._v("\n              A general purpose standalone web application by\n              "),n("a",{staticClass:"indigo--text text--lighten-3",attrs:{target:"_blank",href:"https://www.kitware.com/",rel:"noopener noreferrer"}},[e._v("Kitware, Inc.")]),e._v("\n              that can be used to visualize many data types.\n              It is also a great framework for building custom\n              viewers on the web which can involve remote services.\n            ")])],1)],1),e._v(" "),e.$vuetify.breakpoint.smAndDown?e._e():n("v-flex",{key:"if-large-enough-screen",attrs:{xs6:"","fill-height":""}},[n("drag-and-drop",{class:e.$style.dnd,attrs:{enabled:""},on:{drop:function(t){return e.$emit("open-files",t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a,i=t.dragHover;return[n("div",{class:(a={},a[e.$style.fileUpload]=!0,a[e.$style.fileUploadHover]=i,a),on:{click:function(t){return t.stopPropagation(),e.$emit("open")}}},[n("div",{staticClass:"white--text body-2",class:e.$style.fileUploadContents},[n("v-btn",{attrs:{color:"primary",raised:"false"},on:{click:function(t){return t.stopPropagation(),e.$emit("open")}}},[n("span",{staticClass:"text-uppercase mr-2"},i?[e._v("drop your file")]:[e._v("open a file")]),e._v(" "),n("v-icon",[e._v("mdi-folder-outline")])],1),e._v(" "),n("div",{staticClass:"pv-no-select mt-2"},[e._v("\n                    or drop one anywhere in this box to begin.\n                  ")])],1)])]}}],null,!1,1487670387)})],1)],1)],1)],1),e._v(" "),n("v-container",{staticClass:"mt-4 pv-no-select",attrs:{"grid-list-lg":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("span",{staticClass:"title"},[e._v("Sample Data")])]),e._v(" "),e._l(e.samples,(function(t,a){return n("v-flex",{key:a,attrs:{xs4:e.$vuetify.breakpoint.mdAndUp,xs6:e.$vuetify.breakpoint.sm,xs12:e.$vuetify.breakpoint.xs}},[n("v-card",{class:e.$style.sampleData,attrs:{flat:"",tile:""}},[n("v-img",{attrs:{src:t.image,height:"300px"}}),e._v(" "),n("div",{class:e.$style.linkOverlay,on:{click:function(n){return n.stopPropagation(),e.openSample(t)}}},[n("div",{staticClass:"body-2",class:e.$style.linkOverlayText},[e._v("\n              "+e._s(t.label)+" ("+e._s(t.size)+")\n              "),t.description?n("div",{class:e.$style.description},[e._v("\n                "+e._s(t.description)+"\n              ")]):e._e(),e._v(" "),t.acknowledgement?n("div",{class:e.$style.acknowledgement},[e._v("\n                "+e._s(t.acknowledgement)+"\n              ")]):e._e()])])],1)],1)}))],2)],1),e._v(" "),n("v-footer",{staticClass:"d-flex flex-column",attrs:{height:"48px",color:"transparent"}},[n("div",{staticClass:"mb-2 text-center grey--text text--darken-2"},[n("div",[e._v(" "+e._s((new Date).getFullYear())+"  Kitware, Inc.")]),e._v(" "),n("div",[e._v("ParaView Glance ("+e._s(e.version)+")")])])])],1)};a._withStripped=!0;var i={Aneurism:n(488),CAD:n(489),Engine:n(490),F1:n(491),Lidar:n(492),Lysozyme:n(493),SinglePin:n(494),Tooth:n(495),Covid19:n(496)},r=window.GLANCE_VERSION&&"master"!==window.GLANCE_VERSION?window.GLANCE_VERSION:"master",o=[{label:"COVID-19",image:i.Covid19,size:"8.4 MB",description:"Lung CT Scan of a COVID-19 patient exhibiting ground-glass opacities (GGO)",acknowledgement:'Joseph Paul Cohen and Paul Morrison and Lan Dao, "COVID-19 image data collection", arXiv:2003.11597, 2020',datasets:[{name:"covid19.glance",url:"https://raw.githubusercontent.com/Kitware/paraview-glance/".concat(r,"/data/covid19.glance")}]},{label:"202-t + Edges",image:i.CAD,size:"112 KB",description:"T-Handle, Flanged Base, Solid Bar",acknowledgement:"https://www.traceparts.com/",datasets:[{name:"202-t.glance",url:"https://raw.githubusercontent.com/Kitware/paraview-glance/".concat(r,"/data/202-t.glance")}]},{label:"Lysozyme.pdb",image:i.Lysozyme,size:"135 KB",description:"an enzyme that catalyzes the destruction of the cell walls of certain bacteria, occurring notably in tears and egg white.",datasets:[{name:"Lysozyme.glance",url:"https://raw.githubusercontent.com/Kitware/paraview-glance/".concat(r,"/data/lysozyme.glance")}]},{label:"Tooth.nrrd",image:i.Tooth,size:"1.6 MB",datasets:[{name:"Tooth.glance",url:"https://raw.githubusercontent.com/Kitware/paraview-glance/".concat(r,"/data/Tooth.glance")}]},{label:"Engine",image:i.Engine,size:"3.1 MB",datasets:[{name:"Engine.glance",url:"https://raw.githubusercontent.com/Kitware/paraview-glance/".concat(r,"/data/Engine.glance")}],acknowledgement:"General Electric",description:"CT scan of two cylinders of an engine block."},{label:"lidar.vtp",image:i.Lidar,size:"5.3 MB",description:"Aerial LIDAR data",datasets:[{name:"lidar.glance",url:"https://raw.githubusercontent.com/Kitware/paraview-glance/".concat(r,"/data/lidar.glance")}]},{label:"SinglePin.vtp",image:i.SinglePin,size:"8.2 MB",description:"Mixing Vane inside reactor pin for cooling",acknowledgement:"Simulation data from Hydra-TH",datasets:[{name:"SinglePin.glance",url:"https://raw.githubusercontent.com/Kitware/paraview-glance/".concat(r,"/data/SinglePin.glance")}]},{label:"Formula 1",image:i.F1,size:"6.7 MB",datasets:[{name:"F1.glance",url:"https://raw.githubusercontent.com/Kitware/paraview-glance/".concat(r,"/data/F1.glance")}]},{label:"Aneurysm.vti",image:i.Aneurism,size:"348 KB",datasets:[{name:"Aneurism.glance",url:"https://raw.githubusercontent.com/Kitware/paraview-glance/".concat(r,"/data/Aneurism.glance")}],acknowledgement:"Philips Research, Hamburg, Germany",description:"Rotational C-arm x-ray scan of the arteries of the right half of a human head. A contrast agent was injected into the blood and an aneurism is present."}],s={name:"Landing",components:{DragAndDrop:n(156).Z},data:function(){return{samples:o,version:window.GLANCE_VERSION||"no version available"}},methods:{openSample:function(e){for(var t=[],n=[],a=0;a<e.datasets.length;++a)t.push(e.datasets[a].url),n.push(e.datasets[a].name);this.$emit("open-urls",e.label,t,n)}}},l={root:"Landing-root-MDMR5",dnd:"Landing-dnd-wOnpL",banner:"Landing-banner-glRow",fileUpload:"Landing-fileUpload-yjnik",fileUploadHover:"Landing-fileUploadHover-gEEmi",fileUploadContents:"Landing-fileUploadContents-G0R9l",sampleData:"Landing-sampleData-LDmnt",linkOverlay:"Landing-linkOverlay-HstJ9",acknowledgement:"Landing-acknowledgement-jf6A6",description:"Landing-description-_xRo0",linkOverlayText:"Landing-linkOverlayText-o_OYL"},c=n(550),u=n(3),d=n.n(u),p=n(580),v=n(584),f=n(568),g=n(610),m=n(569),y=n(660),h=n(588),b=n(657),x=n(571),w=n(658);e=n.hmd(e);var P={};e.hot,e.hot;var _=(0,c.Z)(s,a,[],!1,(function(e){P.$style=l.locals||l,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return P.$style}})}),null,null);d()(_,{VBtn:p.Z,VCard:v.Z,VCardText:f.ZB,VCardTitle:f.EB,VContainer:g.Z,VFlex:m.Z,VFooter:y.Z,VIcon:h.Z,VImg:b.Z,VLayout:x.Z,VResponsive:w.Z}),_.options.__file="src/components/core/Landing/index.vue";var S=_.exports},241:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{class:e.$style.container,attrs:{fluid:""}},[n("div",{class:e.$style.grid,style:{gridTemplateRows:e.gridTemplateRows,gridTemplateColumns:e.gridTemplateColumns}},e._l(e.views,(function(t,a){return n("div",{directives:[{name:"show",rawName:"v-show",value:a<e.visibleCount,expression:"index < visibleCount"}],key:a+"::"+t,class:e.$style.viewContainer},[n("vtk-view",{attrs:{"view-type":t,"layout-index":a,"layout-count":e.visibleCount,"background-color":e.backgroundColors[t]},on:{"bg-change":function(t){return e.setViewBackground(e.view,arguments[0])}}})],1)})),0)])};a._withStripped=!0;var i=n(546),r=n(545),o=n(572),s=n(242),l=n(420);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={name:"LayoutView",components:{VtkView:s.Z},computed:u({smallScreen:function(){return this.$vuetify.breakpoint.width<l.u3.md},gridTemplateRows:function(){return this.visibleCount<4?"1fr":"1fr 1fr"},gridTemplateColumns:function(){return this.visibleCount<2?"1fr":"1fr 1fr"}},(0,o.rn)("views",{views:function(e){return e.viewOrder},backgroundColors:function(e){return e.backgroundColors},visibleCount:function(e){return this.smallScreen?1:e.visibleCount}})),methods:u({getView:function(e){var t=e.split(":"),n=(0,i.Z)(t,2),a=n[0],r=n[1];return this.$proxyManager.getViews().find((function(e){return e.getProxyName()===a&&(!r||e.getName()===r)}))}},(0,o.nv)("views",["updateLayout"])),updated:function(){this.$proxyManager.resizeAllViews()}},p={container:"LayoutView-container-_kxKm",grid:"LayoutView-grid-T7vhg",viewContainer:"LayoutView-viewContainer-kpqmi"},v=n(550),f=n(3),g=n.n(f),m=n(610);e=n.hmd(e);var y={};e.hot,e.hot;var h=(0,v.Z)(d,a,[],!1,(function(e){y.$style=p.locals||p,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return y.$style}})}),null,null);g()(h,{VContainer:m.Z}),h.options.__file="src/components/core/LayoutView/index.vue";var b=h.exports},159:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-card-title",[n("span",{staticClass:"body-2"},[e._v("Enter your raw data specs below:")])]),e._v(" "),n("v-card-text",[n("v-container",{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs3:""}},[e._v("Filename:")]),e._v(" "),n("v-flex",{staticClass:"body-1",attrs:{xs9:""}},[e._v(e._s(e.file.name))])],1),e._v(" "),n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs3:""}},[e._v("File size:")]),e._v(" "),n("v-flex",{staticClass:"body-1",attrs:{xs9:""}},[e._v(e._s(e.file.size)+" bytes")])],1),e._v(" "),n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs3:""}},[e._v("Data type:")]),e._v(" "),n("v-flex",{staticClass:"body-1",attrs:{xs9:""}},[n("v-select",{attrs:{items:e.allDataTypes,"item-text":"label","item-value":"label","single-line":"","return-object":""},model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}})],1)],1),e._v(" "),n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs3:""}},[e._v("Dimensions:")]),e._v(" "),e._l(3,(function(t){return n("v-flex",{key:t,staticClass:"body-1",attrs:{xs3:""}},[n("v-text-field",{attrs:{type:"number",min:"1",max:e.file.size},model:{value:e.dimensions[t-1],callback:function(n){e.$set(e.dimensions,t-1,n)},expression:"dimensions[i-1]"}})],1)}))],2),e._v(" "),n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{staticClass:"body-2",attrs:{xs3:""}},[e._v("Spacing:")]),e._v(" "),e._l(3,(function(t){return n("v-flex",{key:t,staticClass:"body-1",attrs:{xs3:""}},[n("v-text-field",{attrs:{type:"number",min:"1",max:e.file.size},model:{value:e.spacing[t-1],callback:function(n){e.$set(e.spacing,t-1,n)},expression:"spacing[i-1]"}})],1)}))],2),e._v(" "),n("v-layout",{attrs:{row:"","align-center":""}},[n("v-flex",{attrs:{xs3:""}},[e._v("Effective size:")]),e._v(" "),n("v-flex",{attrs:{xs3:""}},[e._v(e._s(e.effectiveSize))]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[e.effectiveSize!==e.file.size?n("span",{staticClass:"red--text"},[e._v("\n            Effective size does not match total size!\n          ")]):n("span",{staticClass:"teal--text"},[e._v("Effective size matches file size")])])],1)],1)],1)],1)};a._withStripped=!0;var i=[{label:"Integer 8",constructor:Int8Array,size:1},{label:"Unsigned Integer 8",constructor:Uint8Array,size:1},{label:"Integer 16",constructor:Int16Array,size:2},{label:"Unsigned Integer 16",constructor:Uint16Array,size:2},{label:"Integer 32",constructor:Int32Array,size:4},{label:"Unsigned Integer 32",constructor:Uint32Array,size:4},{label:"Float",constructor:Float32Array,size:4},{label:"Double",constructor:Float64Array,size:8}];function r(){this.effectiveSize===this.file.size?this.$emit("change",{dimensions:this.dimensions,spacing:this.spacing,dataType:this.dataType,effectiveSize:this.effectiveSize}):this.$emit("change",null)}var o={name:"RawFileReader",props:{file:{type:File,required:!0}},data:function(){return{allDataTypes:i,dataType:i[0],dimensions:[1,1,1],spacing:[1,1,1]}},watch:{dimensions:r,spacing:r,dataType:r},computed:{effectiveSize:function(){return this.dimensions.reduce((function(e,t){return e*t}),1)*this.dataType.size}}},s={toolbarButton:"RawFileReader-toolbarButton-Qwep7",overlay:"RawFileReader-overlay-EEhkR",overlayHidden:"RawFileReader-overlayHidden-A2Yvq",overlayText:"RawFileReader-overlayText-iq_lG"},l=n(550),c=n(3),u=n.n(c),d=n(584),p=n(568),v=n(610),f=n(569),g=n(571),m=n(613),y=n(607);e=n.hmd(e);var h={};e.hot,e.hot;var b=(0,l.Z)(o,a,[],!1,(function(e){h.$style=s.locals||s,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return h.$style}})}),null,null);u()(b,{VCard:d.Z,VCardText:p.ZB,VCardTitle:p.EB,VContainer:v.Z,VFlex:f.Z,VLayout:g.Z,VSelect:m.Z,VTextField:y.Z}),b.options.__file="src/components/core/RawFileReader/index.vue";var x=b.exports},245:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.dialogType,{tag:"component",attrs:{value:e.showDialog,"max-width":"60%"},on:{input:e.close}},[e.screenshot?n("v-card",{attrs:{flat:""}},[n("v-card-title",[e._v("Save Screenshot")]),e._v(" "),n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",e._b({},"v-flex",e.flexLayout,!1),[n("v-img",{class:e.$style.imagePreview,attrs:{src:e.imageUrl,contain:"",height:e.smallScreen?"125px":"250px"}})],1),e._v(" "),n("v-flex",e._b({},"v-flex",e.flexLayout,!1),[n("v-container",{class:{"pa-1":e.smallScreen}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs9:""}},[n("v-text-field",{attrs:{label:"Filename"},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.save(),e.close()}},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-select",{attrs:{label:"File type","hide-details":"","single-line":"",items:e.fileTypes},model:{value:e.fileType,callback:function(t){e.fileType=t},expression:"fileType"}})],1)],1),e._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-checkbox",{attrs:{label:"Transparent background"},model:{value:e.transparentBackground,callback:function(t){e.transparentBackground=t},expression:"transparentBackground"}})],1)],1)],1)],1)],1)],1),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"red"},nativeOn:{click:function(t){return e.close.apply(null,arguments)}}},[n("span",[e._v("Cancel")])]),e._v(" "),n("v-btn",{attrs:{color:"secondary"},nativeOn:{click:function(t){e.save(),e.close()}}},[n("span",[e._v("Save")])]),e._v(" "),n("v-btn",{attrs:{color:"primary",href:e.imageUrl,download:e.filename+e.fileType},nativeOn:{click:function(t){return e.close.apply(null,arguments)}}},[n("span",[e._v("Download")])])],1)],1):e._e()],1)};a._withStripped=!0;var i=n(545),r=n(572),o=n(662),s=n(595);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=[".png",".jpeg"];function d(){var e=this,t=new Image;t.addEventListener("load",(function(){var n=e.canvas.getContext("2d");n.clearRect(0,0,e.canvas.width,e.canvas.height),e.canvas.width=t.width,e.canvas.height=t.height,e.transparentBackground||(n.fillStyle=e.backgroundToFillStyle(e.screenshot.viewData.background),n.fillRect(0,0,e.canvas.width,e.canvas.height)),n.drawImage(t,0,0);var a="image/".concat(e.fileType.substr(1));e.imageUrl=e.canvas.toDataURL(a)})),t.src=this.screenshot.imgSrc}var p={name:"ScreenshotDialog",components:{VBottomSheet:o.Z,VDialog:s.Z},data:function(){return{filename:"",imageUrl:"",transparentBackground:!1,fileType:"",fileTypes:u}},computed:c({smallScreen:function(){return this.$vuetify.breakpoint.smAndDown},landscapeScreen:function(){var e=this.$vuetify.breakpoint;return e.width>e.height},dialogType:function(){return this.smallScreen?"v-bottom-sheet":"v-dialog"},flexLayout:function(){var e=!this.smallScreen||this.landscapeScreen?"xs6":"xs12";return(0,i.Z)({},e,!0)}},(0,r.rn)({screenshot:function(e){return e.pendingScreenshot},showDialog:function(e){return e.screenshotDialog}})),watch:{transparentBackground:d,fileType:d,showDialog:function(e){e&&(this.filename="Untitled",this.fileType=".png",this.generateImage())}},methods:c({generateImage:d,backgroundToFillStyle:function(e){if(e.startsWith("linear-gradient(")){var t=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(","),n=this.canvas.getContext("2d").createLinearGradient(0,0,0,this.canvas.height);return n.addColorStop(0,t[0]),n.addColorStop(1,t[1]),n}return e},save:function(){this.$emit("save",this.screenshot.viewName,{image:this.imageUrl,filename:this.filename+this.fileType})}},(0,r.nv)({close:"closeScreenshotDialog"})),created:function(){this.canvas=document.createElement("canvas")}},v={imagePreview:"ScreenshotDialog-imagePreview-UShNL"},f=n(550),g=n(3),m=n.n(g),y=n(580),h=n(584),b=n(568),x=n(589),w=n(610),P=n(569),_=n(657),S=n(571),k=n(613),O=n(626),C=n(607);e=n.hmd(e);var V={};e.hot,e.hot;var I=(0,f.Z)(p,a,[],!1,(function(e){V.$style=v.locals||v,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return V.$style}})}),null,null);m()(I,{VBtn:y.Z,VCard:h.Z,VCardActions:b.h7,VCardTitle:b.EB,VCheckbox:x.Z,VContainer:w.Z,VFlex:P.Z,VImg:_.Z,VLayout:S.Z,VSelect:k.Z,VSpacer:O.Z,VTextField:C.Z}),I.options.__file="src/components/core/Screenshots/ScreenshotDialog/index.vue";var D=I.exports},244:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.container},[n("v-toolbar",{staticClass:"flex-grow-0",attrs:{color:"transparent",flat:""}},[n("v-toolbar-title",[e._v("Screenshots")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$emit("close")}}},[n("v-icon",[e._v("mdi-arrow-right")])],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.atLeastOneScreenshot,expression:"!atLeastOneScreenshot"}],class:e.$style.emptyState},[n("v-icon",{attrs:{large:""}},[e._v("mdi-image-multiple")]),e._v(" "),n("span",{staticClass:"subtitle-1 grey--text text--darken-1"},[e._v("No screenshots yet!")]),e._v(" "),n("v-btn",{staticClass:"mt-4",attrs:{disabled:!e.activeView},on:{click:e.takeScreenshot}},[e._v("\n      Capture Active View\n    ")])],1),e._v(" "),n("v-list",{directives:[{name:"show",rawName:"v-show",value:e.atLeastOneScreenshot,expression:"atLeastOneScreenshot"}]},e._l(Object.keys(e.screenshots),(function(t){return n("v-list-group",{key:t,attrs:{"prepend-icon":"mdi-folder","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",[e._v("\n            "+e._s(t)+" ("+e._s(e.screenshots[t].length)+")\n          ")])],1)]},proxy:!0}],null,!0)},[e._v(" "),e._l(e.screenshots[t],(function(a,i){return n("v-tooltip",{key:i,attrs:{left:"",disabled:e.smallScreen,"content-class":e.$style.hoverTooltip},scopedSlots:e._u([{key:"activator",fn:function(r){var o=r.on;return[n("v-list-item",e._g({attrs:{link:""},on:{click:function(n){return e.viewScreenshot(t,i)}}},o),[n("v-list-item-title",{class:e.$style.filename,attrs:{title:a.filename}},[e._v("\n              "+e._s(a.filename)+"\n            ")]),e._v(" "),n("v-list-item-action",{class:e.$style.action},[n("v-btn",{attrs:{icon:"",href:a.image,download:a.filename},on:{click:function(e){e.stopPropagation()}}},[n("v-icon",[e._v("mdi-download")])],1)],1),e._v(" "),n("v-list-item-action",{class:e.$style.action},[n("v-btn",{attrs:{icon:""},on:{click:[function(n){return e.deleteScreenshot(t,i)},function(e){e.stopPropagation()}]}},[n("v-icon",[e._v("mdi-delete")])],1)],1)],1)]}}],null,!0)},[e._v(" "),n("img",{class:e.$style.hoverImage,attrs:{src:a.image}})])}))],2)})),1),e._v(" "),n("screenshot-dialog",{on:{save:e.addScreenshot}})],1)};a._withStripped=!0;var i=n(545),r=n(572);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var s={name:"Screenshots",components:{ScreenshotDialog:n(245).Z},data:function(){return{screenshots:{},activeViewId:-1}},computed:{atLeastOneScreenshot:function(){for(var e=Object.keys(this.screenshots),t=0;t<e.length;++t){var n=this.screenshots[e[t]];if(n&&n.length)return!0}return!1},smallScreen:function(){return this.$vuetify.breakpoint.smAndDown},activeView:function(){return this.$proxyManager.getProxyById(this.activeViewId)}},proxyManagerHooks:{onActiveViewChange:function(e){this.activeViewId=e.getProxyId()}},mounted:function(){var e=this.$proxyManager.getActiveView();e&&(this.activeViewId=e.getProxyId())},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({addScreenshot:function(e,t){e in this.screenshots||this.$set(this.screenshots,e,[]),this.screenshots[e].push(t);var n=this.getTotalCount();this.$emit("screenshot-count",n)},deleteScreenshot:function(e,t){this.screenshots[e]&&this.screenshots[e].splice(t,1);var n=this.getTotalCount();this.$emit("screenshot-count",n)},viewScreenshot:function(e,t){if(this.screenshots[e]){var n=this.screenshots[e][t],a=new Image;a.src=n.image;var i=window.open("","_blank");i.document.write(a.outerHTML),i.document.title=n.filename,window.focus()}},getTotalCount:function(){return Object.values(this.screenshots).map((function(e){return e.length})).reduce((function(e,t){return e+t}))}},(0,r.nv)({takeScreenshot:function(e){return e("takeScreenshot",this.activeView)}}))},l=s,c={container:"Screenshots-container-QUtU6",emptyState:"Screenshots-emptyState-A_kb2",filename:"Screenshots-filename-_4xgf",action:"Screenshots-action-BSST7",hoverTooltip:"Screenshots-hoverTooltip-WDQlH",hoverImage:"Screenshots-hoverImage-_Qhil"},u=n(550),d=n(3),p=n.n(d),v=n(580),f=n(588),g=n(620),m=n(621),y=n(614),h=n(615),b=n(619),x=n(626),w=n(656),P=n(659),_=n(627);e=n.hmd(e);var S={};e.hot,e.hot;var k=(0,u.Z)(l,a,[],!1,(function(e){S.$style=c.locals||c,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return S.$style}})}),null,null);p()(k,{VBtn:v.Z,VIcon:f.Z,VList:g.Z,VListGroup:m.Z,VListItem:y.Z,VListItemAction:h.Z,VListItemContent:b.km,VListItemTitle:b.V9,VSpacer:x.Z,VToolbar:w.Z,VToolbarTitle:P.qW,VTooltip:_.Z}),k.options.__file="src/components/core/Screenshots/index.vue";var O=k.exports},246:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.fileGenerationInProgress?e.$style.visible:e.$style.hidden},[n("v-progress-circular",{attrs:{indeterminate:"",color:"green",size:70,width:7}}),e._v(" "),n("label",{class:e.$style.label},[e._v("\n    Compressing..."),n("br"),e._v(e._s(e.fileName)+"\n  ")])],1)};a._withStripped=!0;var i={name:"StateFileGenerator",computed:(0,n(572).rn)({proxyManager:"proxyManager",fileGenerationInProgress:function(e){return!!e.savingStateName},fileName:"savingStateName"})},r={hidden:"StateFileGenerator-hidden-W1iZI",visible:"StateFileGenerator-visible-mpB0c",label:"StateFileGenerator-label-kWzey"},o=n(550),s=n(3),l=n.n(s),c=n(583);e=n.hmd(e);var u={};e.hot,e.hot;var d=(0,o.Z)(i,a,[],!1,(function(e){u.$style=r.locals||r,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);l()(d,{VProgressCircular:c.Z}),d.options.__file="src/components/core/StateFileGenerator/index.vue";var p=d.exports},243:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=function(){var e,t=this,n=t.$createElement,a=t._self._c||n;return a("div",{class:(e={},e[t.$style.sheet]=!0,e[t.$style.visible]=t.value,e),style:{top:t.sheetTop+"px"}},[a("div",{ref:"slotWrapper",staticClass:"grey darken-3 white--text",class:t.$style.slotWrapper,style:{transform:"translateY("+(t.visible?0:"100%")+")"}},[t._t("default")],2)])};a._withStripped=!0;var i={props:{value:{type:Boolean,default:!1}},data:function(){return{sheetTop:0,visible:!1}},methods:{onMouseDown:function(e){this.$el.contains(e.target)||this.$emit("input",!1)},updateHeight:function(){this.sheetTop=-this.$refs.slotWrapper.offsetHeight}},watch:{value:function(e,t){var n=this;e&&!t?(document.addEventListener("mousedown",this.onMouseDown,!0),this.$nextTick((function(){n.updateHeight(),n.visible=!0}))):(document.removeEventListener("mousedown",this.onMouseDown,!0),this.visible=!1)}},mounted:function(){window.addEventListener("resize",this.updateHeight)},beforeDestroy:function(){window.removeEventListener("resize",this.updateHeight)}},r={sheet:"ToolbarSheet-sheet-xndXH",slotWrapper:"ToolbarSheet-slotWrapper-NSeT7",visible:"ToolbarSheet-visible-dRAdL"},o=n(550);e=n.hmd(e);var s={};e.hot,e.hot;var l=(0,o.Z)(i,a,[],!1,(function(e){s.$style=r.locals||r,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return s.$style}})}),null,null);l.options.__file="src/components/core/ToolbarSheet/index.vue";var c=l.exports},242:function(e,t,n){"use strict";n.d(t,{Z:function(){return $}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{class:e.$style.container,attrs:{fluid:""}},[n("v-layout",{class:e.$style.floatToolbar,attrs:{column:""}},[n("v-tooltip",{attrs:{left:"",disabled:e.smallScreen},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",dark:""},on:{click:function(t){return e.resetCamera()}}},a),[n("v-icon",[e._v("mdi-image-filter-center-focus")])],1)]}}])},[n("span",{staticClass:"pv-no-select"},[e._v("Reset camera")])]),e._v(" "),n("v-tooltip",{attrs:{left:"",disabled:e.smallScreen},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",dark:""},on:{click:function(t){return e.rollLeft()}}},a),[n("v-icon",[e._v("mdi-rotate-left")])],1)]}}])},[n("span",{staticClass:"pv-no-select"},[e._v("Rotate camera left 90")])]),e._v(" "),n("v-tooltip",{attrs:{left:"",disabled:e.smallScreen},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",dark:""},on:{click:function(t){return e.rollRight()}}},a),[n("v-icon",[e._v("mdi-rotate-right")])],1)]}}])},[n("span",{staticClass:"pv-no-select"},[e._v("Rotate camera right 90")])]),e._v(" "),"View3D"===e.type?n("v-tooltip",{attrs:{left:"",disabled:e.smallScreen},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",dark:""},on:{click:function(t){return e.updateOrientation("x")}}},a),[e._v("\n          "+e._s(e.orientationLabels[0])+"\n        ")])]}}],null,!1,2132146526)},[n("span",{staticClass:"pv-no-select"},[e._v("Reset Camera to Orientation "+e._s(e.orientationLabels[0]))])]):e._e(),e._v(" "),"View3D"===e.type?n("v-tooltip",{attrs:{left:"",disabled:e.smallScreen},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",dark:""},on:{click:function(t){return e.updateOrientation("y")}}},a),[e._v("\n          "+e._s(e.orientationLabels[1])+"\n        ")])]}}],null,!1,1991408638)},[n("span",{staticClass:"pv-no-select"},[e._v("Reset Camera to Orientation "+e._s(e.orientationLabels[1]))])]):e._e(),e._v(" "),"View3D"===e.type?n("v-tooltip",{attrs:{left:"",disabled:e.smallScreen},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",dark:""},on:{click:function(t){return e.updateOrientation("z")}}},a),[e._v("\n          "+e._s(e.orientationLabels[2])+"\n        ")])]}}],null,!1,617031326)},[n("span",{staticClass:"pv-no-select"},[e._v("Reset Camera to Orientation "+e._s(e.orientationLabels[2]))])]):e._e()],1),e._v(" "),n("v-layout",{attrs:{column:"","fill-height":""}},[n("v-flex",{staticClass:"js-view",class:e.$style.vtkView,style:{background:e.backgroundColor},attrs:{"fill-height":""},on:{mousedown:function(t){return e.view.activate()}}}),e._v(" "),e.isActive?n("div",{class:e.$style.activeView}):e._e(),e._v(" "),n("div",{class:e.$style.toolbarWrapper},[n("toolbar-sheet",{model:{value:e.backgroundSheet,callback:function(t){e.backgroundSheet=t},expression:"backgroundSheet"}},[n("v-container",{staticClass:"mr-0",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:""}},[n("v-spacer"),e._v(" "),n("palette-picker",{attrs:{size:24,palette:e.palette,value:e.backgroundColor},on:{input:e.changeBackgroundColor}})],1)],1)],1),e._v(" "),n("v-toolbar",{class:e.$style.smallToolbar,attrs:{dark:"",height:"45px"}},[n("v-select",{class:e.$style.viewTypeSelector,attrs:{dense:"",flat:"","hide-details":"",items:e.viewTypes,value:e.viewType},on:{change:e.changeViewType}}),e._v(" "),n("v-spacer"),e._v(" "),"View3D"===e.type?n("v-tooltip",{attrs:{top:"",disabled:e.smallScreen||e.viewPointMenuVisible},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-menu",{attrs:{"offset-y":"",top:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({directives:[{name:"show",rawName:"v-show",value:e.cameraViewPoints.length,expression:"cameraViewPoints.length"}],class:e.$style.button,attrs:{icon:"",disabled:e.viewPointMenuVisible}},Object.assign({},a,i)),[n("v-icon",[e._v("mdi-camera-switch")])],1)]}}],null,!0),model:{value:e.viewPointMenuVisible,callback:function(t){e.viewPointMenuVisible=t},expression:"viewPointMenuVisible"}},[e._v(" "),n("v-list",e._l(e.cameraViewPoints,(function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.changeCameraViewPoint(t)}}},[n("v-list-item-title",[e._v(e._s(t))])],1)})),1)],1)]}}],null,!1,205776964)},[e._v(" "),n("span",{staticClass:"pv-no-select"},[e._v("Change View Point")])]):e._e(),e._v(" "),n("v-tooltip",{attrs:{top:"",disabled:e.smallScreen},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({class:e.$style.button,attrs:{icon:"",disabled:e.backgroundSheet||!e.view},on:{click:function(t){e.backgroundSheet=!e.backgroundSheet}}},a),[n("v-icon",[e._v("mdi-palette")])],1)]}}])},[n("span",{staticClass:"pv-no-select"},[e._v("Background color")])]),e._v(" "),n("v-tooltip",{attrs:{top:"",disabled:e.smallScreen},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({class:e.$style.button,attrs:{icon:""},on:{click:function(t){return e.screenCapture()}}},a),[n("v-icon",[e._v("mdi-camera-plus")])],1)]}}])},[n("span",{staticClass:"pv-no-select"},[e._v("Screenshot")])]),e._v(" "),!e.smallScreen&&e.singleViewButton?n("v-tooltip",{key:"singleView",attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({class:e.$style.button,attrs:{icon:""},on:{click:function(t){return e.singleView(e.layoutIndex)}}},a),[n("v-icon",[e._v("mdi-fullscreen")])],1)]}}],null,!1,3656610843)},[n("span",{staticClass:"pv-no-select"},[e._v("Single view")])]):e._e(),e._v(" "),!e.smallScreen&&e.flipViewButton?n("v-tooltip",{key:"flipView",attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({class:e.$style.button,attrs:{icon:""},on:{click:function(t){return e.splitView(e.layoutIndex)}}},a),[n("v-icon",[e._v("mdi-flip-horizontal")])],1)]}}],null,!1,1302128140)},[n("span",{staticClass:"pv-no-select"},[e._v("Split view")])]):e._e(),e._v(" "),!e.smallScreen&&e.quadViewButton?n("v-tooltip",{key:"quadView",attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({class:e.$style.button,attrs:{icon:""},on:{click:function(t){return e.quadView(e.layoutIndex)}}},a),[n("v-icon",[e._v("mdi-widgets")])],1)]}}],null,!1,1168904256)},[n("span",{staticClass:"pv-no-select"},[e._v("Quad view")])]):e._e()],1)],1)],1)],1)};a._withStripped=!0;var i=n(545),r=n(572),o=n(420),s=n(421),l=n(34),c=n(243),u=n(155);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={name:"VtkView",components:{PalettePicker:l.Z,ToolbarSheet:c.Z},props:{layoutIndex:{default:0,type:Number},layoutCount:{default:1,type:Number},viewType:{default:"",type:String},backgroundColor:{default:"#000",type:String}},data:function(){return{internalViewId:-1,internalIsActive:!1,palette:u.qg,backgroundSheet:!1,inAnimation:!1,viewPointMenuVisible:!1}},computed:p(p(p({},(0,r.rn)("views",{view:function(e){return this.$proxyManager.getProxyById(e.viewTypeToId[this.viewType])},axisVisible:function(e){return e.axisVisible},axisType:function(e){return e.axisType},axisPreset:function(e){return e.axisPreset}})),(0,r.Se)(["cameraViewPoints"])),{},{type:function(){return this.viewType.split(":")[0]},name:function(){return this.viewType.split(":")[1]},orientationLabels:function(){return"lps"===this.axisPreset?["L","P","S"]:["X","Y","Z"]},viewTypes:function(){return"lps"===this.axisPreset?s.qu:s.sB},smallScreen:function(){return this.$vuetify.breakpoint.width<o.u3.md},singleViewButton:function(){return this.layoutCount>1},flipViewButton:function(){return 1===this.layoutCount||4===this.layoutCount&&this.layoutIndex%2==1},quadViewButton:function(){return 2===this.layoutCount&&1===this.layoutIndex},isActive:function(){return this.internalIsActive||this.view===this.$proxyManager.getActiveView()}}),watch:{view:function(e){this.tryMountView(e)}},proxyManagerHooks:{onActiveViewChange:function(e){this.internalIsActive=e===this.view},onActiveSourceChange:function(e){if(e&&"TrivialProducer"===e.getProxyName()&&this.view.bindRepresentationToManipulator){var t=this.$proxyManager.getRepresentation(e,this.view);this.view.bindRepresentationToManipulator(t),this.view.updateWidthHeightAnnotation()}},onProxyRegistrationChange:function(){for(var e=this.$proxyManager.getSources().find((function(e){return e.getDataset().isA&&e.getDataset().isA("vtkImageData")})),t=this.$proxyManager.getViews(),n=0;n<t.length;n++){var a=t[n];a.setCornerAnnotation("se",""),-1!==a.getProxyName().indexOf("2D")&&e?a.setCornerAnnotations(s.jB,!0):a.setCornerAnnotation("nw","")}}},mounted:function(){this.view&&this.tryMountView(this.view),window.addEventListener("resize",this.resizeCurrentView),this.resizeCurrentView()},beforeDestroy:function(){this.view&&this.unmountView(this.view),window.removeEventListener("resize",this.resizeCurrentView)},beforeUpdate:function(){this.view||this.changeViewType(s.H_)},methods:p(p({tryMountView:function(e){if(this.internalViewId>-1){var t=this.$proxyManager.getProxyById(this.internalViewId);this.unmountView(t),this.internalViewId=-1}if(e){this.internalViewId=e.getProxyId(),e.setContainer(this.$el.querySelector(".js-view"));var n=e.getReferenceByName("widgetManager");n&&(n.setUseSvgLayer(!0),n.getPickingEnabled()||n.disablePicking())}},unmountView:function(e){var t=e.getReferenceByName("widgetManager");t&&t.setUseSvgLayer(!1),e.setContainer(null)},changeViewType:function(e){this.swapViews({index:this.layoutIndex,viewType:e})},getAvailableActions:function(){return{single:this.layoutCount>1,split:this.layoutCount<4}},resetCamera:function(){this.view&&this.view.resetCamera()},rollLeft:function(){var e=this;if(this.view){this.view.setAnimation(!0,this);var t=0,n=null;n=setInterval((function(){t<90?(t+=2,e.view.rotate(2)):(clearInterval(n),e.view.setAnimation(!1,e))}),1)}},rollRight:function(){var e=this;if(this.view){this.view.setAnimation(!0,this);var t=0,n=null;n=setInterval((function(){t<90?(t+=2,e.view.rotate(-2)):(clearInterval(n),e.view.setAnimation(!1,e))}),1)}},updateOrientation:function(e){var t=this;if(this.view&&!this.inAnimation){this.inAnimation=!0;var n=s.UK[e],a=n.axis,i=n.orientation,r=n.viewUp;this.view.updateOrientation(a,i,r,100).then((function(){t.inAnimation=!1}))}},resizeCurrentView:function(){this.view&&this.view.resize()},screenCapture:function(){this.takeScreenshot(this.view)},changeBackgroundColor:function(e){this.changeBackground({viewType:this.viewType,color:e})}},(0,r.nv)("views",["changeBackground","swapViews","singleView","splitView","quadView"])),(0,r.nv)(["takeScreenshot","changeCameraViewPoint"]))},f={container:"VtkView-container-xoSjw",vtkView:"VtkView-vtkView-_T34c",viewTypeSelector:"VtkView-viewTypeSelector-Y_5cJ",floatToolbar:"VtkView-floatToolbar-_eQCk",toolbarWrapper:"VtkView-toolbarWrapper-_mikW",button:"VtkView-button-B4bSE",smallToolbar:"VtkView-smallToolbar-ZdwuJ",activeView:"VtkView-activeView-ES8oq"},g=n(550),m=n(3),y=n.n(m),h=n(580),b=n(610),x=n(569),w=n(588),P=n(571),_=n(620),S=n(614),k=n(619),O=n(611),C=n(613),V=n(626),I=n(656),D=n(627);e=n.hmd(e);var T={};e.hot,e.hot;var Z=(0,g.Z)(v,a,[],!1,(function(e){T.$style=f.locals||f,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return T.$style}})}),null,null);y()(Z,{VBtn:h.Z,VContainer:b.Z,VFlex:x.Z,VIcon:w.Z,VLayout:P.Z,VList:_.Z,VListItem:S.Z,VListItemTitle:k.V9,VMenu:O.Z,VSelect:C.Z,VSpacer:V.Z,VToolbar:I.Z,VTooltip:D.Z}),Z.options.__file="src/components/core/VtkView/index.vue";var $=Z.exports},148:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",{class:e.$style.container},[n("v-layout",{attrs:{wrap:"","align-center":""}},[n("v-flex",{attrs:{xs12:""}},[n("source-select",{attrs:{label:"Target volume",filterFunc:e.filterImages,bindToActiveSource:"",hideIfOneDataset:""},on:{input:e.setTargetVolume}})],1)],1)],1),e._v(" "),n("v-container",{class:e.$style.container},[n("v-layout",{attrs:{wrap:"","align-center":""}},[e.enabled?[n("v-btn",{attrs:{text:""},on:{click:e.disable}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-crop-free")]),e._v("\n          Hide\n        ")],1)]:[n("v-btn",{attrs:{text:"",disabled:!e.canCrop},on:{click:e.enable}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-crop")]),e._v("\n          Crop\n        ")],1)],e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{attrs:{disabled:!e.canReset,text:""},on:{click:e.reset}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-replay")]),e._v("\n        Reset\n      ")],1)],2)],1)],1)};a._withStripped=!0;var i=n(545),r=n(572),o=n(77),s=n(28);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={name:"CropTool",components:{SourceSelect:o.Z},props:["enabled"],data:function(){return{targetVolumeId:-1,widgetId:-1,canReset:!1}},computed:c({targetVolume:function(){return this.$proxyManager.getProxyById(this.targetVolumeId)},cropProxy:function(){return this.$proxyManager.getProxyById(this.widgetId)},canCrop:function(){return this.targetVolumeId>-1}},(0,r.rn)("widgets",{allCropStates:"croppingStates"})),watch:{enabled:function(e){var t=this;if(e){var n=this.getCropFilter(this.targetVolume),a=this.cropProxy;a||((a=this.$proxyManager.getProxyInGroup("Widgets").find((function(e){return"Crop"===e.getProxyName()})))||(a=this.$proxyManager.createProxy("Widgets","Crop")),this.widgetId=a.getProxyId());var i=a.getWidget(),r=a.getWidgetState();i.setFaceHandlesEnabled(!1),i.setEdgeHandlesEnabled(!1);var o=this.targetVolume.getDataset();if(i.copyImageDataDescription(o),i.placeWidget(o.getBounds()),n.isResetAvailable())r.getCroppingPlanes().setPlanes(n.getCroppingPlanes());var s=r.getCroppingPlanes();this.stateSub.sub(s.onModified((function(){var e=s.getPlanes();n.setCroppingPlanes(e),t.canReset=n.isResetAvailable(),t.storeCropState(t.targetVolumeId,e)}))),a.addToViews()}else this.cropProxy.removeFromViews(),this.$proxyManager.deleteProxy(this.cropProxy),this.widgetId=-1,this.stateSub.unsub()},targetVolumeId:function(e){if(this.enabled&&this.disable(),this.canReset=!1,-1!==e){var t=this.getCropFilter(this.targetVolume);this.canReset=t.isResetAvailable()}}},mounted:function(){this.stateSub=(0,s.y5)()},beforeDestroy:function(){this.stateSub.unsub()},methods:c({filterImages:function(e){return"TrivialProducer"===e.getProxyName()&&"vtkImageData"===e.getType()},getCropFilter:function(e){return(0,s.aX)(this.$proxyManager,e)},setTargetVolume:function(e){this.targetVolumeId=e},enable:function(){this.$emit("enable",!0)},disable:function(){this.$emit("enable",!1)},reset:function(){if(this.targetVolume){var e=this.getCropFilter(this.targetVolume);if(e.reset(),this.canReset=!1,this.cropProxy)this.cropProxy.getWidgetState().getCroppingPlanes().setPlanes(e.getCroppingPlanes())}},storeCropState:function(e,t){this.setCroppingState({datasetId:e,planes:t})}},(0,r.nv)("widgets",["setCroppingState"]))},d={container:"CropTool-container-O3Hvl"},p=n(550),v=n(3),f=n.n(v),g=n(580),m=n(610),y=n(569),h=n(588),b=n(571),x=n(626);e=n.hmd(e);var w={};e.hot,e.hot;var P=(0,p.Z)(u,a,[],!1,(function(e){w.$style=d.locals||d,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return w.$style}})}),null,null);f()(P,{VBtn:g.Z,VContainer:m.Z,VFlex:y.Z,VIcon:h.Z,VLayout:b.Z,VSpacer:x.Z}),P.options.__file="src/components/tools/CropTool/index.vue";var _=P.exports},147:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",{class:e.$style.container},[n("v-layout",{attrs:{wrap:"","align-center":""}},[n("v-flex",{attrs:{xs12:""}},[n("source-select",{attrs:{label:"Target Dataset",filterFunc:e.filterImageData,bindToActiveSource:""},on:{input:e.setTargetDataset}})],1)],1),e._v(" "),n("v-card",{attrs:{flat:""}},[n("div",{class:e.$style.heading},[n("v-layout",{attrs:{"align-center":""}},[n("v-flex",{attrs:{xs10:""}},[n("span",{staticClass:"body-2"},[e._v("Tool List")])]),e._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-btn-toggle",{class:e.$style.toolList,attrs:{value:e.activeToolIndex},on:{change:e.toggleActiveTool}},e._l(e.uiToolList,(function(t){return n("v-tooltip",{key:t.name,attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-btn",e._g({class:e.$style.toolButton,attrs:{small:"",text:"",disabled:-1===e.targetPid}},i),[n("svg-icon",{class:e.$style.toolIcon,attrs:{icon:t.icon}})],1)]}}],null,!0)},[e._v("\n                "+e._s(t.name)+"\n              ")])})),1)],1)],1)],1),e._v(" "),n("v-divider",{class:e.$style.divider}),e._v(" "),n("div",{class:e.$style.fullWidth},[e.tools.length>0?e._l(e.tools,(function(t,a){return n(t.component,{key:a,tag:"component",attrs:{targetPid:e.targetPid,"tool-data":t.data},on:{remove:function(t){return e.removeTool(a)},saveData:function(t){return e.saveToolData(a,t)}},scopedSlots:e._u([{key:"default",fn:function(a){return[n("div",{class:e.$style.row},[n("span",{class:e.$style.rowAvatar},[n("svg-icon",{class:e.$style.toolIcon,attrs:{icon:t.icon}})],1),e._v(" "),n("div",{class:e.$style.rowContent},[n("span",{class:e.$style.rowContentName,attrs:{title:a.toolName}},[e._v("\n                  "+e._s(a.toolName||t.name)+"\n                ")]),e._v(" "),e._l(a.labels,(function(t){return n("span",{key:t,class:e.$style.rowContentDetails},[e._v("\n                  "+e._s(t)+": "+e._s(a.measurements[t])+"\n                ")])}))],2),e._v(" "),n("div",{class:e.$style.action},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-btn",e._g({attrs:{small:"",icon:""},on:{click:function(n){return e.jumpTo(t.data.axis,t.data.lockToSlice)}}},i),[n("v-icon",[e._v("mdi-crosshairs-gps")])],1)]}}],null,!0)},[e._v("\n                  Jump to slice\n                ")])],1),e._v(" "),n("div",{class:e.$style.action},[n("pop-up",{scopedSlots:e._u([{key:"trigger",fn:function(){return[n("v-btn",{attrs:{small:"",icon:""}},[n("v-icon",[e._v("mdi-dots-vertical")])],1)]},proxy:!0},{key:"popup",fn:function(i){var r=i.close;return[n("v-container",{class:[e.$style.container,e.$style.popup],attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:"","align-center":""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Name",placeholder:t.name,value:a.toolName},on:{input:a.setName}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("div",{staticClass:"body-1"},[e._v("Tool color")]),e._v(" "),n("v-divider",{class:e.$style.divider}),e._v(" "),n("palette-picker",{staticClass:"pt-2",attrs:{palette:e.palette,size:28,value:a.color},on:{input:a.setColor}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("div",{staticClass:"body-1"},[e._v("Text Size")]),e._v(" "),n("v-divider",{class:e.$style.divider})],1),e._v(" "),n("v-flex",{attrs:{xs9:""}},[n("v-slider",{attrs:{min:"8",max:"32",step:"1",dirty:"","hide-details":"",value:a.textSize},on:{input:a.setTextSize}})],1),e._v(" "),n("v-flex",{attrs:{xs3:""}},[n("v-text-field",{attrs:{type:"number",min:"8",max:"32",step:"1",value:a.textSize},on:{input:a.setTextSize}})],1)],1),e._v(" "),n("v-divider",{class:e.$style.divider}),e._v(" "),n("v-layout",{attrs:{"align-center":""}},[n("v-flex",{staticClass:"text-center",attrs:{xs3:""}},[n("v-btn",{attrs:{icon:""},on:{click:r}},[n("v-icon",[e._v("mdi-content-save")])],1)],1),e._v(" "),n("v-spacer"),e._v(" "),n("v-flex",{staticClass:"text-center",attrs:{xs3:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(e){a.remove(),r()}}},[n("v-icon",{attrs:{color:"red"}},[e._v("mdi-delete")])],1)],1)],1)],1)]}}],null,!0)})],1)])]}}],null,!0)})})):[n("div",{staticClass:"pt-2 body-1 teal--text text-center"},[e._v("No measurements yet")])],e._v(" "),n("v-btn",{attrs:{disabled:!e.targetProxy||!e.girderRest.user},on:{click:e.upload}},[e._v("\n          Upload\n        ")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.girderRest.user,expression:"!girderRest.user"}],staticClass:"body-2"},[e._v("Log in to upload")])],2)],1)],1)],1)};a._withStripped=!0;var i=n(545),r=n(572),o=n(76),s=n(34),l=n(77),c=n(71),u=n(55),d=n(549);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a],r=e["get".concat(i,"Props")]();e["set".concat(i,"Props")](Object.assign(r,t[i]))}}var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{name:"".concat(e,"Tool"),props:{targetPid:{required:!0},toolData:{required:!0}},data:function(){return{name:"2D ".concat(e),finalized:!1,lockToSlice:null,axis:null,widgetPid:-1,targetViewId:-1,color:u.wY[0],textSize:16,measurements:this.initialMeasurements(),measurementLabels:this.getMeasurementLabels()}},computed:v({targetProxy:function(){return this.$proxyManager.getProxyById(this.targetPid)},targetView:function(){return this.$proxyManager.getProxyById(this.targetViewId)},widgetProxy:function(){return this.$proxyManager.getProxyById(this.widgetPid)},targetRepresentation:function(){return this.$proxyManager.getRepresentation(this.targetProxy,this.targetView)},displayedMeasurements:function(){return this.getDisplayedMeasurements()}},(0,r.rn)("widgets",{distanceUnitSymbol:function(e){return e.distanceUnitSymbol},distanceUnitFactor:function(e){return e.distanceUnitFactor}})),watch:t.watch||{},proxyManagerHooks:{onProxyModified:function(e){(e&&e===this.targetRepresentation&&this.widgetProxy&&(this.finalized?this.updateWidgetVisibility():null!==this.initialSlicePlacement&&Math.round(e.getSlice())!==this.initialSlicePlacement?this.emitRemove():this.updateOrientation()),e===this.widgetProxy)&&(1===this.widgetProxy.getWidgetState().getHandleList().length&&-1===this.targetViewId&&null===this.initialSlicePlacement&&(this.targetViewId=this.mouseFocusedViewId,this.initialSlicePlacement=Math.round(this.targetRepresentation.getSlice()),this.constrainPickableViews(this.targetViewId)),!this.finalized&&this.donePlacing()&&(this.lockToSlice=this.initialSlicePlacement,this.axis=this.targetView.getAxis(),this.finalized=!0),this.updateMeasurements(),this.finalized&&this.saveData())}},created:function(){this.initialSlicePlacement=null,this.mouseFocusedViewId=-1},mounted:function(){var t=this.$proxyManager.createProxy("Widgets",e);if(this.widgetPid=t.getProxyId(),this.toolData){var n=this.toolData,a=n.name,i=n.lockToSlice,r=n.points,o=n.color,s=n.textSize,l=n.axis;this.name=a,this.lockToSlice=i,this.color=o,this.textSize=s;var c=this.$proxyManager.getViews().filter((function(e){return e.isA("vtkView2DProxy")})).find((function(e){return e.getAxis()===l}));if(!c)throw new Error("Cannot restore saved data: invalid axis");this.targetViewId=c.getProxyId();for(var u=t.getWidgetState(),p=0;p<r.length;p++){var v=u.addHandle();v.setOrigin.apply(v,(0,d.Z)(r[p]))}this.finalized=!0}this.addWidgetToViews(t),this.finalized&&(this.updateMeasurements(),this.updateWidgetVisibility())},beforeDestroy:function(){this.remove()},methods:v({addWidgetToViews:function(e){var t=this;this.targetProxy&&e.getWidget().placeWidget(this.targetProxy.getDataset().getBounds());var n=function(n,a,i){t.setupViewWidget(i),i.setVisibility(t.axis===n.getAxis()),t.setWidgetColor(i,t.color),t.setWidgetTextSize(i,t.textSize);var r=n.getInteractor().onMouseMove((function(){-1===t.targetViewId&&n.getProxyId()!==t.mouseFocusedViewId&&(t.mouseFocusedViewId=n.getProxyId(),t.updateOrientation(),i.getVisibility()||(i.setVisibility(!0),e.getAllViewWidgets().filter((function(e){return e!==i})).forEach((function(e){return e.setVisibility(!1)})),a.renderWidgets(),t.$proxyManager.renderAllViews()))}),i.getPriority()+1);return a.grabFocus(i),a.enablePicking(),[r.unsubscribe]};e.addToViews(),e.executeViewFuncs({View3D:function(e,t,n){t.removeWidget(n)},View2D_X:n,View2D_Y:n,View2D_Z:n})},updateOrientation:function(){var e=this.targetView||this.$proxyManager.getProxyById(this.mouseFocusedViewId),t=this.$proxyManager.getRepresentation(this.targetProxy,e),n=Math.round(t.getSlice()),a=e.getAxis(),i=this.widgetProxy.getWidget().getManipulator(),r=[0,0,0];r[a]=1;var o=r.map((function(e){return e*n}));i.setNormal(r),i.setOrigin(o)},toggleLock:function(){null===this.lockToSlice?this.lockToSlice=Math.round(this.targetRepresentation.getSlice()):this.lockToSlice=null,this.updateWidgetVisibility()},updateWidgetVisibility:function(){var e=this.widgetProxy.getViewWidget(this.targetView);if(e){var t=Math.round(this.targetRepresentation.getSlice());e.setVisibility(null===this.lockToSlice||this.lockToSlice===t),this.renderViewWidgets()}},remove:function(){this.widgetProxy&&(this.widgetProxy.releaseFocus(),this.widgetProxy.removeFromViews(),this.$proxyManager.deleteProxy(this.widgetProxy),this.widgetPid=-1)},setName:function(e){this.name=e,this.renderViewWidgets(),this.saveData()},setColor:function(e){var t=this;this.color=e,this.widgetProxy.getAllViewWidgets().forEach((function(n){return t.setWidgetColor(n,e)})),this.renderViewWidgets(),this.saveData()},setTextSize:function(e){var t=this;this.textSize=e,this.widgetProxy.getAllViewWidgets().forEach((function(n){return t.setWidgetTextSize(n,e)})),this.renderViewWidgets(),this.saveData()},renderViewWidgets:function(){this.$proxyManager.getViews().forEach((function(e){var t=e.getReferenceByName("widgetManager");t&&(t.renderWidgets(),e.renderLater())}))},saveData:function(){var e=this.widgetProxy.getWidgetState(),t={name:this.name,lockToSlice:this.lockToSlice,points:e.getHandleList().map((function(e){return e.getOrigin()})),color:this.color,textSize:this.textSize,axis:this.targetView.getAxis()};this.$emit("saveData",t)},emitRemove:function(){this.$emit("remove")},constrainPickableViews:function(e){var t=this;this.$proxyManager.getViews().forEach((function(n){var a=t.widgetProxy.getViewWidget(n);a&&a.setPickable(n.getProxyId()===e)}))},initialMeasurements:function(){throw new Error("initialMeasurements not implemented")},getMeasurementLabels:function(){throw new Error("getMeasurementLabels not implemented")},getDisplayedMeasurements:function(){throw new Error("getDisplayedMeasurements not implemented")},updateMeasurements:function(){throw new Error("updateMeasurements not implemented")},donePlacing:function(){throw new Error("donePlacing not implemented")},setupViewWidget:function(){throw new Error("setupViewWidget not implemented")},setWidgetColor:function(){throw new Error("setWidgetColor not implemented")},setWidgetTextSize:function(){throw new Error("setWidgetTextSize not implemented")}},t.methods||{}),template:'\n    <div>\n      <slot\n        :finalized="finalized"\n        :tool-name="name"\n        :color="color"\n        :text-size="textSize"\n        :measurements="displayedMeasurements"\n        :labels="measurementLabels"\n        :toggle-lock="toggleLock"\n        :remove="emitRemove"\n        :set-name="setName"\n        :set-color="setColor"\n        :set-text-size="setTextSize"\n      >\n      </slot>\n    </div>\n  '}};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=[{name:"2D Angle",icon:"angle-tool",component:g("Angle",{methods:{initialMeasurements:function(){return{angle:0}},getMeasurementLabels:function(){return["Angle"]},getDisplayedMeasurements:function(){return{Angle:"".concat(this.measurements.angle.toFixed(2),"")}},updateMeasurements:function(){var e=this,t=this.widgetProxy.getWidget();this.measurements.angle=180*t.getAngle()/Math.PI,this.finalized&&this.widgetProxy.getAllViewWidgets().forEach((function(t){t.setText(e.displayedMeasurements.Angle)}))},donePlacing:function(){return 3===this.widgetProxy.getWidgetState().getHandleList().length},setupViewWidget:function(e){e.setCircleProps({"stroke-width":3,fill:"transparent",r:8}),e.setLineProps({"stroke-width":2}),e.setTextProps({dx:12,dy:-12}),e.setText(""),e.setHandleVisibility(!1),e.setTextStateIndex(1)},setWidgetColor:function(e,t){f(e,{Text:{fill:t},Circle:{stroke:t},Line:{stroke:t}})},setWidgetTextSize:function(e,t){var n=t*(window.devicePixelRatio||1);f(e,{Text:{style:"font-size: ".concat(n,"px")}})}}})},{name:"2D Ruler",icon:"length-tool",component:g("Ruler",{methods:{initialMeasurements:function(){return{length:0}},getMeasurementLabels:function(){return["Length"]},getDisplayedMeasurements:function(){return{Length:"".concat((this.measurements.length*(this.distanceUnitFactor||1)).toFixed(2)," ").concat(this.distanceUnitSymbol||"")}},updateMeasurements:function(){var e=this,t=this.widgetProxy.getWidget();this.measurements.length=t.getDistance(),this.finalized&&this.widgetProxy.getAllViewWidgets().forEach((function(t){t.setText(e.displayedMeasurements.Length)}))},donePlacing:function(){return 2===this.widgetProxy.getWidgetState().getHandleList().length},setupViewWidget:function(e){e.setCircleProps({"stroke-width":3,fill:"transparent",r:8}),e.setLineProps({"stroke-width":2}),e.setTextProps({dx:12,dy:-12}),e.setText(""),e.setHandleVisibility(!1),e.setTextStateIndex(0)},setWidgetColor:function(e,t){f(e,{Text:{fill:t},Circle:{stroke:t},Line:{stroke:t}})},setWidgetTextSize:function(e,t){var n=t*(window.devicePixelRatio||1);f(e,{Text:{style:"font-size: ".concat(n,"px")}})}},watch:{distanceUnitSymbol:function(){this.widgetProxy.modified()},distanceUnitFactor:function(){this.widgetProxy.modified()}}})},{name:"2D Text",icon:"text-tool",component:g("Text",{watch:{name:function(){this.updateMeasurements()}},methods:{initialMeasurements:function(){return{}},getMeasurementLabels:function(){return[]},getDisplayedMeasurements:function(){return{}},updateMeasurements:function(){var e=this;this.widgetProxy.getAllViewWidgets().forEach((function(t){t.setText(e.name)}))},donePlacing:function(){return 1===this.widgetProxy.getWidgetState().getHandleList().length},setupViewWidget:function(e){e.setCircleProps({"stroke-width":3,fill:"transparent",r:8}),e.setTextProps({dx:12,dy:-12}),e.setText(""),e.setHandleVisibility(!1),e.setTextStateIndex(0)},setWidgetColor:function(e,t){f(e,{Text:{fill:t},Circle:{stroke:t}})},setWidgetTextSize:function(e,t){var n=t*(window.devicePixelRatio||1);f(e,{Text:{style:"font-size: ".concat(n,"px")}})}}})}],b={};h.forEach((function(e){b[e.component.name]=e}));var x={name:"MeasurementTools",props:["enabled"],components:{PopUp:o.Z,PalettePicker:s.Z,SvgIcon:c.Z,SourceSelect:l.Z},inject:["$notify","girderRest"],data:function(){return{uiToolList:h,activeToolIndex:void 0,activeToolId:-1,targetPid:-1,pendingTool:null,palette:u.wY}},computed:y(y({},(0,r.rn)("widgets",["measurements"])),{},{tools:function(){var e=[];if(this.measurements[this.targetPid]){var t=this.measurements[this.targetPid];e=e.concat(t.map((function(e){return y(y({},b[e.componentName]),{},{data:e.data})})))}return this.pendingTool&&(e=e.concat(this.pendingTool)),e},targetProxy:function(){return this.$proxyManager.getProxyById(this.targetPid)}}),watch:{enabled:function(e){e?this.enableActiveTool():this.clearActiveTool()},targetPid:function(){this.enabled&&this.clearActiveTool()}},methods:y(y({},(0,r.nv)("widgets",["addMeasurementTool","removeMeasurementTool","updateMeasurementTool"])),{},{filterImageData:function(e){return"TrivialProducer"===e.getProxyName()&&"vtkImageData"===e.getType()},setTargetDataset:function(e){this.targetPid=e},toggleActiveTool:function(e){this.enabled?void 0===e?this.$emit("enable",!1):(this.removeTool(this.activeToolIndex),this.activeToolIndex=e,this.enableActiveTool()):void 0!==e&&(this.activeToolIndex=e,this.$emit("enable",!0))},enableActiveTool:function(){-1!==this.targetPid&&void 0!==this.activeToolIndex&&(this.pendingTool=h[this.activeToolIndex])},clearActiveTool:function(){this.pendingTool=null,this.activeToolIndex=void 0,this.activeToolId=-1},removeTool:function(e){this.pendingTool&&e===this.tools.length-1?(this.pendingTool=null,this.clearActiveTool()):this.removeMeasurementTool({datasetId:this.targetPid,index:e})},jumpTo:function(e,t){var n=this;if(null!==t){var a=this.$proxyManager.getViews().find((function(t){return t.getAxis&&t.getAxis()===e}));if(a){var i=a.getRepresentations().find((function(e){return e.getInput()===n.targetProxy}));i&&i.setSlice(t)}}},saveToolData:function(e,t){this.pendingTool&&e===this.tools.length-1?(this.addMeasurementTool({datasetId:this.targetPid,componentName:this.pendingTool.component.name,data:t}),this.pendingTool=null,this.$emit("enable",!1)):this.updateMeasurementTool({datasetId:this.targetPid,index:e,data:t})},upload:function(){var e=this;this.targetProxy&&setTimeout((function(){e.$root.$emit("girder_upload_measurements",e.targetPid)}),10)}})},w={container:"MeasurementTools-container-T9yiM",fullWidth:"MeasurementTools-fullWidth-jg_o5",heading:"MeasurementTools-heading-x9G8M",popup:"MeasurementTools-popup-Rgjca",toolButton:"MeasurementTools-toolButton-AuiAl",tools:"MeasurementTools-tools-Zplkp",toolIcon:"MeasurementTools-toolIcon-_ACfO",row:"MeasurementTools-row-IsEDx",rowAvatar:"MeasurementTools-rowAvatar-AoIB_",rowContent:"MeasurementTools-rowContent-OAflc",rowContentName:"MeasurementTools-rowContentName-qZi21",rowContentDetails:"MeasurementTools-rowContentDetails-IT3d5",action:"MeasurementTools-action-pSwKW",toolIconOverlay:"MeasurementTools-toolIconOverlay-PpV_8"},P=n(550),_=n(3),S=n.n(_),k=n(580),O=n(636),C=n(584),V=n(610),I=n(617),D=n(569),T=n(588),Z=n(571),$=n(625),M=n(626),L=n(607),j=n(627);e=n.hmd(e);var R={};e.hot,e.hot;var B=(0,P.Z)(x,a,[],!1,(function(e){R.$style=w.locals||w,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return R.$style}})}),null,null);S()(B,{VBtn:k.Z,VBtnToggle:O.Z,VCard:C.Z,VContainer:V.Z,VDivider:I.Z,VFlex:D.Z,VIcon:T.Z,VLayout:Z.Z,VSlider:$.Z,VSpacer:M.Z,VTextField:L.Z,VTooltip:j.Z}),B.options.__file="src/components/tools/MeasurementTools/index.vue";var A=B.exports},149:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",{class:e.$style.container},[n("v-layout",{attrs:{wrap:"","align-center":""}},[n("v-flex",{attrs:{xs12:""}},[n("source-select",{attrs:{label:"Target volume",filterFunc:e.filterImages,bindToActiveSource:"",disabled:e.running},on:{input:e.setTargetImage}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-select",{staticStyle:{overflow:"hidden","text-overflow":"ellipses"},attrs:{label:"Select/create an output image","append-outer-icon":"mdi-dots-vertical",items:e.imageList,"item-text":"name","item-value":"proxyId",disabled:!e.targetImage||e.running,value:e.outputImageSelection},on:{input:e.setOutputImage,"click:append-outer":a.click}})]}}])},[e._v(" "),n("v-list",[e.outputImageSelection?[n("v-list-item",{on:{click:e.editOutputImageName}},[n("v-list-item-title",[e._v("Edit Name")])],1),e._v(" "),n("v-list-item",{on:{click:e.deleteOutputImage}},[n("v-list-item-title",[e._v("Delete")])],1)]:[n("v-list-item",[n("v-list-item-title",[e._v("(no image selected)")])],1)]],2)],1)],1),e._v(" "),e.editingOutputName?[n("v-flex",{attrs:{xs10:""}},[n("v-text-field",{attrs:{label:"Renaming image"},on:{keydown:function(t){if(!t.type.indexOf("key")&&13!==t.keyCode)return null;e.editingOutputName=!1}},model:{value:e.editableOutputImageName,callback:function(t){e.editableOutputImageName=t},expression:"editableOutputImageName"}})],1),e._v(" "),n("v-flex",{staticClass:"text-center",attrs:{xs2:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.editingOutputName=!1}}},[n("v-icon",[e._v("mdi-content-save")])],1)],1)]:e._e()],2)],1),e._v(" "),n("v-container",{class:e.$style.container},[n("v-layout",{attrs:{wrap:"","align-center":""}},[n("v-flex",{attrs:{xs10:""}},[n("v-slider",{attrs:{label:"Radius",min:"1",max:"20",step:"1",disabled:e.running,"hide-details":""},model:{value:e.blurRadius,callback:function(t){e.blurRadius=t},expression:"blurRadius"}})],1),e._v(" "),n("v-flex",{attrs:{xs2:""}},[n("v-text-field",{attrs:{type:"number",min:"1",max:"20",disabled:e.running,step:"1"},model:{value:e.blurRadius,callback:function(t){e.blurRadius=t},expression:"blurRadius"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-btn",{attrs:{text:"",loading:e.running,disabled:e.buttonDisabled},on:{click:e.runBlur},scopedSlots:e._u([{key:"loader",fn:function(){return[n("v-progress-circular",{attrs:{indeterminate:"",size:"24",width:"3"}}),e._v(" "),n("span",{staticClass:"ml-2"},[e._v("Running...")])]},proxy:!0}])},[n("v-icon",{attrs:{left:""}},[e._v("mdi-blur")]),e._v(" "),e._v("\n          Blur Image\n        ")],1)],1)],1)],1),e._v(" "),e.error?n("v-container",{class:e.$style.container},[n("v-layout",{attrs:{wrap:"","align-center":""}},[n("v-flex",{attrs:{xs12:""}},[n("v-alert",{attrs:{type:"error",dismissible:""},on:{input:function(t){e.error=null}}},[e._v("\n          Median filter error: "+e._s(e.error.message)+"\n        ")])],1)],1)],1):e._e(),e._v(" "),e.snackbar.show?n("portal",{attrs:{selector:"#app-portal-mount"}},[n("v-snackbar",{attrs:{top:"",color:e.snackbar.type,timeout:6e3},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v("\n      "+e._s(e.snackbar.msg)+"\n      "),n("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("close")])],1)],1):e._e()],1)};a._withStripped=!0;var i=n(474),r=n(56),o=n.n(r),s=n(8),l=n(79),c=n(360),u=n(77),d=n(28),p=s.ZP.vtkErrorMacro,v=-2,f={name:"MedianFilter",components:{SourceSelect:u.Z,Portal:c.h_},props:["enabled"],data:function(){return{targetImageId:-1,outputImageId:-1,imageList:[],blurRadius:1,running:!1,webWorker:null,error:null,editingOutputName:!1,editableOutputImageName:"",snackbar:{show:!1,type:"",msg:""}}},computed:{targetImage:function(){return this.$proxyManager.getProxyById(this.targetImageId)},outputImage:function(){return this.$proxyManager.getProxyById(this.outputImageId)},outputImageSelection:function(){return this.outputImage?{name:this.outputImage.getName(),proxyId:this.outputImageId}:null},buttonDisabled:function(){return this.running||!this.outputImage}},watch:{targetImageId:function(){this.targetImageId===this.outputImageId&&(this.outputImageId=-1),this.refreshImageList()},outputImage:function(){this.outputImage?this.editableOutputImageName=this.outputImage.getName():this.editableOutputImageName=""},editableOutputImageName:function(e){this.outputImage&&this.outputImage.setName(e)}},proxyManagerHooks:{onProxyModified:function(){this.refreshImageList()},onProxyCreated:function(){this.refreshImageList()},onProxyDeleted:function(e){var t=e.proxyId;t===this.targetImageId&&(this.targetImageId=-1),t===this.outputImageId&&(this.outputImageId=-1)}},mounted:function(){this.refreshImageList()},methods:{filterImages:function(e){return"TrivialProducer"===e.getProxyName()&&"vtkImageData"===e.getType()},setTargetImage:function(e){this.targetImageId=e},setOutputImage:function(e){if(e===v){var t=this.createOutputImageProxy();this.outputImageId=t.getProxyId()}else this.outputImageId=e;this.editingOutputName=!1},refreshImageList:function(){var e=this,t=this.$proxyManager.getSources().filter((function(t){return t.getProxyId()!==e.targetImageId})).map((function(e){return{name:e.getName(),proxyId:e.getProxyId()}}));this.imageList=[{name:"Create image",proxyId:v}].concat(t)},createOutputImageProxy:function(){return this.$proxyManager.createProxy("Sources","TrivialProducer",{name:"Median filter of ".concat(this.targetImage.getName())})},runBlur:function(){var e=this,t=l.Z.convertVtkToItkImage(this.targetImage.getDataset());t.data=t.data.slice(0),this.running=!0;var n=String(this.blurRadius);(0,i.Z)(this.webWorker,"itkfiltering",["medianfilter","input.json","output.json",n],[{path:"output.json",type:o().Image}],[{path:"input.json",type:o().Image,data:t}]).then((function(t){if(e.webWorker=t.webWorker,!e.outputImage){var n=e.createOutputImageProxy();e.outputImageId=n.getProxyId()}var a=t.outputs[0].data;a.data=new Float32Array(a.data);var i=l.Z.convertItkToVtkImage(a);e.outputImage.setInputData(i),e.targetImage.getKey("girderProvenance")&&e.outputImage.setKey("girderProvenance",e.targetImage.getKey("girderProvenance")),(0,d._3)(e.$proxyManager,e.outputImage),e.$proxyManager.renderAllViews(),e.running=!1,e.showSnack({type:"success",msg:"Median filter done!"})})).catch((function(t){p("Median filter error: ".concat(t.message)),e.error=t,e.showSnack({type:"error",msg:"Median filter error!"})}))},showSnack:function(e){var t=e.type,n=e.msg;this.snackbar.show=!0,this.snackbar.type=t,this.snackbar.msg=n},editOutputImageName:function(){this.outputImage&&(this.editingOutputName=!this.editingOutputName)},deleteOutputImage:function(){this.$proxyManager.deleteProxy(this.outputImage)}}},g={container:"MedianFilter-container-Bl5Bg"},m=n(550),y=n(3),h=n.n(y),b=n(638),x=n(580),w=n(610),P=n(569),_=n(588),S=n(571),k=n(620),O=n(614),C=n(619),V=n(611),I=n(583),D=n(613),T=n(625),Z=n(640),$=n(607);e=n.hmd(e);var M={};e.hot,e.hot;var L=(0,m.Z)(f,a,[],!1,(function(e){M.$style=g.locals||g,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return M.$style}})}),null,null);h()(L,{VAlert:b.Z,VBtn:x.Z,VContainer:w.Z,VFlex:P.Z,VIcon:_.Z,VLayout:S.Z,VList:k.Z,VListItem:O.Z,VListItemTitle:C.V9,VMenu:V.Z,VProgressCircular:I.Z,VSelect:D.Z,VSlider:T.Z,VSnackbar:Z.Z,VTextField:$.Z}),L.options.__file="src/components/tools/MedianFilter/index.vue";var j=L.exports},146:function(e,t,n){"use strict";n.d(t,{Z:function(){return Y}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-container",{class:e.$style.container},[n("v-layout",{attrs:{wrap:"","align-center":""}},[n("v-flex",{attrs:{xs12:""}},[n("source-select",{attrs:{label:"Select a Base Image",filterFunc:e.filterImageData,bindToActiveSource:"",hideIfOneDataset:""},on:{input:e.setTargetVolume}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-menu",{attrs:{"offset-x":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-select",{staticStyle:{overflow:"hidden","text-overflow":"ellipses"},attrs:{label:"Select a Labelmap","append-outer-icon":"mdi-dots-vertical",items:e.labelmaps,"item-text":"name","item-value":"sourceId",disabled:-1===e.targetImageId,value:e.labelmapSelection},on:{input:e.setLabelMap,"click:append-outer":a.click}})]}}])},[e._v(" "),n("v-list",[e.labelmapSelection?[n("v-list-item",{on:{click:e.editName}},[n("v-list-item-title",[e._v("Edit Name")])],1),e._v(" "),n("v-list-item",{on:{click:e.deleteLabelmap}},[n("v-list-item-title",[e._v("Delete")])],1)]:[n("v-list-item",[n("v-list-item-title",[e._v("(no labelmap selected)")])],1)]],2)],1)],1),e._v(" "),e.editingName?[n("v-flex",{attrs:{xs10:""}},[n("v-text-field",{attrs:{label:"Renaming labelmap"},model:{value:e.editableLabelmapName,callback:function(t){e.editableLabelmapName=t},expression:"editableLabelmapName"}})],1),e._v(" "),n("v-flex",{staticClass:"text-center",attrs:{xs2:""}},[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.editingName=!1}}},[n("v-icon",[e._v("mdi-content-save")])],1)],1)]:e._e()],2)],1),e._v(" "),n("v-card",{attrs:{color:"teal lighten-5"}},[n("v-card-text",{class:e.$style.paintActions},[n("v-switch",{class:e.$style.paintSwitch,attrs:{value:e.enabled,"hide-details":"",label:"Paint Mode",disabled:!e.canPaint},on:{change:function(t){e.$emit("enable",Boolean(t))}}}),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{staticClass:"mr-3",attrs:{icon:"",small:"",disabled:!e.canPaint},on:{click:e.undo}},[n("v-icon",[e._v("mdi-undo")])],1),e._v(" "),n("v-btn",{attrs:{icon:"",small:"",disabled:!e.canPaint},on:{click:e.redo}},[n("v-icon",[e._v("mdi-redo")])],1)],1)],1),e._v(" "),n("v-container",{class:e.$style.container,attrs:{"grid-list-md":""}},[n("v-layout",{directives:[{name:"show",rawName:"v-show",value:e.canPaint,expression:"canPaint"}],attrs:{wrap:"","align-center":""}},[n("v-flex",{staticClass:"mt-1",attrs:{xs10:""}},[n("label",{staticClass:"v-label theme--light",attrs:{for:"paint-2D-brush-toggle"}},[e._v("2D Brush")])]),e._v(" "),n("v-flex",{staticClass:"mt-1",attrs:{xs2:""}},[n("v-switch",{staticClass:"mt-n1 pt-0",attrs:{id:"paint-2D-brush-toggle","hide-details":""},model:{value:e.brush2D,callback:function(t){e.brush2D=t},expression:"brush2D"}})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-slider",{attrs:{label:"Radius",min:"1",max:e.brushSizeMax,step:"1",dirty:"","hide-details":"",value:e.radius},on:{input:e.setRadius},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-n1 pt-0",attrs:{type:"number",min:"1",max:e.brushSizeMax,step:"1","hide-details":"","single-line":"",value:e.radius},on:{input:e.setRadius}})]},proxy:!0}])})],1),e._v(" "),n("v-flex",{attrs:{xs12:""}},[n("v-list",{class:e.$style.fullWidth},[n("v-subheader",{class:e.$style.headerRow},[n("span",{staticClass:"black--text subtitle-1 body-2"},[e._v("Labels")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{class:e.$style.lowercaseText,attrs:{text:""},on:{click:e.addLabel}},[n("v-icon",{attrs:{small:"",color:"blue"}},[e._v("mdi-plus-circle")]),e._v(" "),n("span",{staticClass:"pl-2 grey--text text--darken-2"},[e._v("Add Label")])],1)],1),e._v(" "),n("v-radio-group",{class:e.$style.radioGroup,attrs:{value:e.activeLabel},on:{change:e.setLabel}},[e._l(e.colormapArray,(function(t,a){return[n("v-divider",{key:"divider_"+a}),e._v(" "),n("v-list-item",{key:t.label},[n("v-list-item-action",[n("v-radio",{class:e.$style.activeRadio,attrs:{value:t.label}})],1),e._v(" "),n("v-list-item-content",{class:e.$style.listRow},[0===t.label?[n("div",{class:e.$style.colorBoxBackground},[n("div",{class:e.$style.colorBox,style:e.colorToBackgroundCSS(e.colormapArray,0)})]),e._v(" "),n("span",{staticClass:"pl-1"},[e._v("Eraser")])]:[n("pop-up",{staticClass:"flex-grow-0 flex-shrink-1",scopedSlots:e._u([{key:"trigger",fn:function(){return[n("div",{class:e.$style.colorBoxBackground},[n("div",{class:e.$style.colorBox,style:e.colorToBackgroundCSS(e.colormapArray,a)})])]},proxy:!0},{key:"popup",fn:function(){return[n("div",{class:e.$style.colorPicker},[n("palette-picker",{attrs:{palette:e.palette,size:28,value:e.asHex(t.color)},on:{input:function(n){return e.setLabelColor(t.label,arguments[0])}}}),e._v(" "),n("div",{class:e.$style.opacitySlider},[n("v-slider",{attrs:{label:"Opacity",value:t.opacity,min:0,max:255,step:1},on:{input:function(n){return e.setLabelOpacity(t.label,arguments[0])}}})],1)],1)]},proxy:!0}],null,!0)}),e._v(" "),n("span",{staticClass:"pl-1"},[e._v("Label "+e._s(t.label))])]],2),e._v(" "),n("v-list-item-action",[0!==t.label?n("v-btn",{class:e.$style.deleteButton,attrs:{icon:""},on:{click:function(n){return e.deleteLabel(t.label)}}},[n("v-icon",[e._v("mdi-delete")])],1):e._e()],1)],1)]})),e._v(" "),n("v-divider")],2)],1)],1),e._v(" "),n("v-btn",{attrs:{disabled:!e.girderRest.user},on:{click:function(t){return e.upload()}}},[e._v("\n        Upload\n      ")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.girderRest.user,expression:"!girderRest.user"}],staticClass:"body-2"},[e._v("Log in to upload")])],1)],1)],1)};a._withStripped=!0;var i=n(549),r=n(545),o=n(572),s=n(4),l=n(473),c=n(68),u=n(359),d=n(34),p=n(76),v=n(77),f=n(28),g=n(55);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h="PaintToolSync",b=-2;function x(e){for(var t=e.slice(1),n=[],a=0;a<t.length;a+=2)n.push(Number.parseInt(t.slice(a,a+2),16));return n}var w={name:"PaintTool",inject:["girderRest"],components:{PalettePicker:d.Z,PopUp:p.Z,SourceSelect:v.Z},props:["enabled"],data:function(){return{targetImageId:-1,activeLabelmapId:-1,internalLabelmaps:[],widgetId:-1,editingName:!1,editableLabelmapName:"",brushSizeMax:100,radius:5,brush2D:!1,colormapArray:[]}},computed:y(y({},(0,o.rn)("widgets",{imageToLabelmaps:function(e){return e.imageToLabelmaps},labelmapStates:function(e){return e.labelmapStates}})),{},{labelmaps:function(){return[{name:"Create new labelmap",sourceId:b}].concat(this.internalLabelmaps)},activeLabel:function(){return this.activeLabelmapState?this.activeLabelmapState.selectedLabel:-1},activeLabelmapProxy:function(){return this.$proxyManager.getProxyById(this.activeLabelmapId)},activeLabelmapState:function(){return this.labelmapStates[this.activeLabelmapId]},targetImageProxy:function(){return this.$proxyManager.getProxyById(this.targetImageId)},labelmapSelection:function(){return this.activeLabelmapProxy?{name:this.editableLabelmapName||this.activeLabelmapProxy.getName(),sourceId:this.activeLabelmapProxy.getProxyId()}:null},canPaint:function(){return this.targetImageId>-1&&this.activeLabelmapId>-1},paintProxy:function(){return this.$proxyManager.getProxyById(this.widgetId)}}),watch:{editableLabelmapName:function(e){this.activeLabelmapProxy&&this.activeLabelmapProxy.setName(e)},activeLabel:function(e){this.filter&&this.filter.setLabel(e)},radius:function(e){this.filter&&this.filter.setRadius(e),this.paintProxy&&this.paintProxy.getWidget().setRadius(e)},enabled:function(e){e?this.enablePainting():this.disablePainting()},activeLabelmapProxy:function(){if(this.activeLabelmapProxy){this.editableLabelmapName=this.activeLabelmapProxy.getName();var e=this.activeLabelmapProxy.getDataset().getDimensions();this.brushSizeMax=Math.floor(Math.max.apply(Math,(0,i.Z)(e))/2);var t=this.activeLabelmapProxy.getDataset();this.labelmapSub.sub(t.onModified(this.updateColorMap)),this.updateColorMap()}else this.labelmapSub.unsub();this.editingName=!1}},proxyManagerHooks:{onProxyModified:function(e){if(this.enabled&&"Representations"===e.getProxyGroup()&&e.getInput()===this.activeLabelmapProxy&&this.mousedViewId>-1){var t=this.$proxyManager.getProxyById(this.mousedViewId);this.updateHandleSlice(t)}if("Sources"===e.getProxyGroup()&&"LabelMap"===e.getProxyName()){var n=this.internalLabelmaps.find((function(t){return t.sourceId===e.getProxyId()}));n&&(n.name=e.getName())}},onProxyCreated:function(e){var t=e.proxy,n=e.proxyGroup,a=e.proxyName,i=e.proxyId;"Sources"===n&&"LabelMap"===a&&this.internalLabelmaps.push({name:t.getName(),sourceId:i})},onProxyDeleted:function(e){var t=e.proxyGroup,n=e.proxyName,a=e.proxyId;if("Sources"===t&&"LabelMap"===n){var i=this.internalLabelmaps.findIndex((function(e){return e.sourceId===a}));i>-1&&this.internalLabelmaps.splice(i,1)}a===this.activeLabelmapId?(this.activeLabelmapId=-1,this.$emit("enable",!1)):a===this.targetImageId&&(this.targetImageId=-1,this.$emit("enable",!1))}},created:function(){this.palette=g.oe,this.mousedViewId=-1,this.filter=null,this.labelmapSub=(0,f.y5)(),this.internalLabelmaps=this.$proxyManager.getSources().filter((function(e){return"LabelMap"===e.getProxyName()})).map((function(e){return{name:e.getName(),sourceId:e.getProxyId()}}))},beforeDestroy:function(){this.enabled&&this.disablePainting(),this.labelmapSub.unsub()},methods:y(y({},(0,o.nv)({addLabelmapToImage:function(e,t,n){return e("widgets/addLabelmapToImage",{imageId:n,labelmapId:t})},setLabelmapState:function(e,t,n){return e("widgets/setLabelmapState",{labelmapId:t,labelmapState:n})}})),{},{setRadius:function(e){this.radius=Math.max(1,Math.round(e))},setLabel:function(e){var t=this.activeLabelmapState;t&&(t.selectedLabel=Number(e))},editName:function(){this.labelmapSelection&&(this.editingName=!this.editingName)},deleteLabelmap:function(){this.$proxyManager.deleteProxy(this.activeLabelmapProxy)},filterImageData:function(e){return"TrivialProducer"===e.getProxyName()&&"vtkImageData"===e.getType()},asHex:function(e){return"#".concat(e.map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""))},setTargetVolume:function(e){this.targetImageId=e,this.$emit("enable",!1)},setLabelMap:function(e){var t=this;if(this.filter=l.ZP.newInstance(),e===b){var n=this.targetImageProxy.getDataset();this.filter.setBackgroundImage(n);var a=this.$proxyManager.createProxy("Sources","LabelMap"),i=a.getProxyId();this.activeLabelmapId=i,this.addLabelmapToImage(i,this.targetImageId);var r=this.imageToLabelmaps[this.targetImageId].length,o={selectedLabel:1,lastColorIndex:0};this.setLabelmapState(i,o);var c=this.targetImageProxy.getName();a.setName("Labelmap ".concat(r," ").concat(c)),this.targetImageProxy.getKey("girderProvenance")&&a.setKey("girderProvenance",this.targetImageProxy.getKey("girderProvenance"));var d=function(e){var t=u.ZP.newInstance(e.get("spacing","origin","direction"));t.setDimensions(e.getDimensions());var n=new Uint16Array(e.getNumberOfPoints()),a=s.ZP.newInstance({numberOfComponents:1,values:n});return t.getPointData().setScalars(a),t.computeTransforms(),t}(n);d.setLabelColor(o.selectedLabel,x(this.palette[0])),a.setInputData(d),this.filter.setLabelMap(d),(0,f._3)(this.$proxyManager,a),this.$proxyManager.renderAllViews()}else{var p=this.$proxyManager.getProxyById(e);p&&(this.activeLabelmapId=p.getProxyId(),this.filter.setLabelMap(p.getDataset()))}this.filter.setLabel(this.activeLabelmapState.selectedLabel),this.filter.setRadius(this.radius),this.$proxyManager.getViews().forEach((function(e){var n=t.targetImageProxy,a=t.$proxyManager.getRepresentation(n,e);e.bindRepresentationToManipulator&&a&&e.bindRepresentationToManipulator(a)}))},updateColorMap:function(){var e=this.activeLabelmapProxy;if(e){var t=e.getDataset().getColorMap();this.colormapArray=Object.keys(t).sort((function(e,t){return e-t})).map((function(e){return{label:Number(e),color:t[e].slice(0,3),opacity:t[e][3]}}))}},setLabelColor:function(e,t){var n=this.activeLabelmapProxy.getDataset(),a=n.getColorMap()[e],r=x(t);3===r.length&&(n.setLabelColor(e,[].concat((0,i.Z)(r),[a[3]])),this.$proxyManager.renderAllViews())},setLabelOpacity:function(e,t){var n=this.activeLabelmapProxy.getDataset(),a=n.getColorMap()[e].slice();t&&(a[3]=Number(t),n.setLabelColor(e,a)),this.$proxyManager.renderAllViews()},addLabel:function(){for(var e=this.colormapArray.map((function(e){return e.label})),t=0;e.length;){var n=e.shift();if(n-t>1){t++;break}if(0===e.length){t=n+1;break}t=n}var a=this.activeLabelmapState,i=(a.lastColorIndex+1)%this.palette.length,r=x(this.palette[i]);this.activeLabelmapProxy.getDataset().setLabelColor(t,r),a.lastColorIndex=i,this.setLabel(t)},deleteLabel:function(e){var t=this.activeLabelmapProxy.getDataset();t.removeLabel(e);for(var n=t.getPointData().getScalars().getData(),a=0;a<n.length;a++)n[a]===e&&(n[a]=0);this.setLabel(0),this.$proxyManager.renderAllViews()},undo:function(){this.filter.undo(),this.$proxyManager.renderAllViews()},redo:function(){this.filter.redo(),this.$proxyManager.renderAllViews()},colorToBackgroundCSS:function(e,t){var n=e[t],a=n.color,r=n.opacity,o=[].concat((0,i.Z)(a),[r/255]);return{backgroundColor:"rgba(".concat(o.join(","),")")}},updateHandleSlice:function(e){var t=[0,0,0],n=this.paintProxy.getWidget().getManipulator(),a=this.$proxyManager.getRepresentation(this.targetImageProxy,e);t[e.getAxis()]=a.getSlice(),n.setOrigin(t)},enablePainting:function(){var e=this,t=this.$proxyManager.createProxy("Widgets","Paint");t.getWidget().setRadius(this.radius),t.getWidget().placeWidget(this.activeLabelmapProxy.getDataset().getBounds()),this.widgetId=t.getProxyId(),this.mousedViewId=-1;var n=function(t,n,a){t.getInteractor().requestAnimation(h),n.grabFocus(a);var i=a.getPriority()+1,r=t.getInteractor().onMouseMove((function(){e.mousedViewId!==t.getProxyId()&&(e.mousedViewId=t.getProxyId(),e.updateHandleSlice(t))}),i),o=a.onStartInteractionEvent((function(){e.brush2D?e.filter.setSlicingMode(c.P["XYZ"[t.getAxis()]]):e.filter.setSlicingMode(c.P.NONE),e.filter.startStroke(),e.filter.addPoint(e.paintProxy.getWidgetState().getTrueOrigin())})),s=a.onInteractionEvent((function(){a.getPainting()&&e.filter.addPoint(e.paintProxy.getWidgetState().getTrueOrigin())})),l=a.onEndInteractionEvent((function(){e.filter.addPoint(e.paintProxy.getWidgetState().getTrueOrigin()),e.filter.endStroke()}));return[function(){return t.getInteractor().cancelAnimation(h)},r.unsubscribe,o.unsubscribe,s.unsubscribe,l.unsubscribe]};t.addToViews(),t.executeViewFuncs({View3D:function(e){return e.getInteractor().requestAnimation(h),function(){e.getInteractor().cancelAnimation(h)}},View2D_X:n,View2D_Y:n,View2D_Z:n})},disablePainting:function(){this.paintProxy.removeFromViews(),this.$proxyManager.deleteProxy(this.paintProxy),this.widgetId=-1},upload:function(){var e=this;this.activeLabelmapProxy&&setTimeout((function(){e.$root.$emit("girder_upload_proxy",e.activeLabelmapId)}),10)}})},P={container:"PaintTool-container-K_01H",fullWidth:"PaintTool-fullWidth-ygvJa",labelInput:"PaintTool-labelInput-CX7Np",paintActions:"PaintTool-paintActions-NWnXC",paintSwitch:"PaintTool-paintSwitch-CEy8P",radioGroup:"PaintTool-radioGroup-oAs8K",headerRow:"PaintTool-headerRow-SXk6M",listRow:"PaintTool-listRow-QOnht",lowercaseText:"PaintTool-lowercaseText-Cncdr",colorBoxBackground:"PaintTool-colorBoxBackground-uCP_B",colorBox:"PaintTool-colorBox-MGe3f",colorPicker:"PaintTool-colorPicker-LSW1f",opacitySlider:"PaintTool-opacitySlider-_m6x7",activeRadio:"PaintTool-activeRadio-BOPEG"},_=n(550),S=n(3),k=n.n(S),O=n(580),C=n(584),V=n(568),I=n(610),D=n(617),T=n(569),Z=n(588),$=n(571),M=n(620),L=n(614),j=n(615),R=n(619),B=n(611),A=n(632),F=n(633),E=n(613),N=n(625),G=n(626),W=n(618),U=n(634),z=n(607);e=n.hmd(e);var H={};e.hot,e.hot;var K=(0,_.Z)(w,a,[],!1,(function(e){H.$style=P.locals||P,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return H.$style}})}),null,null);k()(K,{VBtn:O.Z,VCard:C.Z,VCardText:V.ZB,VContainer:I.Z,VDivider:D.Z,VFlex:T.Z,VIcon:Z.Z,VLayout:$.Z,VList:M.Z,VListItem:L.Z,VListItemAction:j.Z,VListItemContent:R.km,VListItemTitle:R.V9,VMenu:B.Z,VRadio:A.Z,VRadioGroup:F.Z,VSelect:E.Z,VSlider:N.Z,VSpacer:G.Z,VSubheader:W.Z,VSwitch:U.Z,VTextField:z.Z}),K.options.__file="src/components/tools/PaintTool/index.vue";var Y=K.exports},153:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.wrapper},[n("v-btn",{attrs:{text:"",disabled:e.playing||e.isOnFirstFrame,small:""},on:{click:e.firstFrame}},[n("v-icon",[e._v("\n      mdi-chevron-double-left\n    ")])],1),e._v(" "),n("v-btn",{attrs:{text:"",disabled:e.playing||e.isOnFirstFrame,small:""},on:{click:e.previousFrame}},[n("v-icon",[e._v("\n      mdi-chevron-left\n    ")])],1),e._v(" "),e.playing?n("v-btn",{attrs:{text:"",small:""},on:{click:e.pause}},[n("v-icon",[e._v("\n      mdi-pause\n    ")])],1):n("v-btn",{attrs:{text:"",small:"",disabled:e.isOnLastFrame},on:{click:e.play}},[n("v-icon",[e._v("\n      mdi-play\n    ")])],1),e._v(" "),n("v-btn",{attrs:{text:"",disabled:e.playing||e.isOnLastFrame,small:""},on:{click:e.nextFrame}},[n("v-icon",[e._v("\n      mdi-chevron-right\n    ")])],1),e._v(" "),n("v-btn",{attrs:{text:"",disabled:e.playing||e.isOnLastFrame,small:""},on:{click:e.lastFrame}},[n("v-icon",[e._v("\n      mdi-chevron-double-right\n    ")])],1),e._v(" "),n("v-select",{staticClass:"pv-no-select",attrs:{disabled:e.playing,items:e.frames,value:e.currentFrame,dense:"",flat:"","hide-details":""},on:{change:e.setCurrentFrame}})],1)};a._withStripped=!0;var i=n(545),r=n(572);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={name:"AnimationControls",computed:s(s({},(0,r.rn)("animations",{playing:function(e){return e.playing},currentFrame:function(e){return e.currentFrame},frames:function(e){return e.frames}})),{},{isOnFirstFrame:function(){return this.frames.length>0&&this.currentFrame===this.frames[0]},isOnLastFrame:function(){return this.frames.length>0&&this.currentFrame===this.frames[this.frames.length-1]}}),methods:s({setCurrentFrame:function(e){this.setFrameIndex(this.frames.indexOf(e))}},(0,r.nv)("animations",["play","pause","nextFrame","previousFrame","firstFrame","lastFrame","setFrameIndex"]))},c={wrapper:"AnimationControls-wrapper-LJEUM"},u=n(550),d=n(3),p=n.n(d),v=n(580),f=n(588),g=n(613);e=n.hmd(e);var m={};e.hot,e.hot;var y=(0,u.Z)(l,a,[],!1,(function(e){m.$style=c.locals||c,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return m.$style}})}),null,null);p()(y,{VBtn:v.Z,VIcon:f.Z,VSelect:g.Z}),y.options.__file="src/components/widgets/AnimationControls/index.vue";var h=y.exports},144:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.$style.container,style:e.style})};a._withStripped=!0;var i={name:"ColorGroup",props:{index:{type:Number,default:0},top:{type:Number,default:0},visible:{type:Boolean,default:!0},colors:{this:Array,default:function(){return["#e1002a","#417dc0","#1d9a57","#e9bc2f","#9b3880"]}}},computed:{style:function(){return this.visible?{background:this.colors[this.index%this.colors.length],top:"".concat(this.top,"px")}:"display: none;"}}},r={container:"ColorGroup-container-xP4_7"},o=n(550);e=n.hmd(e);var s={};e.hot,e.hot;var l=(0,o.Z)(i,a,[],!1,(function(e){s.$style=r.locals||r,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return s.$style}})}),null,null);l.options.__file="src/components/widgets/ColorGroup/index.vue";var c=l.exports},156:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{on:{dragover:function(t){return t.preventDefault(),e.onDragOver.apply(null,arguments)},dragleave:e.onDragLeave,drop:function(t){return t.preventDefault(),e.onDrop.apply(null,arguments)}}},[e._t("default",null,{dragHover:e.dragHover})],2)};a._withStripped=!0;var i={name:"DragAndDrop",props:{enabled:Boolean},data:function(){return{dragHover:!1}},methods:{onDragOver:function(e){if(this.enabled){var t=e.dataTransfer.types;(t&&t instanceof Array?-1!==t.indexOf("Files"):"Files"in t)&&(this.dragHover=!0,null!==this.dragTimeout&&(window.clearTimeout(this.dragTimeout),this.dragTimeout=null))}},onDragLeave:function(){var e=this;this.enabled&&(this.dragTimeout=window.setTimeout((function(){e.dragHover=!1,e.dragTimeout=null}),50))},onDrop:function(e){this.enabled&&(this.$emit("drop",Array.from(e.dataTransfer.files)),this.dragHover=!1)}},created:function(){this.dragTimeout=null}},r=(0,n(550).Z)(i,a,[],!1,null,null,null);r.options.__file="src/components/widgets/DragAndDrop/index.vue";var o=r.exports},154:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{class:e.$style.card,attrs:{flat:""}},[n("v-container",{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[n("v-layout",{attrs:{row:"","align-center":""}},[n("span",{staticClass:"subtitle-2"},[e._v("Rendering")]),e._v(" "),n("v-spacer"),e._v(" "),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-icon",e._g({attrs:{small:""}},a),[e._v("mdi-help-circle")])]}}])},[n("table",{class:e.$style.table},[n("tr",[n("td",{staticClass:"body-2"},[e._v("WebGL")]),e._v(" "),n("td",{staticClass:"body-1"},[e._v(e._s(e.webgl))])]),e._v(" "),n("tr",[n("td",{staticClass:"body-2"},[e._v("Vendor")]),e._v(" "),n("td",{staticClass:"body-1"},[e._v(e._s(e.vendor))])]),e._v(" "),n("tr",[n("td",{staticClass:"body-2"},[e._v("GPU")]),e._v(" "),n("td",{staticClass:"body-1"},[e._v(e._s(e.gpu))])])])])],1)],1),e._v(" "),n("v-divider",{class:e.$style.divider}),e._v(" "),n("div",{class:["js-monitor",e.$style.monitor]})],1)};a._withStripped=!0;var i=n(477);var r={props:{width:{default:268,type:Number},proxyManager:{required:!0}},data:function(){return{vendor:"Unknown",gpu:"Unknown",webgl:0,infoDialog:!1}},methods:{onMounted:function(){var e=this;this.monitor=i.ZP.newInstance({bufferSize:this.width}),this.updateActiveView=function(){var t=e.proxyManager.getActiveView(),n=t?t.getRenderWindow():null;if(t){var a=t.getOpenglRenderWindow().getGLInformations(),i=a.UNMASKED_RENDERER,r=a.UNMASKED_VENDOR,o=a.WEBGL_VERSION;e.vendor=r.value,e.gpu=i.value,e.webgl=o.value}e.monitor.setRenderWindow(n),e.monitor.update()},window.addEventListener("resize",this.monitor.update),this.subscriptions=[this.proxyManager.onModified(this.monitor.update).unsubscribe,this.proxyManager.onActiveViewChange(this.updateActiveView).unsubscribe,function(){return window.removeEventListener("resize",e.monitor.update)}],this.monitor.setContainer(this.$el.querySelector(".js-monitor")),this.monitor.getFpsMonitorContainer().style.flexDirection="column",this.updateActiveView()}},mounted:function(){this.$nextTick(this.onMounted)},beforeDestroy:function(){for(this.monitor&&(this.monitor.delete(),this.monitor=null);this.subscriptions.length;)this.subscriptions.pop()()}},o={card:"GPUInformation-card-uYItl",heading:"GPUInformation-heading-_XHR1",divider:"GPUInformation-divider-JhBB2",monitor:"GPUInformation-monitor-Fu0yC",table:"GPUInformation-table-BU0Qk"},s=n(550),l=n(3),c=n.n(l),u=n(584),d=n(610),p=n(617),v=n(588),f=n(571),g=n(626),m=n(627);e=n.hmd(e);var y={};e.hot,e.hot;var h=(0,s.Z)(r,a,[],!1,(function(e){y.$style=o.locals||o,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return y.$style}})}),null,null);c()(h,{VCard:u.Z,VContainer:d.Z,VDivider:p.Z,VIcon:v.Z,VLayout:f.Z,VSpacer:g.Z,VTooltip:m.Z}),h.options.__file="src/components/widgets/GPUInformation/index.vue";var b=h.exports},34:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.wrapper},e._l(e.palette,(function(t){return n("div",{key:t,class:e.$style.item},[n("div",{class:e.$style.blot,style:e.getStyles(t),on:{click:function(n){return e.$emit("input",t)}}},[t.toLowerCase()===e.selectedColor?n("v-icon",{class:e.$style.check,attrs:{size:e.size}},[e._v("\n        mdi-check\n      ")]):e._e()],1)])})),0)};a._withStripped=!0;var i={name:"PalettePicker",props:{palette:{type:Array,default:function(){return[]}},size:{type:Number,default:24},value:{type:String,default:""}},computed:{selectedColor:function(){return this.value.toLowerCase()}},methods:{getStyles:function(e){return{width:"".concat(this.size,"px"),height:"".concat(this.size,"px"),background:e}}}},r={wrapper:"PalettePicker-wrapper-Cz9zR",item:"PalettePicker-item-q0Hig",check:"PalettePicker-check-m60ux",blot:"PalettePicker-blot-JTooX"},o=n(550),s=n(3),l=n.n(s),c=n(588);e=n.hmd(e);var u={};e.hot,e.hot;var d=(0,o.Z)(i,a,[],!1,(function(e){u.$style=r.locals||r,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);l()(d,{VIcon:c.Z}),d.options.__file="src/components/widgets/PalettePicker/index.vue";var p=d.exports},131:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.$style.container})};a._withStripped=!0;var i=n(549),r=n(350),o=null;var s={props:{source:{type:Object},piecewiseFunction:{required:!0,type:Object},proxyManager:{required:!0}},data:function(){return{}},methods:{onOpacityChange:function(){if(!o){o=this.piecewiseWidget;var e=this.piecewiseFunction;if(e){var t;e.setGaussians(this.piecewiseWidget.getGaussians());var n=this.piecewiseWidget.getOpacityRange();(t=e.getLookupTableProxy()).setDataRange.apply(t,(0,i.Z)(n))}o=null}},updateWidget:function(){var e=this,t=this.piecewiseFunction;if(t){var n=t.getLookupTableProxy().getLookupTable();this.piecewiseWidget.setGaussians(t.getGaussians()),this.source?this.piecewiseWidget.setDataArray(this.source.getDataset().getPointData().getScalars().getData()):this.piecewiseWidget.setDataArray(Float32Array.from(t.getDataRange())),this.piecewiseWidget.setColorTransferFunction(n),this.subscriptions.push(n.onModified((function(){var n;if(!o){o=e.piecewiseWidget;var a=e.piecewiseWidget.getOpacityRange();(n=t.getLookupTableProxy()).setDataRange.apply(n,(0,i.Z)(a)),e.piecewiseWidget.render(),o=null}}))),this.piecewiseWidget.render()}},onMounted:function(){var e=this;this.piecewiseWidget=r.ZP.newInstance({numberOfBins:256,size:[280,150]}),this.piecewiseWidget.updateStyle({backgroundColor:"rgba(255, 255, 255, 0.6)",histogramColor:"rgba(100, 100, 100, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(255, 255, 255)",handleColor:"rgb(50, 150, 50)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:0,padding:10}),this.subscriptions=[],this.widgetSubscriptions=[this.piecewiseWidget.onOpacityChange((function(){e.onOpacityChange()})),this.piecewiseWidget.onAnimation((function(t){e.piecewiseFunction&&e.proxyManager.setAnimationOnAllViews(t)}))],this.piecewiseWidget.setContainer(this.$el),this.piecewiseWidget.bindMouseListeners(),this.updateWidget(),this.onOpacityChange()}},mounted:function(){this.$nextTick(this.onMounted)},beforeDestroy:function(){for(;this.widgetSubscriptions.length;)this.widgetSubscriptions.pop().unsubscribe();for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.piecewiseWidget.unbindMouseListeners(),this.piecewiseWidget.setContainer(null)},updated:function(){for(;this.subscriptions.length;)this.subscriptions.pop().unsubscribe();this.updateWidget()}},l={container:"PiecewiseFunctionEditor-container-_jIUo"},c=n(550);e=n.hmd(e);var u={};e.hot,e.hot;var d=(0,c.Z)(s,a,[],!1,(function(e){u.$style=l.locals||l,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/components/widgets/PiecewiseFunctionEditor/index.vue";var p=d.exports},76:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"container",class:e.$style.container},[n("div",{on:{click:function(t){e.visible=!e.visible}}},[e._t("trigger"),e._v(" "),n("div",{ref:"anchor",staticStyle:{width:"0",height:"0",margin:"0",padding:"0"}})],2),e._v(" "),e.visible?n("portal",{attrs:{selector:"#app-portal-mount"}},[n("div",{ref:"popup",class:e.$style.popup,style:e.getPositioning()},[e._t("popup",null,{close:e.close})],2)]):e._e()],1)};a._withStripped=!0;var i={name:"PopUp",components:{Portal:n(360).h_},data:function(){return{visible:!1}},mounted:function(){document.addEventListener("mousedown",this.handleMouse,!0),document.addEventListener("keydown",this.handleEsc)},beforeDestroy:function(){document.removeEventListener("mousedown",this.handleMouse,!0),document.removeEventListener("keydown",this.handleEsc)},methods:{handleMouse:function(e){if(this.visible){for(var t=e.target;t&&t!==this.$refs.container&&t!==this.$refs.popup;)t=t.parentElement;null===t&&(this.visible=!1)}},handleEsc:function(e){this.visible&&27===e.keyCode&&this.close()},getPositioning:function(){var e=this.$refs.anchor.getBoundingClientRect(),t=e.top,n=e.left,a=window.innerHeight;return t>a/2?{bottom:"".concat(a-t,"px"),left:"".concat(n,"px")}:{top:"".concat(t,"px"),left:"".concat(n,"px")}},close:function(){this.visible=!1}}},r={container:"PopUp-container-MOF8K",popup:"PopUp-popup-P9jw2"},o=n(550);e=n.hmd(e);var s={};e.hot,e.hot;var l=(0,o.Z)(i,a,[],!1,(function(e){s.$style=r.locals||r,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return s.$style}})}),null,null);l.options.__file="src/components/widgets/PopUp/index.vue";var c=l.exports},77:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-select",{directives:[{name:"show",rawName:"v-show",value:!e.shouldHide,expression:"!shouldHide"}],attrs:{label:e.label,items:e.sourceList,"item-text":"name","item-value":"proxyId",disabled:e.disabled,value:e.selection},on:{input:e.setInternalValue}})};a._withStripped=!0;function i(e){return{name:e.getName(),proxyId:e.getProxyId()}}var r={name:"SourceSelect",props:{filterFunc:{type:Function,default:function(){return function(){return!0}}},label:{type:String,default:function(){return""}},bindToActiveSource:{type:Boolean,default:function(){return!1}},hideIfOneDataset:{type:Boolean,default:function(){return!1}},value:{default:function(){return-1}},disabled:{type:Boolean,default:function(){return!1}}},data:function(){return{sourceList:[],internalValue:-1}},computed:{selection:function(){var e=this.$proxyManager.getProxyById(this.internalValue);return e&&"Sources"===e.getProxyGroup()?i(e):null},shouldHide:function(){return this.hideIfOneDataset&&this.sourceList.length<=1}},watch:{value:function(e){this.internalValue=e}},mounted:function(){var e=this.$proxyManager.getActiveSource();e&&this.setInternalValue(e.getProxyId()),this.updateSourceList()},proxyManagerHooks:{onProxyModified:function(e){e.getProxyId()===this.waitForActiveDataset&&(this.waitForActiveDataset=null,this.setInternalValue(e.getProxyId())),this.updateSourceList()},onActiveSourceChange:function(e){if(this.bindToActiveSource)if(e){if(e.getProxyId()!==this.internalValue){var t=e.getProxyId();e.getDataset()?this.setInternalValue(t):this.waitForActiveDataset=t}}else this.setInternalValue(-1)},onProxyRegistrationChange:function(e){"Sources"===e.proxyGroup&&this.updateSourceList()}},methods:{updateSourceList:function(){var e=this,t=this.$proxyManager.getSources().filter((function(t){return t&&!!t.getDataset()&&e.filterFunc(t)}));this.sourceList=t.map((function(e){return i(e)}))},setInternalValue:function(e){e!==this.internalValue&&(this.internalValue=e,this.$emit("input",e))}}},o=n(550),s=n(3),l=n.n(s),c=n(613),u=(0,o.Z)(r,a,[],!1,null,null,null);l()(u,{VSelect:c.Z}),u.options.__file="src/components/widgets/SourceSelect/index.vue";var d=u.exports},71:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.svg?n("img",{staticClass:"pv-no-select",attrs:{src:e.svg}}):e._e()};a._withStripped=!0;var i={name:"SvgIcon",props:{icon:String},data:function(){return{svg:null}},watch:{icon:function(e){this.icon&&this.importIcon(e)}},mounted:function(){this.icon&&this.importIcon(this.icon)},methods:{importIcon:function(e){var t=this;return n(463)("./".concat(e,".svg")).then((function(e){t.svg=e.default||e})).catch((function(e){throw t.svg=null,e}))}}},r=(0,n(550).Z)(i,a,[],!1,null,null,null);r.options.__file="src/components/widgets/SvgIcon/index.vue";var o=r.exports},133:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=function(){var e,t=this,n=t.$createElement,a=t._self._c||n;return a("li",{class:t.$style.node},[a("div",{class:t.$style.header,on:{click:t.onItemClick}},[t.item[t.childrenKey]?a("div",{class:t.$style.expander},[a("v-icon",{class:(e={},e[t.$style.arrow]=!0,e[t.$style.openArrow]=t.open||t.value,e)},[t._v("\n        mdi-menu-down\n      ")])],1):t._e(),t._v(" "),a("span",{staticClass:"body-2",class:t.$style.name},[t._v(t._s(t.item[t.labelKey]))])]),t._v(" "),t.item[t.childrenKey]?a("ul",{directives:[{name:"show",rawName:"v-show",value:t.open||t.value,expression:"open || value"}]},t._l(t.item[t.childrenKey],(function(e,n){return a("node",t._b({key:n,attrs:{item:e},on:{input:function(e){return t.$emit("input",e)}}},"node",{open:t.open,labelKey:t.labelKey,childrenKey:t.childrenKey},!1))})),1):t._e()])};a._withStripped=!0;var i={name:"Node",props:{item:{},open:{type:Boolean,default:!1},labelKey:{type:String,default:function(){return"name"}},childrenKey:{type:String,default:function(){return"children"}}},data:function(){return{value:!1}},methods:{onItemClick:function(){this.item[this.childrenKey]?this.value=!this.value:this.$emit("input",this.item)}}},r=n(358),o=n(550),s=n(3),l=n.n(s),c=n(588);e=n.hmd(e);var u={};e.hot,e.hot;var d=(0,o.Z)(i,a,[],!1,(function(e){u.$style=r.Z.locals||r.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);l()(d,{VIcon:c.Z}),d.options.__file="src/components/widgets/TreeView/Node/index.vue";var p=d.exports},132:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.$style.wrapper},[n("v-text-field",{ref:"filterInput",attrs:{placeholder:"Filter...",clearable:"","hide-details":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.trySelect(e.filteredTree)}},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),e._l(e.filteredTree,(function(t,a){return n("node",{key:a,attrs:{item:t,open:!!e.filterText,labelKey:e.labelKey,childrenKey:e.childrenKey},on:{input:e.onSelect}})}))],2)};a._withStripped=!0;var i=n(545);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={name:"TreeView",components:{Node:n(133).Z},props:{tree:{type:Array,default:function(){return[]}},filterFunc:Function,labelKey:{type:String,default:function(){return"name"}},childrenKey:{type:String,default:function(){return"children"}}},data:function(){return{filterText:null}},computed:{filteredTree:function(){return this.filterText?this.filter(this.tree,this.filterText,this.filterFunc||this.indexOfFilterFunc):this.tree}},methods:{onSelect:function(e){this.$emit("input",e)},trySelect:function(e){1===e.length&&(e[0][this.childrenKey]?this.trySelect(e[0][this.childrenKey]):this.onSelect(e[0]))},filter:function(e,t,n){for(var a=[],r=0;r<e.length;++r)if(e[r][this.childrenKey]){var s=this.filter(e[r][this.childrenKey],t,n);s.length&&a.push(o(o({},e[r]),{},(0,i.Z)({},this.childrenKey,s)))}else n(e[r],t)&&a.push(e[r]);return a},indexOfFilterFunc:function(e,t){return e[this.labelKey].toLowerCase().indexOf(t.toLowerCase())>-1}}},l=n(358),c=n(550),u=n(3),d=n.n(u),p=n(607);e=n.hmd(e);var v={};e.hot,e.hot;var f=(0,c.Z)(s,a,[],!1,(function(e){v.$style=l.Z.locals||l.Z,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return v.$style}})}),null,null);d()(f,{VTextField:p.Z}),f.options.__file="src/components/widgets/TreeView/index.vue";var g=f.exports},463:function(e,t,n){var a={"./angle-tool.svg":464,"./itkjs.svg":465,"./kitware-logo.svg":466,"./kitware.svg":467,"./length-tool.svg":468,"./paraview-glance-small.svg":469,"./paraview-glance.svg":470,"./text-tool.svg":471,"./vtkjs.svg":472};function i(e){return r(e).then((function(e){return n.t(e,1)}))}function r(e){return Promise.resolve().then((function(){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}))}i.keys=function(){return Object.keys(a)},i.resolve=r,i.id=463,e.exports=i},491:function(e,t,n){"use strict";e.exports=n.p+"7de480b60ea07530becf.jpg"},492:function(e,t,n){"use strict";e.exports=n.p+"08bbd2aa53dc8eac397c.jpg"},488:function(e,t,n){"use strict";e.exports=n.p+"fe1adfb1c2a6e035a806.jpg"},489:function(e,t,n){"use strict";e.exports=n.p+"132e309e274fe1882773.jpg"},496:function(e,t,n){"use strict";e.exports=n.p+"3a94be6267c413f24562.jpg"},490:function(e,t,n){"use strict";e.exports=n.p+"e046987d1271a351d59b.jpg"},493:function(e,t,n){"use strict";e.exports=n.p+"0bbce93537f566337c90.jpg"},494:function(e,t,n){"use strict";e.exports=n.p+"a7687b09d48560c2931e.jpg"},495:function(e,t,n){"use strict";e.exports=n.p+"286af999372ee982d6c8.jpg"},464:function(e,t,n){"use strict";e.exports=n.p+"5a39a3263089fab6ab24.svg"},465:function(e,t,n){"use strict";e.exports=n.p+"19b58d68d243be25286a.svg"},466:function(e,t,n){"use strict";e.exports=n.p+"cc5d8973c8e2af638075.svg"},467:function(e,t,n){"use strict";e.exports=n.p+"b830982e158e34f855df.svg"},468:function(e,t,n){"use strict";e.exports=n.p+"9b3eb3ca56e835ab0258.svg"},469:function(e,t,n){"use strict";e.exports=n.p+"731e62f43c121e953a77.svg"},470:function(e,t,n){"use strict";e.exports=n.p+"f1c3d9cead24b2badd18.svg"},471:function(e,t,n){"use strict";e.exports=n.p+"a3e7e875d73fd955cf5e.svg"},472:function(e,t,n){"use strict";e.exports=n.p+"033029be7d659ffab8c6.svg"},339:function(){}},function(e){return e.O(0,[1],(function(){return t=312,e(e.s=t);var t})),e.O()}])}));