(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TinyEmitter=require("./tiny-emitter"),MESSAGE_RESULT=0,MESSAGE_EVENT=1,RESULT_ERROR=0,RESULT_SUCCESS=1,DEFAULT_HANDLER="main",isPromise=function(e){return"object"===(void 0===e?"undefined":_typeof(e))&&"function"==typeof e.then&&"function"==typeof e.catch};function RegisterPromise(e){var t=_defineProperty({},DEFAULT_HANDLER,e),r=self.postMessage.bind(self),n=new(function(e){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,TinyEmitter),_createClass(n,[{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return r({eventName:e,args:n}),this}},{key:"emitLocally",value:function(e){for(var t,r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(t=_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"emit",this)).call.apply(t,[this,e].concat(o))}},{key:"operation",value:function(e,r){return t[e]=r,this}}]),n}()),o=function(e,r,n){var o=t[n||DEFAULT_HANDLER];if(!o)throw new Error("Not found handler for this request");return o(r,a.bind(null,e))},i=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];r([MESSAGE_RESULT,e,t,n],o)},a=function(e,t,n){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");r([MESSAGE_EVENT,e,t,n])};return self.addEventListener("message",function(e){var t=e.data;Array.isArray(t)?function(e,t,r){var n=function(t){t&&t instanceof TransferableResponse?i(e,RESULT_SUCCESS,t.payload,t.transferable):i(e,RESULT_SUCCESS,t)},a=function(t){i(e,RESULT_ERROR,{message:t.message,stack:t.stack})};try{var s=o(e,t,r);isPromise(s)?s.then(n).catch(a):n(s)}catch(e){a(e)}}.apply(void 0,_toConsumableArray(t)):t&&t.eventName&&n.emitLocally.apply(n,[t.eventName].concat(_toConsumableArray(t.args)))}),n}var TransferableResponse=function e(t,r){_classCallCheck(this,e),this.payload=t,this.transferable=r};module.exports=RegisterPromise,module.exports.TransferableResponse=TransferableResponse;

},{"./tiny-emitter":2}],2:[function(require,module,exports){
"use strict";var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var TinyEmitter=function(){function e(){_classCallCheck(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return _createClass(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=!0,s=!1,a=void 0;try{for(var l,o=this.__listeners[e][Symbol.iterator]();!(i=(l=o.next()).done);i=!0){l.value.apply(void 0,r)}}catch(e){s=!0,a=e}finally{try{!i&&o.return&&o.return()}finally{if(s)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter(function(e){return e!==t}):[],this}}]),e}();module.exports=TinyEmitter;

},{}],3:[function(require,module,exports){
"use strict";var Float32="float",Float64="double",SpacePrecisionType="double";module.exports={Float32:Float32,Float64:Float64,SpacePrecisionType:SpacePrecisionType};

},{}],4:[function(require,module,exports){
"use strict";var ImageType=require("./ImageType.js"),Matrix=require("./Matrix.js"),Image=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ImageType;this.imageType=i,this.name="Image";var e=i.dimension;this.origin=new Array(e),this.origin.fill(0),this.spacing=new Array(e),this.spacing.fill(1),this.direction=new Matrix(e,e),this.direction.setIdentity(),this.size=new Array(e),this.size.fill(0),this.data=null};module.exports=Image;

},{"./ImageType.js":6,"./Matrix.js":8}],5:[function(require,module,exports){
"use strict";var ImageIOIndex=["itkPNGImageIOJSBinding","itkMetaImageIOJSBinding","itkDCMTKImageIOJSBinding","itkTIFFImageIOJSBinding","itkNiftiImageIOJSBinding","itkJPEGImageIOJSBinding","itkNrrdImageIOJSBinding","itkVTKImageIOJSBinding","itkBMPImageIOJSBinding","itkHDF5ImageIOJSBinding","itkMINCImageIOJSBinding","itkMRCImageIOJSBinding","itkLSMImageIOJSBinding","itkMGHImageIOJSBinding","itkBioRadImageIOJSBinding","itkGiplImageIOJSBinding","itkGEAdwImageIOJSBinding","itkGE4ImageIOJSBinding","itkGE5ImageIOJSBinding","itkGDCMImageIOJSBinding","itkJSONImageIOJSBinding"];module.exports=ImageIOIndex;

},{}],6:[function(require,module,exports){
"use strict";var IntTypes=require("./IntTypes.js"),PixelTypes=require("./PixelTypes.js"),ImageType=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IntTypes.UInt8,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PixelTypes.Scalar,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.dimension=e,this.componentType=i,this.pixelType=t,this.components=s};module.exports=ImageType;

},{"./IntTypes.js":7,"./PixelTypes.js":10}],7:[function(require,module,exports){
"use strict";var Int8="int8_t",UInt8="uint8_t",Int16="int16_t",UInt16="uint16_t",Int32="int32_t",UInt32="uint32_t",Int64="int64_t",UInt64="uint64_t",SizeValueType=UInt64,IdentifierType=SizeValueType,IndexValueType=Int64,OffsetValueType=Int64;module.exports={Int8:Int8,UInt8:UInt8,Int16:Int16,UInt16:UInt16,Int32:Int32,UInt32:UInt32,Int64:Int64,UInt64:UInt64,SizeValueType:SizeValueType,IdentifierType:IdentifierType,IndexValueType:IndexValueType,OffsetValueType:OffsetValueType};

},{}],8:[function(require,module,exports){
"use strict";function Matrix(t,s){if(t instanceof Matrix){var i=t;this.rows=i.rows,this.columns=i.columns,this.data=i.data.slice()}else this.rows=t,this.columns=s,this.data=new Array(t*s),this.data.fill(0)}Matrix.prototype.setIdentity=function(){for(var t=0;t<this.rows;++t)for(var s=0;s<this.columns;++s)this.data[s+t*this.columns]=t===s?1:0},Matrix.prototype.setElement=function(t,s,i){this.data[s+t*this.columns]=i},Matrix.prototype.getElement=function(t,s){return this.data[s+t*this.columns]},module.exports=Matrix;

},{}],9:[function(require,module,exports){
"use strict";var mimeToIO=new Map([["image/jpeg","itkJPEGImageIOJSBinding"],["image/png","itkPNGImageIOJSBinding"],["image/tiff","itkTIFFImageIOJSBinding"],["image/x-ms-bmp","itkBMPImageIOJSBinding"],["image/x-bmp","itkBMPImageIOJSBinding"],["image/bmp","itkBMPImageIOJSBinding"],["application/dicom","itkDCMTKImageIOJSBinding"]]);module.exports=mimeToIO;

},{}],10:[function(require,module,exports){
"use strict";var Unknown=0,Scalar=1,RGB=2,RGBA=3,Offset=4,Vector=5,Point=6,CovariantVector=7,SymmetricSecondRankTensor=8,DiffusionTensor3D=9,Complex=10,FixedArray=11,Array=12,Matrix=13,VariableLengthVector=14,VariableSizeMatrix=15;module.exports={Unknown:Unknown,Scalar:Scalar,RGB:RGB,RGBA:RGBA,Offset:Offset,Vector:Vector,Point:Point,CovariantVector:CovariantVector,SymmetricSecondRankTensor:SymmetricSecondRankTensor,DiffusionTensor3D:DiffusionTensor3D,Complex:Complex,FixedArray:FixedArray,Array:Array,Matrix:Matrix,VariableLengthVector:VariableLengthVector,VariableSizeMatrix:VariableSizeMatrix};

},{}],11:[function(require,module,exports){
"use strict";var _register=_interopRequireDefault(require("webworker-promise/lib/register")),_MimeToImageIO=_interopRequireDefault(require("../MimeToImageIO")),_getFileExtension=_interopRequireDefault(require("../getFileExtension")),_extensionToImageIO=_interopRequireDefault(require("../extensionToImageIO")),_ImageIOIndex=_interopRequireDefault(require("../ImageIOIndex")),_loadEmscriptenModuleBrowser=_interopRequireDefault(require("../loadEmscriptenModuleBrowser")),_readImageEmscriptenFSFile=_interopRequireDefault(require("../readImageEmscriptenFSFile")),_writeImageEmscriptenFSFile=_interopRequireDefault(require("../writeImageEmscriptenFSFile")),_readImageEmscriptenFSDICOMFileSeries=_interopRequireDefault(require("../readImageEmscriptenFSDICOMFileSeries"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var ioToModule={},seriesReaderModule=null,readImage=function(e){var r=(0,_getFileExtension.default)(e.name),o=null;if(_MimeToImageIO.default.has(e.type))o=_MimeToImageIO.default.get(e.type);else if(_extensionToImageIO.default.has(r))o=_extensionToImageIO.default.get(r);else for(var a=0;a<_ImageIOIndex.default.length;++a){var i=null,n=_ImageIOIndex.default[a];n in ioToModule?i=ioToModule[n]:(ioToModule[n]=(0,_loadEmscriptenModuleBrowser.default)(e.config.itkModulesPath,"ImageIOs",n),i=ioToModule[n]);var t=new i.ITKImageIO,l=new Blob([e.data]),u=[{name:e.name,data:l}];i.mountBlobs("/work",u);var d="/work/"+e.name;if(t.SetFileName(d),t.CanReadFile(d)){o=n,i.unmountBlobs("/work");break}i.unmountBlobs("/work")}if(null===o)return ioToModule={},Promise.reject(new Error("Could not find IO for: "+e.name));var s=null;o in ioToModule?s=ioToModule[o]:(ioToModule[o]=(0,_loadEmscriptenModuleBrowser.default)(e.config.itkModulesPath,"ImageIOs",o),s=ioToModule[o]);var m=new Blob([e.data]),I=[{name:e.name,data:m}];s.mountBlobs("/work",I);var f="/work/"+e.name,g=(0,_readImageEmscriptenFSFile.default)(s,f);return s.unmountBlobs("/work"),new _register.default.TransferableResponse(g,[g.data.buffer])},writeImage=function(e){var r=(0,_getFileExtension.default)(e.name),o=null;if(_MimeToImageIO.default.has(e.type))o=_MimeToImageIO.default.get(e.type);else if(_extensionToImageIO.default.has(r))o=_extensionToImageIO.default.get(r);else for(var a=0;a<_ImageIOIndex.default.length;++a){var i=null,n=_ImageIOIndex.default[a];n in ioToModule?i=ioToModule[n]:(ioToModule[n]=(0,_loadEmscriptenModuleBrowser.default)(e.config.itkModulesPath,"ImageIOs",n),i=ioToModule[n]);var t=new i.ITKImageIO,l="/work/"+e.name;if(t.SetFileName(l),t.CanWriteFile(l)){o=n;break}}if(null===o)return ioToModule={},Promise.reject(new Error("Could not find IO for: "+e.name));var u=null;o in ioToModule?u=ioToModule[o]:(ioToModule[o]=(0,_loadEmscriptenModuleBrowser.default)(e.config.itkModulesPath,"ImageIOs",o),u=ioToModule[o]);var d="/work/"+e.name;u.mkdirs("/work"),(0,_writeImageEmscriptenFSFile.default)(u,e.useCompression,e.image,d);var s=u.readFile(d,{encoding:"binary"});return new _register.default.TransferableResponse(s.buffer,[s.buffer])},readDICOMImageSeries=function(e){seriesReaderModule||(seriesReaderModule=(0,_loadEmscriptenModuleBrowser.default)(e.config.itkModulesPath,"ImageIOs","itkDICOMImageSeriesReaderJSBinding"));var r=e.fileDescriptions.map(function(e){var r=new Blob([e.data]);return{name:e.name,data:r}});seriesReaderModule.mountBlobs("/work",r);var o="/work/"+e.fileDescriptions[0].name,a=(0,_readImageEmscriptenFSDICOMFileSeries.default)(seriesReaderModule,"/work",o);return seriesReaderModule.unmountBlobs("/work"),new _register.default.TransferableResponse(a,[a.data.buffer])};(0,_register.default)(function(e){return"readImage"===e.operation?Promise.resolve(readImage(e)):"writeImage"===e.operation?Promise.resolve(writeImage(e)):"readDICOMImageSeries"===e.operation?Promise.resolve(readDICOMImageSeries(e)):Promise.resolve(new Error("Unknown worker operation"))});

},{"../ImageIOIndex":5,"../MimeToImageIO":9,"../extensionToImageIO":12,"../getFileExtension":13,"../loadEmscriptenModuleBrowser":19,"../readImageEmscriptenFSDICOMFileSeries":20,"../readImageEmscriptenFSFile":21,"../writeImageEmscriptenFSFile":22,"webworker-promise/lib/register":1}],12:[function(require,module,exports){
"use strict";var extensionToIO=new Map([["bmp","itkBMPImageIOJSBinding"],["BMP","itkBMPImageIOJSBinding"],["dcm","itkDCMTKImageIOJSBinding"],["DCM","itkDCMTKImageIOJSBinding"],["gipl","itkGiplImageIOJSBinding"],["gipl.gz","itkGiplImageIOJSBinding"],["hdf5","itkHDF5ImageIOJSBinding"],["jpg","itkJPEGImageIOJSBinding"],["JPG","itkJPEGImageIOJSBinding"],["jpeg","itkJPEGImageIOJSBinding"],["JPEG","itkJPEGImageIOJSBinding"],["json","itkJSONImageIOJSBinding"],["lsm","itkLSMImageIOJSBinding"],["mnc","itkMINCImageIOJSBinding"],["MNC","itkMINCImageIOJSBinding"],["mnc.gz","itkMINCImageIOJSBinding"],["MNC.GZ","itkMINCImageIOJSBinding"],["mnc2","itkMINCImageIOJSBinding"],["MNC2","itkMINCImageIOJSBinding"],["mgh","itkMGHImageIOJSBinding"],["mgz","itkMGHImageIOJSBinding"],["mgh.gz","itkMGHImageIOJSBinding"],["mha","itkMetaImageIOJSBinding"],["mhd","itkMetaImageIOJSBinding"],["mrc","itkMRCImageIOJSBinding"],["nia","itkNiftiImageIOJSBinding"],["nii","itkNiftiImageIOJSBinding"],["nii.gz","itkNiftiImageIOJSBinding"],["hdr","itkNiftiImageIOJSBinding"],["nrrd","itkNrrdImageIOJSBinding"],["NRRD","itkNrrdImageIOJSBinding"],["nhdr","itkNrrdImageIOJSBinding"],["NHDR","itkNrrdImageIOJSBinding"],["png","itkPNGImageIOJSBinding"],["PNG","itkPNGImageIOJSBinding"],["pic","itkBioRadImageIOJSBinding"],["PIC","itkBioRadImageIOJSBinding"],["tif","itkTIFFImageIOJSBinding"],["TIF","itkTIFFImageIOJSBinding"],["tiff","itkTIFFImageIOJSBinding"],["TIFF","itkTIFFImageIOJSBinding"],["vtk","itkVTKImageIOJSBinding"],["VTK","itkVTKImageIOJSBinding"]]);module.exports=extensionToIO;

},{}],13:[function(require,module,exports){
"use strict";var getFileExtension=function(e){var t=e.slice(2+(e.lastIndexOf(".")-1>>>0));if("gz"===t.toLowerCase()){var s=e.slice(0,-3).lastIndexOf(".");t=e.slice(2+(s-1>>>0))}return t};module.exports=getFileExtension;

},{}],14:[function(require,module,exports){
"use strict";var getMatrixElement=function(t,e,r){return t.data[r+e*t.columns]};module.exports=getMatrixElement;

},{}],15:[function(require,module,exports){
"use strict";var IntTypes=require("./IntTypes.js"),FloatTypes=require("./FloatTypes.js"),imageIOComponentToJSComponent=function(e,n){var t=null;switch(n){case e.IOComponentType.UCHAR:t=IntTypes.UInt8;break;case e.IOComponentType.CHAR:t=IntTypes.Int8;break;case e.IOComponentType.USHORT:t=IntTypes.UInt16;break;case e.IOComponentType.SHORT:t=IntTypes.Int16;break;case e.IOComponentType.UINT:t=IntTypes.UInt32;break;case e.IOComponentType.INT:t=IntTypes.Int32;break;case e.IOComponentType.ULONG:t=IntTypes.UInt64;break;case e.IOComponentType.LONG:t=IntTypes.Int64;break;case e.IOComponentType.ULONGLONG:t=IntTypes.UInt64;break;case e.IOComponentType.LONGLONG:t=IntTypes.Int64;break;case e.IOComponentType.FLOAT:t=FloatTypes.Float32;break;case e.IOComponentType.DOUBLE:t=FloatTypes.Float64;break;default:throw new Error("Unknown IO component type")}return t};module.exports=imageIOComponentToJSComponent;

},{"./FloatTypes.js":3,"./IntTypes.js":7}],16:[function(require,module,exports){
"use strict";var PixelTypes=require("./PixelTypes.js"),imageIOPixelTypeToJSPixelType=function(e,i){var T=null;switch(i){case e.IOPixelType.UNKNOWNPIXELTYPE:T=PixelTypes.Unknown;break;case e.IOPixelType.SCALAR:T=PixelTypes.Scalar;break;case e.IOPixelType.RGB:T=PixelTypes.RGB;break;case e.IOPixelType.RGBA:T=PixelTypes.RGBA;break;case e.IOPixelType.OFFSET:T=PixelTypes.Offset;break;case e.IOPixelType.VECTOR:T=PixelTypes.Vector;break;case e.IOPixelType.POINT:T=PixelTypes.Point;break;case e.IOPixelType.COVARIANTVECTOR:T=PixelTypes.CovariantVector;break;case e.IOPixelType.SYMMETRICSECONDRANKTENSOR:T=PixelTypes.SymmetricSecondRankTensor;break;case e.IOPixelType.DIFFUSIONTENSOR3D:T=PixelTypes.DiffusionTensor3D;break;case e.IOPixelType.COMPLEX:T=PixelTypes.Complex;break;case e.IOPixelType.FIXEDARRAY:T=PixelTypes.FixedArray;break;case e.IOPixelType.MATRIX:T=PixelTypes.Matrix;break;default:throw new Error("Unknown IO pixel type")}return T};module.exports=imageIOPixelTypeToJSPixelType;

},{"./PixelTypes.js":10}],17:[function(require,module,exports){
"use strict";var IntTypes=require("./IntTypes.js"),FloatTypes=require("./FloatTypes.js"),imageJSComponentToIOComponent=function(e,n){var t=null;switch(n){case IntTypes.UInt8:t=e.IOComponentType.UCHAR;break;case IntTypes.Int8:t=e.IOComponentType.CHAR;break;case IntTypes.UInt16:t=e.IOComponentType.USHORT;break;case IntTypes.Int16:t=e.IOComponentType.SHORT;break;case IntTypes.UInt32:t=e.IOComponentType.UINT;break;case IntTypes.Int32:t=e.IOComponentType.INT;break;case IntTypes.UInt64:t=e.IOComponentType.ULONGLONG;break;case IntTypes.Int64:t=e.IOComponentType.LONGLONG;break;case FloatTypes.Float32:t=e.IOComponentType.FLOAT;break;case FloatTypes.Float64:t=e.IOComponentType.DOUBLE;break;default:throw new Error("Unknown IO component type")}return t};module.exports=imageJSComponentToIOComponent;

},{"./FloatTypes.js":3,"./IntTypes.js":7}],18:[function(require,module,exports){
"use strict";var PixelTypes=require("./PixelTypes.js"),imageJSPixelTypeToIOPixelType=function(e,i){var T=null;switch(i){case PixelTypes.Unknown:T=e.IOPixelType.UNKNOWNPIXELTYPE;break;case PixelTypes.Scalar:T=e.IOPixelType.SCALAR;break;case PixelTypes.RGB:T=e.IOPixelType.RGB;break;case PixelTypes.RGBA:T=e.IOPixelType.RGBA;break;case PixelTypes.Offset:T=e.IOPixelType.OFFSET;break;case PixelTypes.Vector:T=e.IOPixelType.VECTOR;break;case PixelTypes.Point:T=e.IOPixelType.POINT;break;case PixelTypes.CovariantVector:T=e.IOPixelType.COVARIANTVECTOR;break;case PixelTypes.SymmetricSecondRankTensor:T=e.IOPixelType.SYMMETRICSECONDRANKTENSOR;break;case PixelTypes.DiffusionTensor3D:T=e.IOPixelType.DIFFUSIONTENSOR3D;break;case PixelTypes.Complex:T=e.IOPixelType.COMPLEX;break;case PixelTypes.FixedArray:T=e.IOPixelType.FIXEDARRAY;break;case PixelTypes.Matrix:T=e.IOPixelType.MATRIX;break;default:throw new Error("Unknown IO pixel type")}return T};module.exports=imageJSPixelTypeToIOPixelType;

},{"./PixelTypes.js":10}],19:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var loadEmscriptenModule=function(e,t,o){var r=e;"/"===e[0]||e.startsWith("http")||(r="..");var n=r+"/"+t+"/"+o+".js";return"object"===("undefined"==typeof WebAssembly?"undefined":_typeof(WebAssembly))&&"function"==typeof WebAssembly.Memory&&(n=r+"/"+t+"/"+o+"Wasm.js"),importScripts(n),Module},_default=loadEmscriptenModule;exports.default=_default;

},{}],20:[function(require,module,exports){
"use strict";var Image=require("./Image.js"),ImageType=require("./ImageType.js"),imageIOComponentToJSComponent=require("./imageIOComponentToJSComponent.js"),imageIOPixelTypeToJSPixelType=require("./imageIOPixelTypeToJSPixelType.js"),readImageEmscriptenFSDICOMFileSeries=function(e,i,r){var o=new e.ITKDICOMImageSeriesReader;if(!o.CanReadTestFile(r))throw new Error("Could not read file: "+r);o.SetTestFileName(r),o.ReadTestImageInformation();var t=new ImageType(3),n=o.GetIOComponentType();t.componentType=imageIOComponentToJSComponent(e,n);var a=o.GetIOPixelType();t.pixelType=imageIOPixelTypeToJSPixelType(e,a),t.components=o.GetNumberOfComponents();var m=new Image(t);if(o.SetIOComponentType(n),o.SetIOPixelType(a),o.SetDirectory(i),o.Read())throw new Error("Could not read series");for(var p=0;p<3;++p){m.spacing[p]=o.GetSpacing(p),m.size[p]=o.GetSize(p),m.origin[p]=o.GetOrigin(p);for(var I=0;I<3;++I)m.direction.setElement(p,I,o.GetDirection(p,I))}return m.data=o.GetPixelBufferData(),m};module.exports=readImageEmscriptenFSDICOMFileSeries;

},{"./Image.js":4,"./ImageType.js":6,"./imageIOComponentToJSComponent.js":15,"./imageIOPixelTypeToJSPixelType.js":16}],21:[function(require,module,exports){
"use strict";var Image=require("./Image.js"),ImageType=require("./ImageType.js"),Matrix=require("./Matrix.js"),imageIOComponentToJSComponent=require("./imageIOComponentToJSComponent.js"),imageIOPixelTypeToJSPixelType=require("./imageIOPixelTypeToJSPixelType.js"),readImageEmscriptenFSFile=function(e,i){var n=new e.ITKImageIO;if(n.SetFileName(i),!n.CanReadFile(i))throw new Error("Could not read file: "+i);n.ReadImageInformation();var o=n.GetNumberOfDimensions(),r=new ImageType(o),t=n.GetComponentType();r.componentType=imageIOComponentToJSComponent(e,t);var a=n.GetPixelType();r.pixelType=imageIOPixelTypeToJSPixelType(e,a),r.components=n.GetNumberOfComponents();for(var m=new Image(r),p=new Matrix(o,o),s=0;s<o;++s)for(var g=n.GetDirection(s),T=0;T<o;++T)p.setElement(T,s,g.get(T));for(var l=0;l<m.imageType.dimension;++l)if(l<o){m.size[l]=n.GetDimensions(l),m.spacing[l]=n.GetSpacing(l),m.origin[l]=n.GetOrigin(l);for(var I=0;I<m.imageType.dimension;++I)if(I<o){var d=p.getElement(I,l);m.direction.setElement(I,l,d)}else m.direction.setElement(I,l,0)}else m.size[l]=0,m.spacing[l]=1,m.origin[l]=0,m.direction.setIdentity();for(var c=0;c<m.imageType.dimension;++c)if(m.spacing[c]<0){m.spacing[c]=-m.spacing[c];for(var y=0;y<m.imageType.dimension;++y)m.direction.setElement(c,y,-1*m.direction.getElement(c,y))}return m.data=n.Read(),m};module.exports=readImageEmscriptenFSFile;

},{"./Image.js":4,"./ImageType.js":6,"./Matrix.js":8,"./imageIOComponentToJSComponent.js":15,"./imageIOPixelTypeToJSPixelType.js":16}],22:[function(require,module,exports){
"use strict";var getMatrixElement=require("./getMatrixElement.js"),imageJSComponentToIOComponent=require("./imageJSComponentToIOComponent.js"),imageJSPixelTypeToIOPixelType=require("./imageJSPixelTypeToIOPixelType.js"),writeImageEmscriptenFSFile=function(e,i,t,n){var r=new e.ITKImageIO;if(r.SetFileName(n),!r.CanWriteFile(n))throw new Error("Could not write file: "+n);var o=t.imageType.dimension;r.SetNumberOfDimensions(o);var a=imageJSComponentToIOComponent(e,t.imageType.componentType);r.SetComponentType(a);var m=imageJSPixelTypeToIOPixelType(e,t.imageType.pixelType);r.SetPixelType(m),r.SetNumberOfComponents(t.imageType.components);for(var p=0;p<o;++p){r.SetDimensions(p,t.size[p]),r.SetSpacing(p,t.spacing[p]),r.SetOrigin(p,t.origin[p]);var s=new e.AxisDirectionType;s.resize(o,0);for(var T=0;T<o;++T)s.set(T,getMatrixElement(t.direction,T,p));r.SetDirection(p,s)}r.SetUseCompression(i);var g=t.data.length*t.data.BYTES_PER_ELEMENT,l=e._malloc(g),S=new Uint8Array(e.HEAPU8.buffer,l,g);S.set(new Uint8Array(t.data.buffer)),r.Write(S.byteOffset),e._free(S.byteOffset)};module.exports=writeImageEmscriptenFSFile;

},{"./getMatrixElement.js":14,"./imageJSComponentToIOComponent.js":17,"./imageJSPixelTypeToIOPixelType.js":18}]},{},[11]);
